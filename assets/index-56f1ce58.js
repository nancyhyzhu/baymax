var j3=Object.defineProperty;var D3=(t,e,n)=>e in t?j3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pn=(t,e,n)=>(D3(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vk={exports:{}},Om={},Fk={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mf=Symbol.for("react.element"),$3=Symbol.for("react.portal"),L3=Symbol.for("react.fragment"),V3=Symbol.for("react.strict_mode"),F3=Symbol.for("react.profiler"),B3=Symbol.for("react.provider"),U3=Symbol.for("react.context"),z3=Symbol.for("react.forward_ref"),H3=Symbol.for("react.suspense"),W3=Symbol.for("react.memo"),q3=Symbol.for("react.lazy"),sS=Symbol.iterator;function G3(t){return t===null||typeof t!="object"?null:(t=sS&&t[sS]||t["@@iterator"],typeof t=="function"?t:null)}var Bk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uk=Object.assign,zk={};function Ol(t,e,n){this.props=t,this.context=e,this.refs=zk,this.updater=n||Bk}Ol.prototype.isReactComponent={};Ol.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ol.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Hk(){}Hk.prototype=Ol.prototype;function Zw(t,e,n){this.props=t,this.context=e,this.refs=zk,this.updater=n||Bk}var eb=Zw.prototype=new Hk;eb.constructor=Zw;Uk(eb,Ol.prototype);eb.isPureReactComponent=!0;var lS=Array.isArray,Wk=Object.prototype.hasOwnProperty,tb={current:null},qk={key:!0,ref:!0,__self:!0,__source:!0};function Gk(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)Wk.call(e,r)&&!qk.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Mf,type:t,key:o,ref:a,props:i,_owner:tb.current}}function K3(t,e){return{$$typeof:Mf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mf}function Y3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var uS=/\/+/g;function Py(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Y3(""+t.key):e.toString(36)}function fd(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Mf:case $3:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Py(a,0):r,lS(i)?(n="",t!=null&&(n=t.replace(uS,"$&/")+"/"),fd(i,e,n,"",function(u){return u})):i!=null&&(nb(i)&&(i=K3(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(uS,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",lS(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+Py(o,s);a+=fd(o,e,n,l,i)}else if(l=G3(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+Py(o,s++),a+=fd(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Sh(t,e,n){if(t==null)return t;var r=[],i=0;return fd(t,r,"","",function(o){return e.call(n,o,i++)}),r}function X3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hn={current:null},hd={transition:null},Q3={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:hd,ReactCurrentOwner:tb};function Kk(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:Sh,forEach:function(t,e,n){Sh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sh(t,function(){e++}),e},toArray:function(t){return Sh(t,function(e){return e})||[]},only:function(t){if(!nb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=Ol;we.Fragment=L3;we.Profiler=F3;we.PureComponent=Zw;we.StrictMode=V3;we.Suspense=H3;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q3;we.act=Kk;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Uk({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=tb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)Wk.call(e,l)&&!qk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Mf,type:t.type,key:i,ref:o,props:r,_owner:a}};we.createContext=function(t){return t={$$typeof:U3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:B3,_context:t},t.Consumer=t};we.createElement=Gk;we.createFactory=function(t){var e=Gk.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:z3,render:t}};we.isValidElement=nb;we.lazy=function(t){return{$$typeof:q3,_payload:{_status:-1,_result:t},_init:X3}};we.memo=function(t,e){return{$$typeof:W3,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=hd.transition;hd.transition={};try{t()}finally{hd.transition=e}};we.unstable_act=Kk;we.useCallback=function(t,e){return hn.current.useCallback(t,e)};we.useContext=function(t){return hn.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return hn.current.useDeferredValue(t)};we.useEffect=function(t,e){return hn.current.useEffect(t,e)};we.useId=function(){return hn.current.useId()};we.useImperativeHandle=function(t,e,n){return hn.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return hn.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return hn.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return hn.current.useMemo(t,e)};we.useReducer=function(t,e,n){return hn.current.useReducer(t,e,n)};we.useRef=function(t){return hn.current.useRef(t)};we.useState=function(t){return hn.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return hn.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return hn.current.useTransition()};we.version="18.3.1";Fk.exports=we;var j=Fk.exports;const V=$e(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J3=j,Z3=Symbol.for("react.element"),eV=Symbol.for("react.fragment"),tV=Object.prototype.hasOwnProperty,nV=J3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rV={key:!0,ref:!0,__self:!0,__source:!0};function Yk(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)tV.call(e,r)&&!rV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Z3,type:t,key:o,ref:a,props:i,_owner:nV.current}}Om.Fragment=eV;Om.jsx=Yk;Om.jsxs=Yk;Vk.exports=Om;var _=Vk.exports,Yv={},Xk={exports:{}},$n={},Qk={exports:{}},Jk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,B){var W=D.length;D.push(B);e:for(;0<W;){var Q=W-1>>>1,X=D[Q];if(0<i(X,B))D[Q]=B,D[W]=X,W=Q;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var B=D[0],W=D.pop();if(W!==B){D[0]=W;e:for(var Q=0,X=D.length,re=X>>>1;Q<re;){var ye=2*(Q+1)-1,Ne=D[ye],Be=ye+1,Gt=D[Be];if(0>i(Ne,W))Be<X&&0>i(Gt,Ne)?(D[Q]=Gt,D[Be]=W,Q=Be):(D[Q]=Ne,D[ye]=W,Q=ye);else if(Be<X&&0>i(Gt,W))D[Q]=Gt,D[Be]=W,Q=Be;else break e}}return B}function i(D,B){var W=D.sortIndex-B.sortIndex;return W!==0?W:D.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,d=3,p=!1,m=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=D)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function O(D){if(g=!1,x(D),!m)if(n(l)!==null)m=!0,U(S);else{var B=n(u);B!==null&&F(O,B.startTime-D)}}function S(D,B){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var W=d;try{for(x(B),f=n(l);f!==null&&(!(f.expirationTime>B)||D&&!R());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,d=f.priorityLevel;var X=Q(f.expirationTime<=B);B=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(l)&&r(l),x(B)}else r(l);f=n(l)}if(f!==null)var re=!0;else{var ye=n(u);ye!==null&&F(O,ye.startTime-B),re=!1}return re}finally{f=null,d=W,p=!1}}var A=!1,E=null,T=-1,P=5,N=-1;function R(){return!(t.unstable_now()-N<P)}function C(){if(E!==null){var D=t.unstable_now();N=D;var B=!0;try{B=E(!0,D)}finally{B?k():(A=!1,E=null)}}else A=!1}var k;if(typeof v=="function")k=function(){v(C)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,L=$.port2;$.port1.onmessage=C,k=function(){L.postMessage(null)}}else k=function(){b(C,0)};function U(D){E=D,A||(A=!0,k())}function F(D,B){T=b(function(){D(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,U(S))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var W=d;d=B;try{return D()}finally{d=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=d;d=D;try{return B()}finally{d=W}},t.unstable_scheduleCallback=function(D,B,W){var Q=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Q+W:Q):W=Q,D){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=W+X,D={id:c++,callback:B,priorityLevel:D,startTime:W,expirationTime:X,sortIndex:-1},W>Q?(D.sortIndex=W,e(u,D),n(l)===null&&D===n(u)&&(g?(y(T),T=-1):g=!0,F(O,W-Q))):(D.sortIndex=X,e(l,D),m||p||(m=!0,U(S))),D},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(D){var B=d;return function(){var W=d;d=B;try{return D.apply(this,arguments)}finally{d=W}}}})(Jk);Qk.exports=Jk;var iV=Qk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oV=j,jn=iV;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zk=new Set,Ec={};function Fa(t,e){qs(t,e),qs(t+"Capture",e)}function qs(t,e){for(Ec[t]=e,t=0;t<e.length;t++)Zk.add(e[t])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xv=Object.prototype.hasOwnProperty,aV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cS={},fS={};function sV(t){return Xv.call(fS,t)?!0:Xv.call(cS,t)?!1:aV.test(t)?fS[t]=!0:(cS[t]=!0,!1)}function lV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uV(t,e,n,r){if(e===null||typeof e>"u"||lV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var rb=/[\-:]([a-z])/g;function ib(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rb,ib);Wt[e]=new dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rb,ib);Wt[e]=new dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rb,ib);Wt[e]=new dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new dn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ob(t,e,n,r){var i=Wt.hasOwnProperty(e)?Wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uV(e,n,i,r)&&(n=null),r||i===null?sV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ni=oV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Th=Symbol.for("react.element"),hs=Symbol.for("react.portal"),ds=Symbol.for("react.fragment"),ab=Symbol.for("react.strict_mode"),Qv=Symbol.for("react.profiler"),eR=Symbol.for("react.provider"),tR=Symbol.for("react.context"),sb=Symbol.for("react.forward_ref"),Jv=Symbol.for("react.suspense"),Zv=Symbol.for("react.suspense_list"),lb=Symbol.for("react.memo"),qi=Symbol.for("react.lazy"),nR=Symbol.for("react.offscreen"),hS=Symbol.iterator;function wu(t){return t===null||typeof t!="object"?null:(t=hS&&t[hS]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,Cy;function zu(t){if(Cy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cy=e&&e[1]||""}return`
`+Cy+t}var Oy=!1;function ky(t,e){if(!t||Oy)return"";Oy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{Oy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zu(t):""}function cV(t){switch(t.tag){case 5:return zu(t.type);case 16:return zu("Lazy");case 13:return zu("Suspense");case 19:return zu("SuspenseList");case 0:case 2:case 15:return t=ky(t.type,!1),t;case 11:return t=ky(t.type.render,!1),t;case 1:return t=ky(t.type,!0),t;default:return""}}function e0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ds:return"Fragment";case hs:return"Portal";case Qv:return"Profiler";case ab:return"StrictMode";case Jv:return"Suspense";case Zv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tR:return(t.displayName||"Context")+".Consumer";case eR:return(t._context.displayName||"Context")+".Provider";case sb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lb:return e=t.displayName||null,e!==null?e:e0(t.type)||"Memo";case qi:e=t._payload,t=t._init;try{return e0(t(e))}catch{}}return null}function fV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return e0(e);case 8:return e===ab?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function So(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hV(t){var e=rR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ah(t){t._valueTracker||(t._valueTracker=hV(t))}function iR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Dd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function t0(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=So(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oR(t,e){e=e.checked,e!=null&&ob(t,"checked",e,!1)}function n0(t,e){oR(t,e);var n=So(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?r0(t,e.type,n):e.hasOwnProperty("defaultValue")&&r0(t,e.type,So(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function r0(t,e,n){(e!=="number"||Dd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Hu=Array.isArray;function Cs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+So(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function i0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Hu(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:So(n)}}function aR(t,e){var n=So(e.value),r=So(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function o0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ih,lR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ih=Ih||document.createElement("div"),Ih.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ih.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Sc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var tc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dV=["Webkit","ms","Moz","O"];Object.keys(tc).forEach(function(t){dV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tc[e]=tc[t]})});function uR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||tc.hasOwnProperty(t)&&tc[t]?(""+e).trim():e+"px"}function cR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=uR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var pV=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function a0(t,e){if(e){if(pV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function s0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var l0=null;function ub(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var u0=null,Os=null,ks=null;function yS(t){if(t=$f(t)){if(typeof u0!="function")throw Error(J(280));var e=t.stateNode;e&&(e=jm(e),u0(t.stateNode,t.type,e))}}function fR(t){Os?ks?ks.push(t):ks=[t]:Os=t}function hR(){if(Os){var t=Os,e=ks;if(ks=Os=null,yS(t),e)for(t=0;t<e.length;t++)yS(e[t])}}function dR(t,e){return t(e)}function pR(){}var Ry=!1;function mR(t,e,n){if(Ry)return t(e,n);Ry=!0;try{return dR(t,e,n)}finally{Ry=!1,(Os!==null||ks!==null)&&(pR(),hR())}}function Tc(t,e){var n=t.stateNode;if(n===null)return null;var r=jm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var c0=!1;if(bi)try{var bu={};Object.defineProperty(bu,"passive",{get:function(){c0=!0}}),window.addEventListener("test",bu,bu),window.removeEventListener("test",bu,bu)}catch{c0=!1}function mV(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var nc=!1,$d=null,Ld=!1,f0=null,gV={onError:function(t){nc=!0,$d=t}};function yV(t,e,n,r,i,o,a,s,l){nc=!1,$d=null,mV.apply(gV,arguments)}function vV(t,e,n,r,i,o,a,s,l){if(yV.apply(this,arguments),nc){if(nc){var u=$d;nc=!1,$d=null}else throw Error(J(198));Ld||(Ld=!0,f0=u)}}function Ba(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vS(t){if(Ba(t)!==t)throw Error(J(188))}function _V(t){var e=t.alternate;if(!e){if(e=Ba(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return vS(i),t;if(o===r)return vS(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function yR(t){return t=_V(t),t!==null?vR(t):null}function vR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vR(t);if(e!==null)return e;t=t.sibling}return null}var _R=jn.unstable_scheduleCallback,_S=jn.unstable_cancelCallback,wV=jn.unstable_shouldYield,bV=jn.unstable_requestPaint,dt=jn.unstable_now,xV=jn.unstable_getCurrentPriorityLevel,cb=jn.unstable_ImmediatePriority,wR=jn.unstable_UserBlockingPriority,Vd=jn.unstable_NormalPriority,EV=jn.unstable_LowPriority,bR=jn.unstable_IdlePriority,km=null,Ur=null;function SV(t){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(km,t,void 0,(t.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:IV,TV=Math.log,AV=Math.LN2;function IV(t){return t>>>=0,t===0?32:31-(TV(t)/AV|0)|0}var Ph=64,Ch=4194304;function Wu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Wu(s):(o&=a,o!==0&&(r=Wu(o)))}else a=n&~i,a!==0?r=Wu(a):o!==0&&(r=Wu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_r(e),i=1<<n,r|=t[n],e&=~i;return r}function PV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-_r(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=PV(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function h0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xR(){var t=Ph;return Ph<<=1,!(Ph&4194240)&&(Ph=64),t}function Ny(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_r(e),t[e]=n}function OV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_r(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function fb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_r(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ke=0;function ER(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var SR,hb,TR,AR,IR,d0=!1,Oh=[],lo=null,uo=null,co=null,Ac=new Map,Ic=new Map,Qi=[],kV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wS(t,e){switch(t){case"focusin":case"focusout":lo=null;break;case"dragenter":case"dragleave":uo=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":Ac.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ic.delete(e.pointerId)}}function xu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=$f(e),e!==null&&hb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function RV(t,e,n,r,i){switch(e){case"focusin":return lo=xu(lo,t,e,n,r,i),!0;case"dragenter":return uo=xu(uo,t,e,n,r,i),!0;case"mouseover":return co=xu(co,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ac.set(o,xu(Ac.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ic.set(o,xu(Ic.get(o)||null,t,e,n,r,i)),!0}return!1}function PR(t){var e=sa(t.target);if(e!==null){var n=Ba(e);if(n!==null){if(e=n.tag,e===13){if(e=gR(n),e!==null){t.blockedOn=e,IR(t.priority,function(){TR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=p0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);l0=r,n.target.dispatchEvent(r),l0=null}else return e=$f(n),e!==null&&hb(e),t.blockedOn=n,!1;e.shift()}return!0}function bS(t,e,n){dd(t)&&n.delete(e)}function NV(){d0=!1,lo!==null&&dd(lo)&&(lo=null),uo!==null&&dd(uo)&&(uo=null),co!==null&&dd(co)&&(co=null),Ac.forEach(bS),Ic.forEach(bS)}function Eu(t,e){t.blockedOn===e&&(t.blockedOn=null,d0||(d0=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,NV)))}function Pc(t){function e(i){return Eu(i,t)}if(0<Oh.length){Eu(Oh[0],t);for(var n=1;n<Oh.length;n++){var r=Oh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(lo!==null&&Eu(lo,t),uo!==null&&Eu(uo,t),co!==null&&Eu(co,t),Ac.forEach(e),Ic.forEach(e),n=0;n<Qi.length;n++)r=Qi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qi.length&&(n=Qi[0],n.blockedOn===null);)PR(n),n.blockedOn===null&&Qi.shift()}var Rs=Ni.ReactCurrentBatchConfig,Bd=!0;function MV(t,e,n,r){var i=ke,o=Rs.transition;Rs.transition=null;try{ke=1,db(t,e,n,r)}finally{ke=i,Rs.transition=o}}function jV(t,e,n,r){var i=ke,o=Rs.transition;Rs.transition=null;try{ke=4,db(t,e,n,r)}finally{ke=i,Rs.transition=o}}function db(t,e,n,r){if(Bd){var i=p0(t,e,n,r);if(i===null)zy(t,e,r,Ud,n),wS(t,r);else if(RV(i,t,e,n,r))r.stopPropagation();else if(wS(t,r),e&4&&-1<kV.indexOf(t)){for(;i!==null;){var o=$f(i);if(o!==null&&SR(o),o=p0(t,e,n,r),o===null&&zy(t,e,r,Ud,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else zy(t,e,r,null,n)}}var Ud=null;function p0(t,e,n,r){if(Ud=null,t=ub(r),t=sa(t),t!==null)if(e=Ba(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ud=t,null}function CR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xV()){case cb:return 1;case wR:return 4;case Vd:case EV:return 16;case bR:return 536870912;default:return 16}default:return 16}}var io=null,pb=null,pd=null;function OR(){if(pd)return pd;var t,e=pb,n=e.length,r,i="value"in io?io.value:io.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return pd=i.slice(t,1<r?1-r:void 0)}function md(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kh(){return!0}function xS(){return!1}function Ln(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?kh:xS,this.isPropagationStopped=xS,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kh)},persist:function(){},isPersistent:kh}),e}var kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mb=Ln(kl),Df=tt({},kl,{view:0,detail:0}),DV=Ln(Df),My,jy,Su,Rm=tt({},Df,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Su&&(Su&&t.type==="mousemove"?(My=t.screenX-Su.screenX,jy=t.screenY-Su.screenY):jy=My=0,Su=t),My)},movementY:function(t){return"movementY"in t?t.movementY:jy}}),ES=Ln(Rm),$V=tt({},Rm,{dataTransfer:0}),LV=Ln($V),VV=tt({},Df,{relatedTarget:0}),Dy=Ln(VV),FV=tt({},kl,{animationName:0,elapsedTime:0,pseudoElement:0}),BV=Ln(FV),UV=tt({},kl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zV=Ln(UV),HV=tt({},kl,{data:0}),SS=Ln(HV),WV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GV[t])?!!e[t]:!1}function gb(){return KV}var YV=tt({},Df,{key:function(t){if(t.key){var e=WV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=md(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gb,charCode:function(t){return t.type==="keypress"?md(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?md(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XV=Ln(YV),QV=tt({},Rm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TS=Ln(QV),JV=tt({},Df,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gb}),ZV=Ln(JV),e5=tt({},kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),t5=Ln(e5),n5=tt({},Rm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),r5=Ln(n5),i5=[9,13,27,32],yb=bi&&"CompositionEvent"in window,rc=null;bi&&"documentMode"in document&&(rc=document.documentMode);var o5=bi&&"TextEvent"in window&&!rc,kR=bi&&(!yb||rc&&8<rc&&11>=rc),AS=String.fromCharCode(32),IS=!1;function RR(t,e){switch(t){case"keyup":return i5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ps=!1;function a5(t,e){switch(t){case"compositionend":return NR(e);case"keypress":return e.which!==32?null:(IS=!0,AS);case"textInput":return t=e.data,t===AS&&IS?null:t;default:return null}}function s5(t,e){if(ps)return t==="compositionend"||!yb&&RR(t,e)?(t=OR(),pd=pb=io=null,ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kR&&e.locale!=="ko"?null:e.data;default:return null}}var l5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!l5[t.type]:e==="textarea"}function MR(t,e,n,r){fR(r),e=zd(e,"onChange"),0<e.length&&(n=new mb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ic=null,Cc=null;function u5(t){WR(t,0)}function Nm(t){var e=ys(t);if(iR(e))return t}function c5(t,e){if(t==="change")return e}var jR=!1;if(bi){var $y;if(bi){var Ly="oninput"in document;if(!Ly){var CS=document.createElement("div");CS.setAttribute("oninput","return;"),Ly=typeof CS.oninput=="function"}$y=Ly}else $y=!1;jR=$y&&(!document.documentMode||9<document.documentMode)}function OS(){ic&&(ic.detachEvent("onpropertychange",DR),Cc=ic=null)}function DR(t){if(t.propertyName==="value"&&Nm(Cc)){var e=[];MR(e,Cc,t,ub(t)),mR(u5,e)}}function f5(t,e,n){t==="focusin"?(OS(),ic=e,Cc=n,ic.attachEvent("onpropertychange",DR)):t==="focusout"&&OS()}function h5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nm(Cc)}function d5(t,e){if(t==="click")return Nm(e)}function p5(t,e){if(t==="input"||t==="change")return Nm(e)}function m5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xr=typeof Object.is=="function"?Object.is:m5;function Oc(t,e){if(xr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xv.call(e,i)||!xr(t[i],e[i]))return!1}return!0}function kS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function RS(t,e){var n=kS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kS(n)}}function $R(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$R(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function LR(){for(var t=window,e=Dd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Dd(t.document)}return e}function vb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function g5(t){var e=LR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$R(n.ownerDocument.documentElement,n)){if(r!==null&&vb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=RS(n,o);var a=RS(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var y5=bi&&"documentMode"in document&&11>=document.documentMode,ms=null,m0=null,oc=null,g0=!1;function NS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;g0||ms==null||ms!==Dd(r)||(r=ms,"selectionStart"in r&&vb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oc&&Oc(oc,r)||(oc=r,r=zd(m0,"onSelect"),0<r.length&&(e=new mb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ms)))}function Rh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gs={animationend:Rh("Animation","AnimationEnd"),animationiteration:Rh("Animation","AnimationIteration"),animationstart:Rh("Animation","AnimationStart"),transitionend:Rh("Transition","TransitionEnd")},Vy={},VR={};bi&&(VR=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Mm(t){if(Vy[t])return Vy[t];if(!gs[t])return t;var e=gs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in VR)return Vy[t]=e[n];return t}var FR=Mm("animationend"),BR=Mm("animationiteration"),UR=Mm("animationstart"),zR=Mm("transitionend"),HR=new Map,MS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function No(t,e){HR.set(t,e),Fa(e,[t])}for(var Fy=0;Fy<MS.length;Fy++){var By=MS[Fy],v5=By.toLowerCase(),_5=By[0].toUpperCase()+By.slice(1);No(v5,"on"+_5)}No(FR,"onAnimationEnd");No(BR,"onAnimationIteration");No(UR,"onAnimationStart");No("dblclick","onDoubleClick");No("focusin","onFocus");No("focusout","onBlur");No(zR,"onTransitionEnd");qs("onMouseEnter",["mouseout","mouseover"]);qs("onMouseLeave",["mouseout","mouseover"]);qs("onPointerEnter",["pointerout","pointerover"]);qs("onPointerLeave",["pointerout","pointerover"]);Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w5=new Set("cancel close invalid load scroll toggle".split(" ").concat(qu));function jS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,vV(r,e,void 0,t),t.currentTarget=null}function WR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;jS(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;jS(i,s,u),o=l}}}if(Ld)throw t=f0,Ld=!1,f0=null,t}function He(t,e){var n=e[b0];n===void 0&&(n=e[b0]=new Set);var r=t+"__bubble";n.has(r)||(qR(e,t,2,!1),n.add(r))}function Uy(t,e,n){var r=0;e&&(r|=4),qR(n,t,r,e)}var Nh="_reactListening"+Math.random().toString(36).slice(2);function kc(t){if(!t[Nh]){t[Nh]=!0,Zk.forEach(function(n){n!=="selectionchange"&&(w5.has(n)||Uy(n,!1,t),Uy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nh]||(e[Nh]=!0,Uy("selectionchange",!1,e))}}function qR(t,e,n,r){switch(CR(e)){case 1:var i=MV;break;case 4:i=jV;break;default:i=db}n=i.bind(null,e,n,t),i=void 0,!c0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function zy(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=sa(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}mR(function(){var u=o,c=ub(n),f=[];e:{var d=HR.get(t);if(d!==void 0){var p=mb,m=t;switch(t){case"keypress":if(md(n)===0)break e;case"keydown":case"keyup":p=XV;break;case"focusin":m="focus",p=Dy;break;case"focusout":m="blur",p=Dy;break;case"beforeblur":case"afterblur":p=Dy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ES;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=LV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ZV;break;case FR:case BR:case UR:p=BV;break;case zR:p=t5;break;case"scroll":p=DV;break;case"wheel":p=r5;break;case"copy":case"cut":case"paste":p=zV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=TS}var g=(e&4)!==0,b=!g&&t==="scroll",y=g?d!==null?d+"Capture":null:d;g=[];for(var v=u,x;v!==null;){x=v;var O=x.stateNode;if(x.tag===5&&O!==null&&(x=O,y!==null&&(O=Tc(v,y),O!=null&&g.push(Rc(v,O,x)))),b)break;v=v.return}0<g.length&&(d=new p(d,m,null,n,c),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==l0&&(m=n.relatedTarget||n.fromElement)&&(sa(m)||m[xi]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?sa(m):null,m!==null&&(b=Ba(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=ES,O="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=TS,O="onPointerLeave",y="onPointerEnter",v="pointer"),b=p==null?d:ys(p),x=m==null?d:ys(m),d=new g(O,v+"leave",p,n,c),d.target=b,d.relatedTarget=x,O=null,sa(c)===u&&(g=new g(y,v+"enter",m,n,c),g.target=x,g.relatedTarget=b,O=g),b=O,p&&m)t:{for(g=p,y=m,v=0,x=g;x;x=ts(x))v++;for(x=0,O=y;O;O=ts(O))x++;for(;0<v-x;)g=ts(g),v--;for(;0<x-v;)y=ts(y),x--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=ts(g),y=ts(y)}g=null}else g=null;p!==null&&DS(f,d,p,g,!1),m!==null&&b!==null&&DS(f,b,m,g,!0)}}e:{if(d=u?ys(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var S=c5;else if(PS(d))if(jR)S=p5;else{S=h5;var A=f5}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=d5);if(S&&(S=S(t,u))){MR(f,S,n,c);break e}A&&A(t,d,u),t==="focusout"&&(A=d._wrapperState)&&A.controlled&&d.type==="number"&&r0(d,"number",d.value)}switch(A=u?ys(u):window,t){case"focusin":(PS(A)||A.contentEditable==="true")&&(ms=A,m0=u,oc=null);break;case"focusout":oc=m0=ms=null;break;case"mousedown":g0=!0;break;case"contextmenu":case"mouseup":case"dragend":g0=!1,NS(f,n,c);break;case"selectionchange":if(y5)break;case"keydown":case"keyup":NS(f,n,c)}var E;if(yb)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ps?RR(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(kR&&n.locale!=="ko"&&(ps||T!=="onCompositionStart"?T==="onCompositionEnd"&&ps&&(E=OR()):(io=c,pb="value"in io?io.value:io.textContent,ps=!0)),A=zd(u,T),0<A.length&&(T=new SS(T,t,null,n,c),f.push({event:T,listeners:A}),E?T.data=E:(E=NR(n),E!==null&&(T.data=E)))),(E=o5?a5(t,n):s5(t,n))&&(u=zd(u,"onBeforeInput"),0<u.length&&(c=new SS("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=E))}WR(f,e)})}function Rc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Tc(t,n),o!=null&&r.unshift(Rc(t,o,i)),o=Tc(t,e),o!=null&&r.push(Rc(t,o,i))),t=t.return}return r}function ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function DS(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Tc(n,o),l!=null&&a.unshift(Rc(n,l,s))):i||(l=Tc(n,o),l!=null&&a.push(Rc(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var b5=/\r\n?/g,x5=/\u0000|\uFFFD/g;function $S(t){return(typeof t=="string"?t:""+t).replace(b5,`
`).replace(x5,"")}function Mh(t,e,n){if(e=$S(e),$S(t)!==e&&n)throw Error(J(425))}function Hd(){}var y0=null,v0=null;function _0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var w0=typeof setTimeout=="function"?setTimeout:void 0,E5=typeof clearTimeout=="function"?clearTimeout:void 0,LS=typeof Promise=="function"?Promise:void 0,S5=typeof queueMicrotask=="function"?queueMicrotask:typeof LS<"u"?function(t){return LS.resolve(null).then(t).catch(T5)}:w0;function T5(t){setTimeout(function(){throw t})}function Hy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Pc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Pc(e)}function fo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function VS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Rl=Math.random().toString(36).slice(2),Lr="__reactFiber$"+Rl,Nc="__reactProps$"+Rl,xi="__reactContainer$"+Rl,b0="__reactEvents$"+Rl,A5="__reactListeners$"+Rl,I5="__reactHandles$"+Rl;function sa(t){var e=t[Lr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xi]||n[Lr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=VS(t);t!==null;){if(n=t[Lr])return n;t=VS(t)}return e}t=n,n=t.parentNode}return null}function $f(t){return t=t[Lr]||t[xi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ys(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function jm(t){return t[Nc]||null}var x0=[],vs=-1;function Mo(t){return{current:t}}function Ke(t){0>vs||(t.current=x0[vs],x0[vs]=null,vs--)}function Fe(t,e){vs++,x0[vs]=t.current,t.current=e}var To={},on=Mo(To),bn=Mo(!1),ba=To;function Gs(t,e){var n=t.type.contextTypes;if(!n)return To;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xn(t){return t=t.childContextTypes,t!=null}function Wd(){Ke(bn),Ke(on)}function FS(t,e,n){if(on.current!==To)throw Error(J(168));Fe(on,e),Fe(bn,n)}function GR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,fV(t)||"Unknown",i));return tt({},n,r)}function qd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||To,ba=on.current,Fe(on,t),Fe(bn,bn.current),!0}function BS(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=GR(t,e,ba),r.__reactInternalMemoizedMergedChildContext=t,Ke(bn),Ke(on),Fe(on,t)):Ke(bn),Fe(bn,n)}var oi=null,Dm=!1,Wy=!1;function KR(t){oi===null?oi=[t]:oi.push(t)}function P5(t){Dm=!0,KR(t)}function jo(){if(!Wy&&oi!==null){Wy=!0;var t=0,e=ke;try{var n=oi;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}oi=null,Dm=!1}catch(i){throw oi!==null&&(oi=oi.slice(t+1)),_R(cb,jo),i}finally{ke=e,Wy=!1}}return null}var _s=[],ws=0,Gd=null,Kd=0,qn=[],Gn=0,xa=null,ai=1,si="";function Zo(t,e){_s[ws++]=Kd,_s[ws++]=Gd,Gd=t,Kd=e}function YR(t,e,n){qn[Gn++]=ai,qn[Gn++]=si,qn[Gn++]=xa,xa=t;var r=ai;t=si;var i=32-_r(r)-1;r&=~(1<<i),n+=1;var o=32-_r(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ai=1<<32-_r(e)+i|n<<i|r,si=o+t}else ai=1<<o|n<<i|r,si=t}function _b(t){t.return!==null&&(Zo(t,1),YR(t,1,0))}function wb(t){for(;t===Gd;)Gd=_s[--ws],_s[ws]=null,Kd=_s[--ws],_s[ws]=null;for(;t===xa;)xa=qn[--Gn],qn[Gn]=null,si=qn[--Gn],qn[Gn]=null,ai=qn[--Gn],qn[Gn]=null}var Nn=null,kn=null,Ye=!1,pr=null;function XR(t,e){var n=Xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function US(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nn=t,kn=fo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nn=t,kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xa!==null?{id:ai,overflow:si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nn=t,kn=null,!0):!1;default:return!1}}function E0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function S0(t){if(Ye){var e=kn;if(e){var n=e;if(!US(t,e)){if(E0(t))throw Error(J(418));e=fo(n.nextSibling);var r=Nn;e&&US(t,e)?XR(r,n):(t.flags=t.flags&-4097|2,Ye=!1,Nn=t)}}else{if(E0(t))throw Error(J(418));t.flags=t.flags&-4097|2,Ye=!1,Nn=t}}}function zS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nn=t}function jh(t){if(t!==Nn)return!1;if(!Ye)return zS(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_0(t.type,t.memoizedProps)),e&&(e=kn)){if(E0(t))throw QR(),Error(J(418));for(;e;)XR(t,e),e=fo(e.nextSibling)}if(zS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kn=fo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kn=null}}else kn=Nn?fo(t.stateNode.nextSibling):null;return!0}function QR(){for(var t=kn;t;)t=fo(t.nextSibling)}function Ks(){kn=Nn=null,Ye=!1}function bb(t){pr===null?pr=[t]:pr.push(t)}var C5=Ni.ReactCurrentBatchConfig;function Tu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Dh(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function HS(t){var e=t._init;return e(t._payload)}function JR(t){function e(y,v){if(t){var x=y.deletions;x===null?(y.deletions=[v],y.flags|=16):x.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=go(y,v),y.index=0,y.sibling=null,y}function o(y,v,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<v?(y.flags|=2,v):x):(y.flags|=2,v)):(y.flags|=1048576,v)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function s(y,v,x,O){return v===null||v.tag!==6?(v=Jy(x,y.mode,O),v.return=y,v):(v=i(v,x),v.return=y,v)}function l(y,v,x,O){var S=x.type;return S===ds?c(y,v,x.props.children,O,x.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===qi&&HS(S)===v.type)?(O=i(v,x.props),O.ref=Tu(y,v,x),O.return=y,O):(O=xd(x.type,x.key,x.props,null,y.mode,O),O.ref=Tu(y,v,x),O.return=y,O)}function u(y,v,x,O){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Zy(x,y.mode,O),v.return=y,v):(v=i(v,x.children||[]),v.return=y,v)}function c(y,v,x,O,S){return v===null||v.tag!==7?(v=ya(x,y.mode,O,S),v.return=y,v):(v=i(v,x),v.return=y,v)}function f(y,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Jy(""+v,y.mode,x),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Th:return x=xd(v.type,v.key,v.props,null,y.mode,x),x.ref=Tu(y,null,v),x.return=y,x;case hs:return v=Zy(v,y.mode,x),v.return=y,v;case qi:var O=v._init;return f(y,O(v._payload),x)}if(Hu(v)||wu(v))return v=ya(v,y.mode,x,null),v.return=y,v;Dh(y,v)}return null}function d(y,v,x,O){var S=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:s(y,v,""+x,O);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Th:return x.key===S?l(y,v,x,O):null;case hs:return x.key===S?u(y,v,x,O):null;case qi:return S=x._init,d(y,v,S(x._payload),O)}if(Hu(x)||wu(x))return S!==null?null:c(y,v,x,O,null);Dh(y,x)}return null}function p(y,v,x,O,S){if(typeof O=="string"&&O!==""||typeof O=="number")return y=y.get(x)||null,s(v,y,""+O,S);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Th:return y=y.get(O.key===null?x:O.key)||null,l(v,y,O,S);case hs:return y=y.get(O.key===null?x:O.key)||null,u(v,y,O,S);case qi:var A=O._init;return p(y,v,x,A(O._payload),S)}if(Hu(O)||wu(O))return y=y.get(x)||null,c(v,y,O,S,null);Dh(v,O)}return null}function m(y,v,x,O){for(var S=null,A=null,E=v,T=v=0,P=null;E!==null&&T<x.length;T++){E.index>T?(P=E,E=null):P=E.sibling;var N=d(y,E,x[T],O);if(N===null){E===null&&(E=P);break}t&&E&&N.alternate===null&&e(y,E),v=o(N,v,T),A===null?S=N:A.sibling=N,A=N,E=P}if(T===x.length)return n(y,E),Ye&&Zo(y,T),S;if(E===null){for(;T<x.length;T++)E=f(y,x[T],O),E!==null&&(v=o(E,v,T),A===null?S=E:A.sibling=E,A=E);return Ye&&Zo(y,T),S}for(E=r(y,E);T<x.length;T++)P=p(E,y,T,x[T],O),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?T:P.key),v=o(P,v,T),A===null?S=P:A.sibling=P,A=P);return t&&E.forEach(function(R){return e(y,R)}),Ye&&Zo(y,T),S}function g(y,v,x,O){var S=wu(x);if(typeof S!="function")throw Error(J(150));if(x=S.call(x),x==null)throw Error(J(151));for(var A=S=null,E=v,T=v=0,P=null,N=x.next();E!==null&&!N.done;T++,N=x.next()){E.index>T?(P=E,E=null):P=E.sibling;var R=d(y,E,N.value,O);if(R===null){E===null&&(E=P);break}t&&E&&R.alternate===null&&e(y,E),v=o(R,v,T),A===null?S=R:A.sibling=R,A=R,E=P}if(N.done)return n(y,E),Ye&&Zo(y,T),S;if(E===null){for(;!N.done;T++,N=x.next())N=f(y,N.value,O),N!==null&&(v=o(N,v,T),A===null?S=N:A.sibling=N,A=N);return Ye&&Zo(y,T),S}for(E=r(y,E);!N.done;T++,N=x.next())N=p(E,y,T,N.value,O),N!==null&&(t&&N.alternate!==null&&E.delete(N.key===null?T:N.key),v=o(N,v,T),A===null?S=N:A.sibling=N,A=N);return t&&E.forEach(function(C){return e(y,C)}),Ye&&Zo(y,T),S}function b(y,v,x,O){if(typeof x=="object"&&x!==null&&x.type===ds&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Th:e:{for(var S=x.key,A=v;A!==null;){if(A.key===S){if(S=x.type,S===ds){if(A.tag===7){n(y,A.sibling),v=i(A,x.props.children),v.return=y,y=v;break e}}else if(A.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===qi&&HS(S)===A.type){n(y,A.sibling),v=i(A,x.props),v.ref=Tu(y,A,x),v.return=y,y=v;break e}n(y,A);break}else e(y,A);A=A.sibling}x.type===ds?(v=ya(x.props.children,y.mode,O,x.key),v.return=y,y=v):(O=xd(x.type,x.key,x.props,null,y.mode,O),O.ref=Tu(y,v,x),O.return=y,y=O)}return a(y);case hs:e:{for(A=x.key;v!==null;){if(v.key===A)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(y,v.sibling),v=i(v,x.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=Zy(x,y.mode,O),v.return=y,y=v}return a(y);case qi:return A=x._init,b(y,v,A(x._payload),O)}if(Hu(x))return m(y,v,x,O);if(wu(x))return g(y,v,x,O);Dh(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,x),v.return=y,y=v):(n(y,v),v=Jy(x,y.mode,O),v.return=y,y=v),a(y)):n(y,v)}return b}var Ys=JR(!0),ZR=JR(!1),Yd=Mo(null),Xd=null,bs=null,xb=null;function Eb(){xb=bs=Xd=null}function Sb(t){var e=Yd.current;Ke(Yd),t._currentValue=e}function T0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ns(t,e){Xd=t,xb=bs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_n=!0),t.firstContext=null)}function rr(t){var e=t._currentValue;if(xb!==t)if(t={context:t,memoizedValue:e,next:null},bs===null){if(Xd===null)throw Error(J(308));bs=t,Xd.dependencies={lanes:0,firstContext:t}}else bs=bs.next=t;return e}var la=null;function Tb(t){la===null?la=[t]:la.push(t)}function e2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Tb(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ei(t,r)}function Ei(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gi=!1;function Ab(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function di(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ho(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ei(t,n)}return i=r.interleaved,i===null?(e.next=e,Tb(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ei(t,n)}function gd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fb(t,n)}}function WS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qd(t,e,n,r){var i=t.updateQueue;Gi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var d=s.lane,p=s.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,g=s;switch(d=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,d);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(p,f,d):m,d==null)break e;f=tt({},f,d);break e;case 2:Gi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Sa|=a,t.lanes=a,t.memoizedState=f}}function qS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var Lf={},zr=Mo(Lf),Mc=Mo(Lf),jc=Mo(Lf);function ua(t){if(t===Lf)throw Error(J(174));return t}function Ib(t,e){switch(Fe(jc,e),Fe(Mc,t),Fe(zr,Lf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:o0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=o0(e,t)}Ke(zr),Fe(zr,e)}function Xs(){Ke(zr),Ke(Mc),Ke(jc)}function n2(t){ua(jc.current);var e=ua(zr.current),n=o0(e,t.type);e!==n&&(Fe(Mc,t),Fe(zr,n))}function Pb(t){Mc.current===t&&(Ke(zr),Ke(Mc))}var Ze=Mo(0);function Jd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qy=[];function Cb(){for(var t=0;t<qy.length;t++)qy[t]._workInProgressVersionPrimary=null;qy.length=0}var yd=Ni.ReactCurrentDispatcher,Gy=Ni.ReactCurrentBatchConfig,Ea=0,et=null,Tt=null,Dt=null,Zd=!1,ac=!1,Dc=0,O5=0;function Kt(){throw Error(J(321))}function Ob(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xr(t[n],e[n]))return!1;return!0}function kb(t,e,n,r,i,o){if(Ea=o,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yd.current=t===null||t.memoizedState===null?M5:j5,t=n(r,i),ac){o=0;do{if(ac=!1,Dc=0,25<=o)throw Error(J(301));o+=1,Dt=Tt=null,e.updateQueue=null,yd.current=D5,t=n(r,i)}while(ac)}if(yd.current=ep,e=Tt!==null&&Tt.next!==null,Ea=0,Dt=Tt=et=null,Zd=!1,e)throw Error(J(300));return t}function Rb(){var t=Dc!==0;return Dc=0,t}function jr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?et.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function ir(){if(Tt===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var e=Dt===null?et.memoizedState:Dt.next;if(e!==null)Dt=e,Tt=t;else{if(t===null)throw Error(J(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Dt===null?et.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function $c(t,e){return typeof e=="function"?e(t):e}function Ky(t){var e=ir(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Tt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((Ea&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,et.lanes|=c,Sa|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,xr(r,e.memoizedState)||(_n=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,et.lanes|=o,Sa|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yy(t){var e=ir(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);xr(o,e.memoizedState)||(_n=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function r2(){}function i2(t,e){var n=et,r=ir(),i=e(),o=!xr(r.memoizedState,i);if(o&&(r.memoizedState=i,_n=!0),r=r.queue,Nb(s2.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,Lc(9,a2.bind(null,n,r,i,e),void 0,null),$t===null)throw Error(J(349));Ea&30||o2(n,e,i)}return i}function o2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function a2(t,e,n,r){e.value=n,e.getSnapshot=r,l2(e)&&u2(t)}function s2(t,e,n){return n(function(){l2(e)&&u2(t)})}function l2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xr(t,n)}catch{return!0}}function u2(t){var e=Ei(t,1);e!==null&&wr(e,t,1,-1)}function GS(t){var e=jr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$c,lastRenderedState:t},e.queue=t,t=t.dispatch=N5.bind(null,et,t),[e.memoizedState,t]}function Lc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function c2(){return ir().memoizedState}function vd(t,e,n,r){var i=jr();et.flags|=t,i.memoizedState=Lc(1|e,n,void 0,r===void 0?null:r)}function $m(t,e,n,r){var i=ir();r=r===void 0?null:r;var o=void 0;if(Tt!==null){var a=Tt.memoizedState;if(o=a.destroy,r!==null&&Ob(r,a.deps)){i.memoizedState=Lc(e,n,o,r);return}}et.flags|=t,i.memoizedState=Lc(1|e,n,o,r)}function KS(t,e){return vd(8390656,8,t,e)}function Nb(t,e){return $m(2048,8,t,e)}function f2(t,e){return $m(4,2,t,e)}function h2(t,e){return $m(4,4,t,e)}function d2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function p2(t,e,n){return n=n!=null?n.concat([t]):null,$m(4,4,d2.bind(null,e,t),n)}function Mb(){}function m2(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ob(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function g2(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ob(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function y2(t,e,n){return Ea&21?(xr(n,e)||(n=xR(),et.lanes|=n,Sa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_n=!0),t.memoizedState=n)}function k5(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=Gy.transition;Gy.transition={};try{t(!1),e()}finally{ke=n,Gy.transition=r}}function v2(){return ir().memoizedState}function R5(t,e,n){var r=mo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_2(t))w2(e,n);else if(n=e2(t,e,n,r),n!==null){var i=cn();wr(n,t,r,i),b2(n,e,r)}}function N5(t,e,n){var r=mo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_2(t))w2(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,xr(s,a)){var l=e.interleaved;l===null?(i.next=i,Tb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=e2(t,e,i,r),n!==null&&(i=cn(),wr(n,t,r,i),b2(n,e,r))}}function _2(t){var e=t.alternate;return t===et||e!==null&&e===et}function w2(t,e){ac=Zd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function b2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fb(t,n)}}var ep={readContext:rr,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},M5={readContext:rr,useCallback:function(t,e){return jr().memoizedState=[t,e===void 0?null:e],t},useContext:rr,useEffect:KS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vd(4194308,4,d2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vd(4194308,4,t,e)},useInsertionEffect:function(t,e){return vd(4,2,t,e)},useMemo:function(t,e){var n=jr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=R5.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=jr();return t={current:t},e.memoizedState=t},useState:GS,useDebugValue:Mb,useDeferredValue:function(t){return jr().memoizedState=t},useTransition:function(){var t=GS(!1),e=t[0];return t=k5.bind(null,t[1]),jr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,i=jr();if(Ye){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),$t===null)throw Error(J(349));Ea&30||o2(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,KS(s2.bind(null,r,o,t),[t]),r.flags|=2048,Lc(9,a2.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=jr(),e=$t.identifierPrefix;if(Ye){var n=si,r=ai;n=(r&~(1<<32-_r(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=O5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},j5={readContext:rr,useCallback:m2,useContext:rr,useEffect:Nb,useImperativeHandle:p2,useInsertionEffect:f2,useLayoutEffect:h2,useMemo:g2,useReducer:Ky,useRef:c2,useState:function(){return Ky($c)},useDebugValue:Mb,useDeferredValue:function(t){var e=ir();return y2(e,Tt.memoizedState,t)},useTransition:function(){var t=Ky($c)[0],e=ir().memoizedState;return[t,e]},useMutableSource:r2,useSyncExternalStore:i2,useId:v2,unstable_isNewReconciler:!1},D5={readContext:rr,useCallback:m2,useContext:rr,useEffect:Nb,useImperativeHandle:p2,useInsertionEffect:f2,useLayoutEffect:h2,useMemo:g2,useReducer:Yy,useRef:c2,useState:function(){return Yy($c)},useDebugValue:Mb,useDeferredValue:function(t){var e=ir();return Tt===null?e.memoizedState=t:y2(e,Tt.memoizedState,t)},useTransition:function(){var t=Yy($c)[0],e=ir().memoizedState;return[t,e]},useMutableSource:r2,useSyncExternalStore:i2,useId:v2,unstable_isNewReconciler:!1};function cr(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function A0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Lm={isMounted:function(t){return(t=t._reactInternals)?Ba(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cn(),i=mo(t),o=di(r,i);o.payload=e,n!=null&&(o.callback=n),e=ho(t,o,i),e!==null&&(wr(e,t,i,r),gd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cn(),i=mo(t),o=di(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ho(t,o,i),e!==null&&(wr(e,t,i,r),gd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cn(),r=mo(t),i=di(n,r);i.tag=2,e!=null&&(i.callback=e),e=ho(t,i,r),e!==null&&(wr(e,t,r,n),gd(e,t,r))}};function YS(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Oc(n,r)||!Oc(i,o):!0}function x2(t,e,n){var r=!1,i=To,o=e.contextType;return typeof o=="object"&&o!==null?o=rr(o):(i=xn(e)?ba:on.current,r=e.contextTypes,o=(r=r!=null)?Gs(t,i):To),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function XS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Lm.enqueueReplaceState(e,e.state,null)}function I0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ab(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=rr(o):(o=xn(e)?ba:on.current,i.context=Gs(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(A0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Lm.enqueueReplaceState(i,i.state,null),Qd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qs(t,e){try{var n="",r=e;do n+=cV(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Xy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function P0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $5=typeof WeakMap=="function"?WeakMap:Map;function E2(t,e,n){n=di(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){np||(np=!0,L0=r),P0(t,e)},n}function S2(t,e,n){n=di(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){P0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){P0(t,e),typeof r!="function"&&(po===null?po=new Set([this]):po.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function QS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $5;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Q5.bind(null,t,e,n),e.then(t,t))}function JS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ZS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=di(-1,1),e.tag=2,ho(n,e,1))),n.lanes|=1),t)}var L5=Ni.ReactCurrentOwner,_n=!1;function ln(t,e,n,r){e.child=t===null?ZR(e,null,n,r):Ys(e,t.child,n,r)}function eT(t,e,n,r,i){n=n.render;var o=e.ref;return Ns(e,i),r=kb(t,e,n,r,o,i),n=Rb(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Si(t,e,i)):(Ye&&n&&_b(e),e.flags|=1,ln(t,e,r,i),e.child)}function tT(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Ub(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,T2(t,e,o,r,i)):(t=xd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Oc,n(a,r)&&t.ref===e.ref)return Si(t,e,i)}return e.flags|=1,t=go(o,r),t.ref=e.ref,t.return=e,e.child=t}function T2(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Oc(o,r)&&t.ref===e.ref)if(_n=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(_n=!0);else return e.lanes=t.lanes,Si(t,e,i)}return C0(t,e,n,r,i)}function A2(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Es,Pn),Pn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(Es,Pn),Pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Fe(Es,Pn),Pn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Fe(Es,Pn),Pn|=r;return ln(t,e,i,n),e.child}function I2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function C0(t,e,n,r,i){var o=xn(n)?ba:on.current;return o=Gs(e,o),Ns(e,i),n=kb(t,e,n,r,o,i),r=Rb(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Si(t,e,i)):(Ye&&r&&_b(e),e.flags|=1,ln(t,e,n,i),e.child)}function nT(t,e,n,r,i){if(xn(n)){var o=!0;qd(e)}else o=!1;if(Ns(e,i),e.stateNode===null)_d(t,e),x2(e,n,r),I0(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=rr(u):(u=xn(n)?ba:on.current,u=Gs(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&XS(e,a,r,u),Gi=!1;var d=e.memoizedState;a.state=d,Qd(e,r,a,i),l=e.memoizedState,s!==r||d!==l||bn.current||Gi?(typeof c=="function"&&(A0(e,n,c,r),l=e.memoizedState),(s=Gi||YS(e,n,s,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,t2(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:cr(e.type,s),a.props=u,f=e.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=rr(l):(l=xn(n)?ba:on.current,l=Gs(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&XS(e,a,r,l),Gi=!1,d=e.memoizedState,a.state=d,Qd(e,r,a,i);var m=e.memoizedState;s!==f||d!==m||bn.current||Gi?(typeof p=="function"&&(A0(e,n,p,r),m=e.memoizedState),(u=Gi||YS(e,n,u,r,d,m,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return O0(t,e,n,r,o,i)}function O0(t,e,n,r,i,o){I2(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&BS(e,n,!1),Si(t,e,o);r=e.stateNode,L5.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ys(e,t.child,null,o),e.child=Ys(e,null,s,o)):ln(t,e,s,o),e.memoizedState=r.state,i&&BS(e,n,!0),e.child}function P2(t){var e=t.stateNode;e.pendingContext?FS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&FS(t,e.context,!1),Ib(t,e.containerInfo)}function rT(t,e,n,r,i){return Ks(),bb(i),e.flags|=256,ln(t,e,n,r),e.child}var k0={dehydrated:null,treeContext:null,retryLane:0};function R0(t){return{baseLanes:t,cachePool:null,transitions:null}}function C2(t,e,n){var r=e.pendingProps,i=Ze.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Fe(Ze,i&1),t===null)return S0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Bm(a,r,0,null),t=ya(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=R0(n),e.memoizedState=k0,t):jb(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return V5(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=go(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=go(s,o):(o=ya(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?R0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=k0,r}return o=t.child,t=o.sibling,r=go(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function jb(t,e){return e=Bm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $h(t,e,n,r){return r!==null&&bb(r),Ys(e,t.child,null,n),t=jb(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function V5(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Xy(Error(J(422))),$h(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Bm({mode:"visible",children:r.children},i,0,null),o=ya(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ys(e,t.child,null,a),e.child.memoizedState=R0(a),e.memoizedState=k0,o);if(!(e.mode&1))return $h(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(J(419)),r=Xy(o,r,void 0),$h(t,e,a,r)}if(s=(a&t.childLanes)!==0,_n||s){if(r=$t,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ei(t,i),wr(r,t,i,-1))}return Bb(),r=Xy(Error(J(421))),$h(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=J5.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,kn=fo(i.nextSibling),Nn=e,Ye=!0,pr=null,t!==null&&(qn[Gn++]=ai,qn[Gn++]=si,qn[Gn++]=xa,ai=t.id,si=t.overflow,xa=e),e=jb(e,r.children),e.flags|=4096,e)}function iT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),T0(t.return,e,n)}function Qy(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function O2(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ln(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iT(t,n,e);else if(t.tag===19)iT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Jd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qy(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Jd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qy(e,!0,n,null,o);break;case"together":Qy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _d(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Si(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Sa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=go(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=go(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function F5(t,e,n){switch(e.tag){case 3:P2(e),Ks();break;case 5:n2(e);break;case 1:xn(e.type)&&qd(e);break;case 4:Ib(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Fe(Yd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?C2(t,e,n):(Fe(Ze,Ze.current&1),t=Si(t,e,n),t!==null?t.sibling:null);Fe(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return O2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,A2(t,e,n)}return Si(t,e,n)}var k2,N0,R2,N2;k2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};N0=function(){};R2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ua(zr.current);var o=null;switch(n){case"input":i=t0(t,i),r=t0(t,r),o=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),o=[];break;case"textarea":i=i0(t,i),r=i0(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hd)}a0(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ec.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ec.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&He("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};N2=function(t,e,n,r){n!==r&&(e.flags|=4)};function Au(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function B5(t,e,n){var r=e.pendingProps;switch(wb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return xn(e.type)&&Wd(),Yt(e),null;case 3:return r=e.stateNode,Xs(),Ke(bn),Ke(on),Cb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(jh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pr!==null&&(B0(pr),pr=null))),N0(t,e),Yt(e),null;case 5:Pb(e);var i=ua(jc.current);if(n=e.type,t!==null&&e.stateNode!=null)R2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Yt(e),null}if(t=ua(zr.current),jh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Lr]=e,r[Nc]=o,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<qu.length;i++)He(qu[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":dS(r,o),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},He("invalid",r);break;case"textarea":mS(r,o),He("invalid",r)}a0(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Mh(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Mh(r.textContent,s,t),i=["children",""+s]):Ec.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&He("scroll",r)}switch(n){case"input":Ah(r),pS(r,o,!0);break;case"textarea":Ah(r),gS(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Hd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Lr]=e,t[Nc]=r,k2(t,e,!1,!1),e.stateNode=t;e:{switch(a=s0(n,r),n){case"dialog":He("cancel",t),He("close",t),i=r;break;case"iframe":case"object":case"embed":He("load",t),i=r;break;case"video":case"audio":for(i=0;i<qu.length;i++)He(qu[i],t);i=r;break;case"source":He("error",t),i=r;break;case"img":case"image":case"link":He("error",t),He("load",t),i=r;break;case"details":He("toggle",t),i=r;break;case"input":dS(t,r),i=t0(t,r),He("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),He("invalid",t);break;case"textarea":mS(t,r),i=i0(t,r),He("invalid",t);break;default:i=r}a0(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?cR(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lR(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Sc(t,l):typeof l=="number"&&Sc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ec.hasOwnProperty(o)?l!=null&&o==="onScroll"&&He("scroll",t):l!=null&&ob(t,o,l,a))}switch(n){case"input":Ah(t),pS(t,r,!1);break;case"textarea":Ah(t),gS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+So(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Cs(t,!!r.multiple,o,!1):r.defaultValue!=null&&Cs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Hd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yt(e),null;case 6:if(t&&e.stateNode!=null)N2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=ua(jc.current),ua(zr.current),jh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Lr]=e,(o=r.nodeValue!==n)&&(t=Nn,t!==null))switch(t.tag){case 3:Mh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Lr]=e,e.stateNode=r}return Yt(e),null;case 13:if(Ke(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&kn!==null&&e.mode&1&&!(e.flags&128))QR(),Ks(),e.flags|=98560,o=!1;else if(o=jh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[Lr]=e}else Ks(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yt(e),o=!1}else pr!==null&&(B0(pr),pr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?At===0&&(At=3):Bb())),e.updateQueue!==null&&(e.flags|=4),Yt(e),null);case 4:return Xs(),N0(t,e),t===null&&kc(e.stateNode.containerInfo),Yt(e),null;case 10:return Sb(e.type._context),Yt(e),null;case 17:return xn(e.type)&&Wd(),Yt(e),null;case 19:if(Ke(Ze),o=e.memoizedState,o===null)return Yt(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Au(o,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Jd(t),a!==null){for(e.flags|=128,Au(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Ze,Ze.current&1|2),e.child}t=t.sibling}o.tail!==null&&dt()>Js&&(e.flags|=128,r=!0,Au(o,!1),e.lanes=4194304)}else{if(!r)if(t=Jd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Au(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ye)return Yt(e),null}else 2*dt()-o.renderingStartTime>Js&&n!==1073741824&&(e.flags|=128,r=!0,Au(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=dt(),e.sibling=null,n=Ze.current,Fe(Ze,r?n&1|2:n&1),e):(Yt(e),null);case 22:case 23:return Fb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pn&1073741824&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function U5(t,e){switch(wb(e),e.tag){case 1:return xn(e.type)&&Wd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xs(),Ke(bn),Ke(on),Cb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Pb(e),null;case 13:if(Ke(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Ks()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(Ze),null;case 4:return Xs(),null;case 10:return Sb(e.type._context),null;case 22:case 23:return Fb(),null;case 24:return null;default:return null}}var Lh=!1,Zt=!1,z5=typeof WeakSet=="function"?WeakSet:Set,oe=null;function xs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function M0(t,e,n){try{n()}catch(r){at(t,e,r)}}var oT=!1;function H5(t,e){if(y0=Bd,t=LR(),vb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++u===i&&(s=a),d===o&&++c===r&&(l=a),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(v0={focusedElem:t,selectionRange:n},Bd=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,b=m.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:cr(e.type,g),b);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(O){at(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return m=oT,oT=!1,m}function sc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&M0(e,n,o)}i=i.next}while(i!==r)}}function Vm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function j0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function M2(t){var e=t.alternate;e!==null&&(t.alternate=null,M2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Lr],delete e[Nc],delete e[b0],delete e[A5],delete e[I5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function j2(t){return t.tag===5||t.tag===3||t.tag===4}function aT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||j2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function D0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hd));else if(r!==4&&(t=t.child,t!==null))for(D0(t,e,n),t=t.sibling;t!==null;)D0(t,e,n),t=t.sibling}function $0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for($0(t,e,n),t=t.sibling;t!==null;)$0(t,e,n),t=t.sibling}var Ft=null,fr=!1;function Hi(t,e,n){for(n=n.child;n!==null;)D2(t,e,n),n=n.sibling}function D2(t,e,n){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(km,n)}catch{}switch(n.tag){case 5:Zt||xs(n,e);case 6:var r=Ft,i=fr;Ft=null,Hi(t,e,n),Ft=r,fr=i,Ft!==null&&(fr?(t=Ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ft.removeChild(n.stateNode));break;case 18:Ft!==null&&(fr?(t=Ft,n=n.stateNode,t.nodeType===8?Hy(t.parentNode,n):t.nodeType===1&&Hy(t,n),Pc(t)):Hy(Ft,n.stateNode));break;case 4:r=Ft,i=fr,Ft=n.stateNode.containerInfo,fr=!0,Hi(t,e,n),Ft=r,fr=i;break;case 0:case 11:case 14:case 15:if(!Zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&M0(n,e,a),i=i.next}while(i!==r)}Hi(t,e,n);break;case 1:if(!Zt&&(xs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){at(n,e,s)}Hi(t,e,n);break;case 21:Hi(t,e,n);break;case 22:n.mode&1?(Zt=(r=Zt)||n.memoizedState!==null,Hi(t,e,n),Zt=r):Hi(t,e,n);break;default:Hi(t,e,n)}}function sT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new z5),e.forEach(function(r){var i=Z5.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function lr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Ft=s.stateNode,fr=!1;break e;case 3:Ft=s.stateNode.containerInfo,fr=!0;break e;case 4:Ft=s.stateNode.containerInfo,fr=!0;break e}s=s.return}if(Ft===null)throw Error(J(160));D2(o,a,i),Ft=null,fr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){at(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$2(e,t),e=e.sibling}function $2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(lr(e,t),Nr(t),r&4){try{sc(3,t,t.return),Vm(3,t)}catch(g){at(t,t.return,g)}try{sc(5,t,t.return)}catch(g){at(t,t.return,g)}}break;case 1:lr(e,t),Nr(t),r&512&&n!==null&&xs(n,n.return);break;case 5:if(lr(e,t),Nr(t),r&512&&n!==null&&xs(n,n.return),t.flags&32){var i=t.stateNode;try{Sc(i,"")}catch(g){at(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&oR(i,o),s0(s,a);var u=s0(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?cR(i,f):c==="dangerouslySetInnerHTML"?lR(i,f):c==="children"?Sc(i,f):ob(i,c,f,u)}switch(s){case"input":n0(i,o);break;case"textarea":aR(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Cs(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?Cs(i,!!o.multiple,o.defaultValue,!0):Cs(i,!!o.multiple,o.multiple?[]:"",!1))}i[Nc]=o}catch(g){at(t,t.return,g)}}break;case 6:if(lr(e,t),Nr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){at(t,t.return,g)}}break;case 3:if(lr(e,t),Nr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pc(e.containerInfo)}catch(g){at(t,t.return,g)}break;case 4:lr(e,t),Nr(t);break;case 13:lr(e,t),Nr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Lb=dt())),r&4&&sT(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Zt=(u=Zt)||c,lr(e,t),Zt=u):lr(e,t),Nr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(oe=t,c=t.child;c!==null;){for(f=oe=c;oe!==null;){switch(d=oe,p=d.child,d.tag){case 0:case 11:case 14:case 15:sc(4,d,d.return);break;case 1:xs(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){at(r,n,g)}}break;case 5:xs(d,d.return);break;case 22:if(d.memoizedState!==null){uT(f);continue}}p!==null?(p.return=d,oe=p):uT(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=uR("display",a))}catch(g){at(t,t.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){at(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:lr(e,t),Nr(t),r&4&&sT(t);break;case 21:break;default:lr(e,t),Nr(t)}}function Nr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(j2(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Sc(i,""),r.flags&=-33);var o=aT(t);$0(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=aT(t);D0(t,s,a);break;default:throw Error(J(161))}}catch(l){at(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function W5(t,e,n){oe=t,L2(t)}function L2(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Lh;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Zt;s=Lh;var u=Zt;if(Lh=a,(Zt=l)&&!u)for(oe=i;oe!==null;)a=oe,l=a.child,a.tag===22&&a.memoizedState!==null?cT(i):l!==null?(l.return=a,oe=l):cT(i);for(;o!==null;)oe=o,L2(o),o=o.sibling;oe=i,Lh=s,Zt=u}lT(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,oe=o):lT(t)}}function lT(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zt||Vm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:cr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&qS(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qS(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Pc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Zt||e.flags&512&&j0(e)}catch(d){at(e,e.return,d)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function uT(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function cT(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vm(4,e)}catch(l){at(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){at(e,i,l)}}var o=e.return;try{j0(e)}catch(l){at(e,o,l)}break;case 5:var a=e.return;try{j0(e)}catch(l){at(e,a,l)}}}catch(l){at(e,e.return,l)}if(e===t){oe=null;break}var s=e.sibling;if(s!==null){s.return=e.return,oe=s;break}oe=e.return}}var q5=Math.ceil,tp=Ni.ReactCurrentDispatcher,Db=Ni.ReactCurrentOwner,Jn=Ni.ReactCurrentBatchConfig,Ie=0,$t=null,vt=null,Ht=0,Pn=0,Es=Mo(0),At=0,Vc=null,Sa=0,Fm=0,$b=0,lc=null,yn=null,Lb=0,Js=1/0,ii=null,np=!1,L0=null,po=null,Vh=!1,oo=null,rp=0,uc=0,V0=null,wd=-1,bd=0;function cn(){return Ie&6?dt():wd!==-1?wd:wd=dt()}function mo(t){return t.mode&1?Ie&2&&Ht!==0?Ht&-Ht:C5.transition!==null?(bd===0&&(bd=xR()),bd):(t=ke,t!==0||(t=window.event,t=t===void 0?16:CR(t.type)),t):1}function wr(t,e,n,r){if(50<uc)throw uc=0,V0=null,Error(J(185));jf(t,n,r),(!(Ie&2)||t!==$t)&&(t===$t&&(!(Ie&2)&&(Fm|=n),At===4&&Ji(t,Ht)),En(t,r),n===1&&Ie===0&&!(e.mode&1)&&(Js=dt()+500,Dm&&jo()))}function En(t,e){var n=t.callbackNode;CV(t,e);var r=Fd(t,t===$t?Ht:0);if(r===0)n!==null&&_S(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_S(n),e===1)t.tag===0?P5(fT.bind(null,t)):KR(fT.bind(null,t)),S5(function(){!(Ie&6)&&jo()}),n=null;else{switch(ER(r)){case 1:n=cb;break;case 4:n=wR;break;case 16:n=Vd;break;case 536870912:n=bR;break;default:n=Vd}n=q2(n,V2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function V2(t,e){if(wd=-1,bd=0,Ie&6)throw Error(J(327));var n=t.callbackNode;if(Ms()&&t.callbackNode!==n)return null;var r=Fd(t,t===$t?Ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ip(t,r);else{e=r;var i=Ie;Ie|=2;var o=B2();($t!==t||Ht!==e)&&(ii=null,Js=dt()+500,ga(t,e));do try{Y5();break}catch(s){F2(t,s)}while(1);Eb(),tp.current=o,Ie=i,vt!==null?e=0:($t=null,Ht=0,e=At)}if(e!==0){if(e===2&&(i=h0(t),i!==0&&(r=i,e=F0(t,i))),e===1)throw n=Vc,ga(t,0),Ji(t,r),En(t,dt()),n;if(e===6)Ji(t,r);else{if(i=t.current.alternate,!(r&30)&&!G5(i)&&(e=ip(t,r),e===2&&(o=h0(t),o!==0&&(r=o,e=F0(t,o))),e===1))throw n=Vc,ga(t,0),Ji(t,r),En(t,dt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:ea(t,yn,ii);break;case 3:if(Ji(t,r),(r&130023424)===r&&(e=Lb+500-dt(),10<e)){if(Fd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){cn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=w0(ea.bind(null,t,yn,ii),e);break}ea(t,yn,ii);break;case 4:if(Ji(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-_r(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*q5(r/1960))-r,10<r){t.timeoutHandle=w0(ea.bind(null,t,yn,ii),r);break}ea(t,yn,ii);break;case 5:ea(t,yn,ii);break;default:throw Error(J(329))}}}return En(t,dt()),t.callbackNode===n?V2.bind(null,t):null}function F0(t,e){var n=lc;return t.current.memoizedState.isDehydrated&&(ga(t,e).flags|=256),t=ip(t,e),t!==2&&(e=yn,yn=n,e!==null&&B0(e)),t}function B0(t){yn===null?yn=t:yn.push.apply(yn,t)}function G5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!xr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ji(t,e){for(e&=~$b,e&=~Fm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_r(e),r=1<<n;t[n]=-1,e&=~r}}function fT(t){if(Ie&6)throw Error(J(327));Ms();var e=Fd(t,0);if(!(e&1))return En(t,dt()),null;var n=ip(t,e);if(t.tag!==0&&n===2){var r=h0(t);r!==0&&(e=r,n=F0(t,r))}if(n===1)throw n=Vc,ga(t,0),Ji(t,e),En(t,dt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ea(t,yn,ii),En(t,dt()),null}function Vb(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(Js=dt()+500,Dm&&jo())}}function Ta(t){oo!==null&&oo.tag===0&&!(Ie&6)&&Ms();var e=Ie;Ie|=1;var n=Jn.transition,r=ke;try{if(Jn.transition=null,ke=1,t)return t()}finally{ke=r,Jn.transition=n,Ie=e,!(Ie&6)&&jo()}}function Fb(){Pn=Es.current,Ke(Es)}function ga(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,E5(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(wb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wd();break;case 3:Xs(),Ke(bn),Ke(on),Cb();break;case 5:Pb(r);break;case 4:Xs();break;case 13:Ke(Ze);break;case 19:Ke(Ze);break;case 10:Sb(r.type._context);break;case 22:case 23:Fb()}n=n.return}if($t=t,vt=t=go(t.current,null),Ht=Pn=e,At=0,Vc=null,$b=Fm=Sa=0,yn=lc=null,la!==null){for(e=0;e<la.length;e++)if(n=la[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}la=null}return t}function F2(t,e){do{var n=vt;try{if(Eb(),yd.current=ep,Zd){for(var r=et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zd=!1}if(Ea=0,Dt=Tt=et=null,ac=!1,Dc=0,Db.current=null,n===null||n.return===null){At=1,Vc=e,vt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Ht,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=JS(a);if(p!==null){p.flags&=-257,ZS(p,a,s,o,e),p.mode&1&&QS(o,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){QS(o,u,e),Bb();break e}l=Error(J(426))}}else if(Ye&&s.mode&1){var b=JS(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ZS(b,a,s,o,e),bb(Qs(l,s));break e}}o=l=Qs(l,s),At!==4&&(At=2),lc===null?lc=[o]:lc.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=E2(o,l,e);WS(o,y);break e;case 1:s=l;var v=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(po===null||!po.has(x)))){o.flags|=65536,e&=-e,o.lanes|=e;var O=S2(o,s,e);WS(o,O);break e}}o=o.return}while(o!==null)}z2(n)}catch(S){e=S,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(1)}function B2(){var t=tp.current;return tp.current=ep,t===null?ep:t}function Bb(){(At===0||At===3||At===2)&&(At=4),$t===null||!(Sa&268435455)&&!(Fm&268435455)||Ji($t,Ht)}function ip(t,e){var n=Ie;Ie|=2;var r=B2();($t!==t||Ht!==e)&&(ii=null,ga(t,e));do try{K5();break}catch(i){F2(t,i)}while(1);if(Eb(),Ie=n,tp.current=r,vt!==null)throw Error(J(261));return $t=null,Ht=0,At}function K5(){for(;vt!==null;)U2(vt)}function Y5(){for(;vt!==null&&!wV();)U2(vt)}function U2(t){var e=W2(t.alternate,t,Pn);t.memoizedProps=t.pendingProps,e===null?z2(t):vt=e,Db.current=null}function z2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=U5(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,vt=null;return}}else if(n=B5(n,e,Pn),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);At===0&&(At=5)}function ea(t,e,n){var r=ke,i=Jn.transition;try{Jn.transition=null,ke=1,X5(t,e,n,r)}finally{Jn.transition=i,ke=r}return null}function X5(t,e,n,r){do Ms();while(oo!==null);if(Ie&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(OV(t,o),t===$t&&(vt=$t=null,Ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vh||(Vh=!0,q2(Vd,function(){return Ms(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Jn.transition,Jn.transition=null;var a=ke;ke=1;var s=Ie;Ie|=4,Db.current=null,H5(t,n),$2(n,t),g5(v0),Bd=!!y0,v0=y0=null,t.current=n,W5(n),bV(),Ie=s,ke=a,Jn.transition=o}else t.current=n;if(Vh&&(Vh=!1,oo=t,rp=i),o=t.pendingLanes,o===0&&(po=null),SV(n.stateNode),En(t,dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(np)throw np=!1,t=L0,L0=null,t;return rp&1&&t.tag!==0&&Ms(),o=t.pendingLanes,o&1?t===V0?uc++:(uc=0,V0=t):uc=0,jo(),null}function Ms(){if(oo!==null){var t=ER(rp),e=Jn.transition,n=ke;try{if(Jn.transition=null,ke=16>t?16:t,oo===null)var r=!1;else{if(t=oo,oo=null,rp=0,Ie&6)throw Error(J(331));var i=Ie;for(Ie|=4,oe=t.current;oe!==null;){var o=oe,a=o.child;if(oe.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(oe=u;oe!==null;){var c=oe;switch(c.tag){case 0:case 11:case 15:sc(8,c,o)}var f=c.child;if(f!==null)f.return=c,oe=f;else for(;oe!==null;){c=oe;var d=c.sibling,p=c.return;if(M2(c),c===u){oe=null;break}if(d!==null){d.return=p,oe=d;break}oe=p}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}oe=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,oe=a;else e:for(;oe!==null;){if(o=oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:sc(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,oe=y;break e}oe=o.return}}var v=t.current;for(oe=v;oe!==null;){a=oe;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,oe=x;else e:for(a=v;oe!==null;){if(s=oe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Vm(9,s)}}catch(S){at(s,s.return,S)}if(s===a){oe=null;break e}var O=s.sibling;if(O!==null){O.return=s.return,oe=O;break e}oe=s.return}}if(Ie=i,jo(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(km,t)}catch{}r=!0}return r}finally{ke=n,Jn.transition=e}}return!1}function hT(t,e,n){e=Qs(n,e),e=E2(t,e,1),t=ho(t,e,1),e=cn(),t!==null&&(jf(t,1,e),En(t,e))}function at(t,e,n){if(t.tag===3)hT(t,t,n);else for(;e!==null;){if(e.tag===3){hT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(po===null||!po.has(r))){t=Qs(n,t),t=S2(e,t,1),e=ho(e,t,1),t=cn(),e!==null&&(jf(e,1,t),En(e,t));break}}e=e.return}}function Q5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cn(),t.pingedLanes|=t.suspendedLanes&n,$t===t&&(Ht&n)===n&&(At===4||At===3&&(Ht&130023424)===Ht&&500>dt()-Lb?ga(t,0):$b|=n),En(t,e)}function H2(t,e){e===0&&(t.mode&1?(e=Ch,Ch<<=1,!(Ch&130023424)&&(Ch=4194304)):e=1);var n=cn();t=Ei(t,e),t!==null&&(jf(t,e,n),En(t,n))}function J5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),H2(t,n)}function Z5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),H2(t,n)}var W2;W2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||bn.current)_n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _n=!1,F5(t,e,n);_n=!!(t.flags&131072)}else _n=!1,Ye&&e.flags&1048576&&YR(e,Kd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_d(t,e),t=e.pendingProps;var i=Gs(e,on.current);Ns(e,n),i=kb(null,e,r,t,i,n);var o=Rb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xn(r)?(o=!0,qd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ab(e),i.updater=Lm,e.stateNode=i,i._reactInternals=e,I0(e,r,t,n),e=O0(null,e,r,!0,o,n)):(e.tag=0,Ye&&o&&_b(e),ln(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_d(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=tF(r),t=cr(r,t),i){case 0:e=C0(null,e,r,t,n);break e;case 1:e=nT(null,e,r,t,n);break e;case 11:e=eT(null,e,r,t,n);break e;case 14:e=tT(null,e,r,cr(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),C0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),nT(t,e,r,i,n);case 3:e:{if(P2(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,t2(t,e),Qd(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Qs(Error(J(423)),e),e=rT(t,e,r,n,i);break e}else if(r!==i){i=Qs(Error(J(424)),e),e=rT(t,e,r,n,i);break e}else for(kn=fo(e.stateNode.containerInfo.firstChild),Nn=e,Ye=!0,pr=null,n=ZR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ks(),r===i){e=Si(t,e,n);break e}ln(t,e,r,n)}e=e.child}return e;case 5:return n2(e),t===null&&S0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,_0(r,i)?a=null:o!==null&&_0(r,o)&&(e.flags|=32),I2(t,e),ln(t,e,a,n),e.child;case 6:return t===null&&S0(e),null;case 13:return C2(t,e,n);case 4:return Ib(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ys(e,null,r,n):ln(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),eT(t,e,r,i,n);case 7:return ln(t,e,e.pendingProps,n),e.child;case 8:return ln(t,e,e.pendingProps.children,n),e.child;case 12:return ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Fe(Yd,r._currentValue),r._currentValue=a,o!==null)if(xr(o.value,a)){if(o.children===i.children&&!bn.current){e=Si(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=di(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),T0(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(J(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),T0(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}ln(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ns(e,n),i=rr(i),r=r(i),e.flags|=1,ln(t,e,r,n),e.child;case 14:return r=e.type,i=cr(r,e.pendingProps),i=cr(r.type,i),tT(t,e,r,i,n);case 15:return T2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),_d(t,e),e.tag=1,xn(r)?(t=!0,qd(e)):t=!1,Ns(e,n),x2(e,r,i),I0(e,r,i,n),O0(null,e,r,!0,t,n);case 19:return O2(t,e,n);case 22:return A2(t,e,n)}throw Error(J(156,e.tag))};function q2(t,e){return _R(t,e)}function eF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(t,e,n,r){return new eF(t,e,n,r)}function Ub(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tF(t){if(typeof t=="function")return Ub(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sb)return 11;if(t===lb)return 14}return 2}function go(t,e){var n=t.alternate;return n===null?(n=Xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xd(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Ub(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ds:return ya(n.children,i,o,e);case ab:a=8,i|=8;break;case Qv:return t=Xn(12,n,e,i|2),t.elementType=Qv,t.lanes=o,t;case Jv:return t=Xn(13,n,e,i),t.elementType=Jv,t.lanes=o,t;case Zv:return t=Xn(19,n,e,i),t.elementType=Zv,t.lanes=o,t;case nR:return Bm(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eR:a=10;break e;case tR:a=9;break e;case sb:a=11;break e;case lb:a=14;break e;case qi:a=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Xn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ya(t,e,n,r){return t=Xn(7,t,r,e),t.lanes=n,t}function Bm(t,e,n,r){return t=Xn(22,t,r,e),t.elementType=nR,t.lanes=n,t.stateNode={isHidden:!1},t}function Jy(t,e,n){return t=Xn(6,t,null,e),t.lanes=n,t}function Zy(t,e,n){return e=Xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nF(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ny(0),this.expirationTimes=Ny(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ny(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zb(t,e,n,r,i,o,a,s,l){return t=new nF(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Xn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ab(o),t}function rF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function G2(t){if(!t)return To;t=t._reactInternals;e:{if(Ba(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(xn(n))return GR(t,n,e)}return e}function K2(t,e,n,r,i,o,a,s,l){return t=zb(n,r,!0,t,i,o,a,s,l),t.context=G2(null),n=t.current,r=cn(),i=mo(n),o=di(r,i),o.callback=e??null,ho(n,o,i),t.current.lanes=i,jf(t,i,r),En(t,r),t}function Um(t,e,n,r){var i=e.current,o=cn(),a=mo(i);return n=G2(n),e.context===null?e.context=n:e.pendingContext=n,e=di(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ho(i,e,a),t!==null&&(wr(t,i,a,o),gd(t,i,a)),a}function op(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hb(t,e){dT(t,e),(t=t.alternate)&&dT(t,e)}function iF(){return null}var Y2=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wb(t){this._internalRoot=t}zm.prototype.render=Wb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Um(t,e,null,null)};zm.prototype.unmount=Wb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ta(function(){Um(null,t,null,null)}),e[xi]=null}};function zm(t){this._internalRoot=t}zm.prototype.unstable_scheduleHydration=function(t){if(t){var e=AR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qi.length&&e!==0&&e<Qi[n].priority;n++);Qi.splice(n,0,t),n===0&&PR(t)}};function qb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pT(){}function oF(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=op(a);o.call(u)}}var a=K2(e,r,t,0,null,!1,!1,"",pT);return t._reactRootContainer=a,t[xi]=a.current,kc(t.nodeType===8?t.parentNode:t),Ta(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=op(l);s.call(u)}}var l=zb(t,0,!1,null,null,!1,!1,"",pT);return t._reactRootContainer=l,t[xi]=l.current,kc(t.nodeType===8?t.parentNode:t),Ta(function(){Um(e,l,n,r)}),l}function Wm(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=op(a);s.call(l)}}Um(e,a,t,i)}else a=oF(n,e,t,i,r);return op(a)}SR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wu(e.pendingLanes);n!==0&&(fb(e,n|1),En(e,dt()),!(Ie&6)&&(Js=dt()+500,jo()))}break;case 13:Ta(function(){var r=Ei(t,1);if(r!==null){var i=cn();wr(r,t,1,i)}}),Hb(t,1)}};hb=function(t){if(t.tag===13){var e=Ei(t,134217728);if(e!==null){var n=cn();wr(e,t,134217728,n)}Hb(t,134217728)}};TR=function(t){if(t.tag===13){var e=mo(t),n=Ei(t,e);if(n!==null){var r=cn();wr(n,t,e,r)}Hb(t,e)}};AR=function(){return ke};IR=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};u0=function(t,e,n){switch(e){case"input":if(n0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=jm(r);if(!i)throw Error(J(90));iR(r),n0(r,i)}}}break;case"textarea":aR(t,n);break;case"select":e=n.value,e!=null&&Cs(t,!!n.multiple,e,!1)}};dR=Vb;pR=Ta;var aF={usingClientEntryPoint:!1,Events:[$f,ys,jm,fR,hR,Vb]},Iu={findFiberByHostInstance:sa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sF={bundleType:Iu.bundleType,version:Iu.version,rendererPackageName:Iu.rendererPackageName,rendererConfig:Iu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yR(t),t===null?null:t.stateNode},findFiberByHostInstance:Iu.findFiberByHostInstance||iF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{km=Fh.inject(sF),Ur=Fh}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aF;$n.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qb(e))throw Error(J(200));return rF(t,e,null,n)};$n.createRoot=function(t,e){if(!qb(t))throw Error(J(299));var n=!1,r="",i=Y2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=zb(t,1,!1,null,null,n,!1,r,i),t[xi]=e.current,kc(t.nodeType===8?t.parentNode:t),new Wb(e)};$n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=yR(e),t=t===null?null:t.stateNode,t};$n.flushSync=function(t){return Ta(t)};$n.hydrate=function(t,e,n){if(!Hm(e))throw Error(J(200));return Wm(null,t,e,!0,n)};$n.hydrateRoot=function(t,e,n){if(!qb(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=Y2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=K2(e,null,t,1,n??null,i,!1,o,a),t[xi]=e.current,kc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new zm(e)};$n.render=function(t,e,n){if(!Hm(e))throw Error(J(200));return Wm(null,t,e,!1,n)};$n.unmountComponentAtNode=function(t){if(!Hm(t))throw Error(J(40));return t._reactRootContainer?(Ta(function(){Wm(null,null,t,!1,function(){t._reactRootContainer=null,t[xi]=null})}),!0):!1};$n.unstable_batchedUpdates=Vb;$n.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hm(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Wm(t,e,n,!1,r)};$n.version="18.3.1-next-f1338f8080-20240426";function X2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(X2)}catch(t){console.error(t)}}X2(),Xk.exports=$n;var lF=Xk.exports,mT=lF;Yv.createRoot=mT.createRoot,Yv.hydrateRoot=mT.hydrateRoot;const uF="modulepreload",cF=function(t){return"/baymax/"+t},gT={},fF=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=cF(o),o in gT)return;gT[o]=!0;const a=o.endsWith(".css"),s=a?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const f=i[c];if(f.href===o&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${s}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":uF,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((c,f)=>{u.addEventListener("load",c),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o})};var yT="popstate";function hF(t={}){function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return U0("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Fc(i)}return pF(e,n,null,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Er(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dF(){return Math.random().toString(36).substring(2,10)}function vT(t,e){return{usr:t.state,key:t.key,idx:e}}function U0(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Nl(e):e,state:n,key:e&&e.key||r||dF()}}function Fc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Nl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function pF(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s="POP",l=null,u=c();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function c(){return(a.state||{idx:null}).idx}function f(){s="POP";let b=c(),y=b==null?null:b-u;u=b,l&&l({action:s,location:g.location,delta:y})}function d(b,y){s="PUSH";let v=U0(g.location,b,y);n&&n(v,b),u=c()+1;let x=vT(v,u),O=g.createHref(v);try{a.pushState(x,"",O)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(O)}o&&l&&l({action:s,location:g.location,delta:1})}function p(b,y){s="REPLACE";let v=U0(g.location,b,y);n&&n(v,b),u=c();let x=vT(v,u),O=g.createHref(v);a.replaceState(x,"",O),o&&l&&l({action:s,location:g.location,delta:0})}function m(b){return mF(b)}let g={get action(){return s},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(yT,f),l=b,()=>{i.removeEventListener(yT,f),l=null}},createHref(b){return e(i,b)},createURL:m,encodeLocation(b){let y=m(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:p,go(b){return a.go(b)}};return g}function mF(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Fc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Q2(t,e,n="/"){return gF(t,e,n,!1)}function gF(t,e,n,r){let i=typeof e=="string"?Nl(e):e,o=Ti(i.pathname||"/",n);if(o==null)return null;let a=J2(t);yF(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=PF(o);s=AF(a[l],u,r)}return s}function J2(t,e=[],n=[],r="",i=!1){let o=(a,s,l=i,u)=>{let c={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;Qe(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let f=pi([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(Qe(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),J2(a.children,e,d,f,l)),!(a.path==null&&!a.index)&&e.push({path:f,score:SF(f,a.index),routesMeta:d})};return t.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))o(a,s);else for(let u of Z2(a.path))o(a,s,!0,u)}),e}function Z2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=Z2(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function yF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var vF=/^:[\w-]+$/,_F=3,wF=2,bF=1,xF=10,EF=-2,_T=t=>t==="*";function SF(t,e){let n=t.split("/"),r=n.length;return n.some(_T)&&(r+=EF),e&&(r+=wF),n.filter(i=>!_T(i)).reduce((i,o)=>i+(vF.test(o)?_F:o===""?bF:xF),r)}function TF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function AF(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=ap({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=ap({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:pi([o,f.pathname]),pathnameBase:RF(pi([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=pi([o,f.pathnameBase]))}return a}function ap(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=IF(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:f},d)=>{if(c==="*"){let m=s[d]||"";a=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const p=s[d];return f&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function IF(t,e=!1,n=!0){Er(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function PF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Er(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ti(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var CF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function OF(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Nl(t):t,o;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?o=wT(n.substring(1),"/"):o=wT(n,e)):o=e,{pathname:o,search:NF(r),hash:MF(i)}}function wT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ev(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gb(t){let e=kF(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Kb(t,e,n,r=!1){let i;typeof t=="string"?i=Nl(t):(i={...t},Qe(!i.pathname||!i.pathname.includes("?"),ev("?","pathname","search",i)),Qe(!i.pathname||!i.pathname.includes("#"),ev("#","pathname","hash",i)),Qe(!i.search||!i.search.includes("#"),ev("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}s=f>=0?e[f]:"/"}let l=OF(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var pi=t=>t.join("/").replace(/\/\/+/g,"/"),RF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),NF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,MF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,jF=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function DF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function $F(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var eN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function tN(t,e){let n=t;if(typeof n!="string"||!CF.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(eN)try{let o=new URL(window.location.href),a=n.startsWith("//")?new URL(o.protocol+n):new URL(n),s=Ti(a.pathname,e);a.origin===o.origin&&s!=null?n=s+a.search+a.hash:i=!0}catch{Er(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var nN=["POST","PUT","PATCH","DELETE"];new Set(nN);var LF=["GET",...nN];new Set(LF);var Ml=j.createContext(null);Ml.displayName="DataRouter";var qm=j.createContext(null);qm.displayName="DataRouterState";var VF=j.createContext(!1),rN=j.createContext({isTransitioning:!1});rN.displayName="ViewTransition";var FF=j.createContext(new Map);FF.displayName="Fetchers";var BF=j.createContext(null);BF.displayName="Await";var Vn=j.createContext(null);Vn.displayName="Navigation";var Vf=j.createContext(null);Vf.displayName="Location";var ei=j.createContext({outlet:null,matches:[],isDataRoute:!1});ei.displayName="Route";var Yb=j.createContext(null);Yb.displayName="RouteError";var iN="REACT_ROUTER_ERROR",UF="REDIRECT",zF="ROUTE_ERROR_RESPONSE";function HF(t){if(t.startsWith(`${iN}:${UF}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function WF(t){if(t.startsWith(`${iN}:${zF}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new jF(e.status,e.statusText,e.data)}catch{}}function qF(t,{relative:e}={}){Qe(jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(Vn),{hash:i,pathname:o,search:a}=Ff(t,{relative:e}),s=o;return n!=="/"&&(s=o==="/"?n:pi([n,o])),r.createHref({pathname:s,search:a,hash:i})}function jl(){return j.useContext(Vf)!=null}function ti(){return Qe(jl(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Vf).location}var oN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aN(t){j.useContext(Vn).static||j.useLayoutEffect(t)}function Do(){let{isDataRoute:t}=j.useContext(ei);return t?o6():GF()}function GF(){Qe(jl(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(Ml),{basename:e,navigator:n}=j.useContext(Vn),{matches:r}=j.useContext(ei),{pathname:i}=ti(),o=JSON.stringify(Gb(r)),a=j.useRef(!1);return aN(()=>{a.current=!0}),j.useCallback((l,u={})=>{if(Er(a.current,oN),!a.current)return;if(typeof l=="number"){n.go(l);return}let c=Kb(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:pi([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,o,i,t])}j.createContext(null);function Ff(t,{relative:e}={}){let{matches:n}=j.useContext(ei),{pathname:r}=ti(),i=JSON.stringify(Gb(n));return j.useMemo(()=>Kb(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function KF(t,e){return sN(t,e)}function sN(t,e,n,r,i){var v;Qe(jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=j.useContext(Vn),{matches:a}=j.useContext(ei),s=a[a.length-1],l=s?s.params:{},u=s?s.pathname:"/",c=s?s.pathnameBase:"/",f=s&&s.route;{let x=f&&f.path||"";uN(u,!f||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let d=ti(),p;if(e){let x=typeof e=="string"?Nl(e):e;Qe(c==="/"||((v=x.pathname)==null?void 0:v.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${x.pathname}" was given in the \`location\` prop.`),p=x}else p=d;let m=p.pathname||"/",g=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=Q2(t,{pathname:g});Er(f||b!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Er(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=ZF(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:pi([c,o.encodeLocation?o.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:pi([c,o.encodeLocation?o.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),a,n,r,i);return e&&y?j.createElement(Vf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},y):y}function YF(){let t=i6(),e=DF(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:o},"ErrorBoundary")," or"," ",j.createElement("code",{style:o},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,a)}var XF=j.createElement(YF,null),lN=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=WF(t.digest);n&&(t=n)}let e=t!==void 0?j.createElement(ei.Provider,{value:this.props.routeContext},j.createElement(Yb.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?j.createElement(QF,{error:t},e):e}};lN.contextType=VF;var tv=new WeakMap;function QF({children:t,error:e}){let{basename:n}=j.useContext(Vn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=HF(e.digest);if(r){let i=tv.get(e);if(i)throw i;let o=tN(r.location,n);if(eN&&!tv.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw tv.set(e,a),a}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function JF({routeContext:t,match:e,children:n}){let r=j.useContext(Ml);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(ei.Provider,{value:t},n)}function ZF(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n==null?void 0:n.errors;if(a!=null){let c=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);Qe(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,c+1))}let s=!1,l=-1;if(n)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(l=c),f.route.id){let{loaderData:d,errors:p}=n,m=f.route.loader&&!d.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){s=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}let u=n&&r?(c,f)=>{var d,p;r(c,{location:n.location,params:((p=(d=n.matches)==null?void 0:d[0])==null?void 0:p.params)??{},unstable_pattern:$F(n.matches),errorInfo:f})}:void 0;return o.reduceRight((c,f,d)=>{let p,m=!1,g=null,b=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||XF,s&&(l<0&&d===0?(uN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,b=null):l===d&&(m=!0,b=f.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,d+1)),v=()=>{let x;return p?x=g:m?x=b:f.route.Component?x=j.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=c,j.createElement(JF,{match:f,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?j.createElement(lN,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0},onError:u}):v()},null)}function Xb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e6(t){let e=j.useContext(Ml);return Qe(e,Xb(t)),e}function t6(t){let e=j.useContext(qm);return Qe(e,Xb(t)),e}function n6(t){let e=j.useContext(ei);return Qe(e,Xb(t)),e}function Qb(t){let e=n6(t),n=e.matches[e.matches.length-1];return Qe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function r6(){return Qb("useRouteId")}function i6(){var r;let t=j.useContext(Yb),e=t6("useRouteError"),n=Qb("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function o6(){let{router:t}=e6("useNavigate"),e=Qb("useNavigate"),n=j.useRef(!1);return aN(()=>{n.current=!0}),j.useCallback(async(i,o={})=>{Er(n.current,oN),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var bT={};function uN(t,e,n){!e&&!bT[t]&&(bT[t]=!0,Er(!1,n))}j.memo(a6);function a6({routes:t,future:e,state:n,onError:r}){return sN(t,void 0,n,r,e)}function xT({to:t,replace:e,state:n,relative:r}){Qe(jl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=j.useContext(Vn);Er(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=j.useContext(ei),{pathname:a}=ti(),s=Do(),l=Kb(t,Gb(o),a,r==="path"),u=JSON.stringify(l);return j.useEffect(()=>{s(JSON.parse(u),{replace:e,state:n,relative:r})},[s,u,r,e,n]),null}function Wn(t){Qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function s6({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:a}){Qe(!jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),l=j.useMemo(()=>({basename:s,navigator:i,static:o,unstable_useTransitions:a,future:{}}),[s,i,o,a]);typeof n=="string"&&(n=Nl(n));let{pathname:u="/",search:c="",hash:f="",state:d=null,key:p="default"}=n,m=j.useMemo(()=>{let g=Ti(u,s);return g==null?null:{location:{pathname:g,search:c,hash:f,state:d,key:p},navigationType:r}},[s,u,c,f,d,p,r]);return Er(m!=null,`<Router basename="${s}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:j.createElement(Vn.Provider,{value:l},j.createElement(Vf.Provider,{children:e,value:m}))}function l6({children:t,location:e}){return KF(z0(t),e)}function z0(t,e=[]){let n=[];return j.Children.forEach(t,(r,i)=>{if(!j.isValidElement(r))return;let o=[...e,i];if(r.type===j.Fragment){n.push.apply(n,z0(r.props.children,o));return}Qe(r.type===Wn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=z0(r.props.children,o)),n.push(a)}),n}var Ed="get",Sd="application/x-www-form-urlencoded";function Gm(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function u6(t){return Gm(t)&&t.tagName.toLowerCase()==="button"}function c6(t){return Gm(t)&&t.tagName.toLowerCase()==="form"}function f6(t){return Gm(t)&&t.tagName.toLowerCase()==="input"}function h6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function d6(t,e){return t.button===0&&(!e||e==="_self")&&!h6(t)}var Bh=null;function p6(){if(Bh===null)try{new FormData(document.createElement("form"),0),Bh=!1}catch{Bh=!0}return Bh}var m6=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nv(t){return t!=null&&!m6.has(t)?(Er(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sd}"`),null):t}function g6(t,e){let n,r,i,o,a;if(c6(t)){let s=t.getAttribute("action");r=s?Ti(s,e):null,n=t.getAttribute("method")||Ed,i=nv(t.getAttribute("enctype"))||Sd,o=new FormData(t)}else if(u6(t)||f6(t)&&(t.type==="submit"||t.type==="image")){let s=t.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||s.getAttribute("action");if(r=l?Ti(l,e):null,n=t.getAttribute("formmethod")||s.getAttribute("method")||Ed,i=nv(t.getAttribute("formenctype"))||nv(s.getAttribute("enctype"))||Sd,o=new FormData(s,t),!p6()){let{name:u,type:c,value:f}=t;if(c==="image"){let d=u?`${u}.`:"";o.append(`${d}x`,"0"),o.append(`${d}y`,"0")}else u&&o.append(u,f)}}else{if(Gm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ed,r=null,i=Sd,a=t}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jb(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function y6(t,e,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&Ti(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function v6(t,e){if(t.id in e)return e[t.id];try{let n=await fF(()=>import(t.module),[]);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _6(t){return t!=null&&typeof t.page=="string"}function w6(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function b6(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let a=await v6(o,n);return a.links?a.links():[]}return[]}));return T6(r.flat(1).filter(w6).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ET(t,e,n,r,i,o){let a=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,s=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return o==="assets"?e.filter((l,u)=>a(l,u)||s(l,u)):o==="data"?e.filter((l,u)=>{var f;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(a(l,u)||s(l,u))return!0;if(l.route.shouldRevalidate){let d=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function x6(t,e,{includeHydrateFallback:n}={}){return E6(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function E6(t){return[...new Set(t)]}function S6(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function T6(t,e){let n=new Set,r=new Set(e);return t.reduce((i,o)=>{if(e&&!_6(o)&&o.as==="script"&&o.href&&r.has(o.href))return i;let s=JSON.stringify(S6(o));return n.has(s)||(n.add(s),i.push({key:s,link:o})),i},[])}function cN(){let t=j.useContext(Ml);return Jb(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function A6(){let t=j.useContext(qm);return Jb(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Zb=j.createContext(void 0);Zb.displayName="FrameworkContext";function fN(){let t=j.useContext(Zb);return Jb(t,"You must render this element inside a <HydratedRouter> element"),t}function I6(t,e){let n=j.useContext(Zb),[r,i]=j.useState(!1),[o,a]=j.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:f}=e,d=j.useRef(null);j.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let g=y=>{y.forEach(v=>{a(v.isIntersecting)})},b=new IntersectionObserver(g,{threshold:.5});return d.current&&b.observe(d.current),()=>{b.disconnect()}}},[t]),j.useEffect(()=>{if(r){let g=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(g)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),a(!1)};return n?t!=="intent"?[o,d,{}]:[o,d,{onFocus:Pu(s,p),onBlur:Pu(l,m),onMouseEnter:Pu(u,p),onMouseLeave:Pu(c,m),onTouchStart:Pu(f,p)}]:[!1,d,{}]}function Pu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function P6({page:t,...e}){let{router:n}=cN(),r=j.useMemo(()=>Q2(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?j.createElement(O6,{page:t,matches:r,...e}):null}function C6(t){let{manifest:e,routeModules:n}=fN(),[r,i]=j.useState([]);return j.useEffect(()=>{let o=!1;return b6(t,e,n).then(a=>{o||i(a)}),()=>{o=!0}},[t,e,n]),r}function O6({page:t,matches:e,...n}){let r=ti(),{future:i,manifest:o,routeModules:a}=fN(),{basename:s}=cN(),{loaderData:l,matches:u}=A6(),c=j.useMemo(()=>ET(t,e,u,o,r,"data"),[t,e,u,o,r]),f=j.useMemo(()=>ET(t,e,u,o,r,"assets"),[t,e,u,o,r]),d=j.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let g=new Set,b=!1;if(e.forEach(v=>{var O;let x=o.routes[v.route.id];!x||!x.hasLoader||(!c.some(S=>S.route.id===v.route.id)&&v.route.id in l&&((O=a[v.route.id])!=null&&O.shouldRevalidate)||x.hasClientLoader?b=!0:g.add(v.route.id))}),g.size===0)return[];let y=y6(t,s,i.unstable_trailingSlashAwareDataRequests,"data");return b&&g.size>0&&y.searchParams.set("_routes",e.filter(v=>g.has(v.route.id)).map(v=>v.route.id).join(",")),[y.pathname+y.search]},[s,i.unstable_trailingSlashAwareDataRequests,l,r,o,c,e,t,a]),p=j.useMemo(()=>x6(f,o),[f,o]),m=C6(f);return j.createElement(j.Fragment,null,d.map(g=>j.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),p.map(g=>j.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),m.map(({key:g,link:b})=>j.createElement("link",{key:g,nonce:n.nonce,...b,crossOrigin:b.crossOrigin??n.crossOrigin})))}function k6(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var R6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{R6&&(window.__reactRouterVersion="7.13.0")}catch{}function N6({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=j.useRef();i.current==null&&(i.current=hF({window:r,v5Compat:!0}));let o=i.current,[a,s]=j.useState({action:o.action,location:o.location}),l=j.useCallback(u=>{n===!1?s(u):j.startTransition(()=>s(u))},[n]);return j.useLayoutEffect(()=>o.listen(l),[o,l]),j.createElement(s6,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o,unstable_useTransitions:n})}var hN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Aa=j.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:d,...p},m){let{basename:g,unstable_useTransitions:b}=j.useContext(Vn),y=typeof u=="string"&&hN.test(u),v=tN(u,g);u=v.to;let x=qF(u,{relative:i}),[O,S,A]=I6(r,p),E=D6(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:f,unstable_defaultShouldRevalidate:d,unstable_useTransitions:b});function T(N){e&&e(N),N.defaultPrevented||E(N)}let P=j.createElement("a",{...p,...A,href:v.absoluteURL||x,onClick:v.isExternal||o?e:T,ref:k6(m,S),target:l,"data-discover":!y&&n==="render"?"true":void 0});return O&&!y?j.createElement(j.Fragment,null,P,j.createElement(P6,{page:x})):P});Aa.displayName="Link";var Gu=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:s,children:l,...u},c){let f=Ff(a,{relative:u.relative}),d=ti(),p=j.useContext(qm),{navigator:m,basename:g}=j.useContext(Vn),b=p!=null&&B6(f)&&s===!0,y=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,v=d.pathname,x=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(v=v.toLowerCase(),x=x?x.toLowerCase():null,y=y.toLowerCase()),x&&g&&(x=Ti(x,g)||x);const O=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let S=v===y||!i&&v.startsWith(y)&&v.charAt(O)==="/",A=x!=null&&(x===y||!i&&x.startsWith(y)&&x.charAt(y.length)==="/"),E={isActive:S,isPending:A,isTransitioning:b},T=S?e:void 0,P;typeof r=="function"?P=r(E):P=[r,S?"active":null,A?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(E):o;return j.createElement(Aa,{...u,"aria-current":T,className:P,ref:c,style:N,to:a,viewTransition:s},typeof l=="function"?l(E):l)});Gu.displayName="NavLink";var M6=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:a=Ed,action:s,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:d,...p},m)=>{let{unstable_useTransitions:g}=j.useContext(Vn),b=V6(),y=F6(s,{relative:u}),v=a.toLowerCase()==="get"?"get":"post",x=typeof s=="string"&&hN.test(s),O=S=>{if(l&&l(S),S.defaultPrevented)return;S.preventDefault();let A=S.nativeEvent.submitter,E=(A==null?void 0:A.getAttribute("formmethod"))||a,T=()=>b(A||S.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:i,state:o,relative:u,preventScrollReset:c,viewTransition:f,unstable_defaultShouldRevalidate:d});g&&n!==!1?j.startTransition(()=>T()):T()};return j.createElement("form",{ref:m,method:v,action:y,onSubmit:r?l:O,...p,"data-discover":!x&&t==="render"?"true":void 0})});M6.displayName="Form";function j6(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dN(t){let e=j.useContext(Ml);return Qe(e,j6(t)),e}function D6(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:s,unstable_useTransitions:l}={}){let u=Do(),c=ti(),f=Ff(t,{relative:o});return j.useCallback(d=>{if(d6(d,e)){d.preventDefault();let p=n!==void 0?n:Fc(c)===Fc(f),m=()=>u(t,{replace:p,state:r,preventScrollReset:i,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:s});l?j.startTransition(()=>m()):m()}},[c,u,f,n,r,e,t,i,o,a,s,l])}var $6=0,L6=()=>`__${String(++$6)}__`;function V6(){let{router:t}=dN("useSubmit"),{basename:e}=j.useContext(Vn),n=r6(),r=t.fetch,i=t.navigate;return j.useCallback(async(o,a={})=>{let{action:s,method:l,encType:u,formData:c,body:f}=g6(o,e);if(a.navigate===!1){let d=a.fetcherKey||L6();await r(d,n,a.action||s,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:c,body:f,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await i(a.action||s,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:c,body:f,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,e,n])}function F6(t,{relative:e}={}){let{basename:n}=j.useContext(Vn),r=j.useContext(ei);Qe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Ff(t||".",{relative:e})},a=ti();if(t==null){o.search=a.search;let s=new URLSearchParams(o.search),l=s.getAll("index");if(l.some(c=>c==="")){s.delete("index"),l.filter(f=>f).forEach(f=>s.append("index",f));let c=s.toString();o.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:pi([n,o.pathname])),Fc(o)}function B6(t,{relative:e}={}){let n=j.useContext(rN);Qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=dN("useViewTransitionState"),i=Ff(t,{relative:e});if(!n.isTransitioning)return!1;let o=Ti(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Ti(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ap(i.pathname,a)!=null||ap(i.pathname,o)!=null}const pN=j.createContext(void 0),$o=()=>{const t=j.useContext(pN);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t},U6=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},z6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},gN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|s>>4;let d=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(d=64)),r.push(n[c],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):z6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||f==null)throw new H6;const d=o<<2|s>>4;if(r.push(d),u!==64){const p=s<<4&240|u>>2;if(r.push(p),f!==64){const m=u<<6&192|f;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class H6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W6=function(t){const e=mN(t);return gN.encodeByteArray(e,!0)},sp=function(t){return W6(t).replace(/\./g,"")},yN=function(t){try{return gN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=()=>q6().__FIREBASE_DEFAULTS__,K6=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Y6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yN(t[1]);return e&&JSON.parse(e)},Km=()=>{try{return U6()||G6()||K6()||Y6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vN=t=>{var e,n;return(n=(e=Km())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},X6=t=>{const e=vN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_N=()=>{var t;return(t=Km())==null?void 0:t.config},wN=t=>{var e;return(e=Km())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t},s="";return[sp(JSON.stringify(n)),sp(JSON.stringify(a)),s].join(".")}const cc={};function Z6(){const t={prod:[],emulator:[]};for(const e of Object.keys(cc))cc[e]?t.emulator.push(e):t.prod.push(e);return t}function eB(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ST=!1;function xN(t,e){if(typeof window>"u"||typeof document>"u"||!Dl(window.location.host)||cc[t]===e||cc[t]||ST)return;cc[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",o=Z6().prod.length>0;function a(){const d=document.getElementById(r);d&&d.remove()}function s(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function u(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{ST=!0,a()},d}function c(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=eB(r),p=n("text"),m=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),b=document.getElementById(g)||document.createElement("a"),y=n("preprendIcon"),v=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const x=d.element;s(x),c(b,g);const O=u();l(v,y),x.append(v,m,b,O),document.body.appendChild(x)}o?(m.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function nB(){var e;const t=(e=Km())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oB(){const t=an();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aB(){return!nB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SN(){try{return typeof indexedDB=="object"}catch{return!1}}function TN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}function sB(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB="FirebaseError";class Pr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lB,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ua.prototype.create)}}class Ua{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?uB(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Pr(i,s,r)}}function uB(t,e){return t.replace(cB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const cB=/\{\$([^}]+)}/g;function fB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ao(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(TT(o)&&TT(a)){if(!Ao(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function TT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ku(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Yu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function hB(t,e){const n=new dB(t,e);return n.subscribe.bind(n)}class dB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");pB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=rv),i.error===void 0&&(i.error=rv),i.complete===void 0&&(i.complete=rv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB=1e3,gB=2,yB=4*60*60*1e3,vB=.5;function AT(t,e=mB,n=gB){const r=e*Math.pow(n,t),i=Math.round(vB*r*(Math.random()-.5)*2);return Math.min(yB,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class Sr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Q6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bB(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wB(t){return t===ta?void 0:t}function bB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _B(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(be||(be={}));const EB={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},SB=be.INFO,TB={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},AB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=TB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ym{constructor(e){this.name=e,this._logLevel=SB,this._logHandler=AB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const IB=(t,e)=>e.some(n=>t instanceof n);let IT,PT;function PB(){return IT||(IT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CB(){return PT||(PT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AN=new WeakMap,H0=new WeakMap,IN=new WeakMap,iv=new WeakMap,e1=new WeakMap;function OB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(yo(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&AN.set(n,t)}).catch(()=>{}),e1.set(e,t),e}function kB(t){if(H0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});H0.set(t,e)}let W0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return H0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RB(t){W0=t(W0)}function NB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ov(this),e,...n);return IN.set(r,e.sort?e.sort():[e]),yo(r)}:CB().includes(t)?function(...e){return t.apply(ov(this),e),yo(AN.get(this))}:function(...e){return yo(t.apply(ov(this),e))}}function MB(t){return typeof t=="function"?NB(t):(t instanceof IDBTransaction&&kB(t),IB(t,PB())?new Proxy(t,W0):t)}function yo(t){if(t instanceof IDBRequest)return OB(t);if(iv.has(t))return iv.get(t);const e=MB(t);return e!==t&&(iv.set(t,e),e1.set(e,t)),e}const ov=t=>e1.get(t);function PN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=yo(a);return r&&a.addEventListener("upgradeneeded",l=>{r(yo(a.result),l.oldVersion,l.newVersion,yo(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const jB=["get","getKey","getAll","getAllKeys","count"],DB=["put","add","delete","clear"],av=new Map;function CT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(av.get(e))return av.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=DB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jB.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return av.set(e,o),o}RB(t=>({...t,get:(e,n,r)=>CT(e,n)||t.get(e,n,r),has:(e,n)=>!!CT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const q0="@firebase/app",OT="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new Ym("@firebase/app"),VB="@firebase/app-compat",FB="@firebase/analytics-compat",BB="@firebase/analytics",UB="@firebase/app-check-compat",zB="@firebase/app-check",HB="@firebase/auth",WB="@firebase/auth-compat",qB="@firebase/database",GB="@firebase/data-connect",KB="@firebase/database-compat",YB="@firebase/functions",XB="@firebase/functions-compat",QB="@firebase/installations",JB="@firebase/installations-compat",ZB="@firebase/messaging",eU="@firebase/messaging-compat",tU="@firebase/performance",nU="@firebase/performance-compat",rU="@firebase/remote-config",iU="@firebase/remote-config-compat",oU="@firebase/storage",aU="@firebase/storage-compat",sU="@firebase/firestore",lU="@firebase/ai",uU="@firebase/firestore-compat",cU="firebase",fU="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="[DEFAULT]",hU={[q0]:"fire-core",[VB]:"fire-core-compat",[BB]:"fire-analytics",[FB]:"fire-analytics-compat",[zB]:"fire-app-check",[UB]:"fire-app-check-compat",[HB]:"fire-auth",[WB]:"fire-auth-compat",[qB]:"fire-rtdb",[GB]:"fire-data-connect",[KB]:"fire-rtdb-compat",[YB]:"fire-fn",[XB]:"fire-fn-compat",[QB]:"fire-iid",[JB]:"fire-iid-compat",[ZB]:"fire-fcm",[eU]:"fire-fcm-compat",[tU]:"fire-perf",[nU]:"fire-perf-compat",[rU]:"fire-rc",[iU]:"fire-rc-compat",[oU]:"fire-gcs",[aU]:"fire-gcs-compat",[sU]:"fire-fst",[uU]:"fire-fst-compat",[lU]:"fire-vertex","fire-js":"fire-js",[cU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=new Map,dU=new Map,K0=new Map;function kT(t,e){try{t.container.addComponent(e)}catch(n){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qr(t){const e=t.name;if(K0.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;K0.set(e,t);for(const n of lp.values())kT(n,t);for(const n of dU.values())kT(n,t);return!0}function za(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vo=new Ua("app","Firebase",pU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=fU;function CN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:G0,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw vo.create("bad-app-name",{appName:String(i)});if(n||(n=_N()),!n)throw vo.create("no-options");const o=lp.get(i);if(o){if(Ao(n,o.options)&&Ao(r,o.config))return o;throw vo.create("duplicate-app",{appName:i})}const a=new xB(i);for(const l of K0.values())a.addComponent(l);const s=new mU(n,r,a);return lp.set(i,s),s}function t1(t=G0){const e=lp.get(t);if(!e&&t===G0&&_N())return CN();if(!e)throw vo.create("no-app",{appName:t});return e}function Zn(t,e,n){let r=hU[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(a.join(" "));return}Qr(new Sr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU="firebase-heartbeat-database",yU=1,Bc="firebase-heartbeat-store";let sv=null;function ON(){return sv||(sv=PN(gU,yU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bc)}catch(n){console.warn(n)}}}}).catch(t=>{throw vo.create("idb-open",{originalErrorMessage:t.message})})),sv}async function vU(t){try{const n=(await ON()).transaction(Bc),r=await n.objectStore(Bc).get(kN(t));return await n.done,r}catch(e){if(e instanceof Pr)Ai.warn(e.message);else{const n=vo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(n.message)}}}async function RT(t,e){try{const r=(await ON()).transaction(Bc,"readwrite");await r.objectStore(Bc).put(e,kN(t)),await r.done}catch(n){if(n instanceof Pr)Ai.warn(n.message);else{const r=vo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ai.warn(r.message)}}}function kN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=1024,wU=30;class bU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=NT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>wU){const a=SU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ai.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=NT(),{heartbeatsToSend:r,unsentEntries:i}=xU(this._heartbeatsCache.heartbeats),o=sp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ai.warn(n),""}}}function NT(){return new Date().toISOString().substring(0,10)}function xU(t,e=_U){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),MT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),MT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class EU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SN()?TN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return RT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return RT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function MT(t){return sp(JSON.stringify({version:2,heartbeats:t})).length}function SU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t){Qr(new Sr("platform-logger",e=>new $B(e),"PRIVATE")),Qr(new Sr("heartbeat",e=>new bU(e),"PRIVATE")),Zn(q0,OT,t),Zn(q0,OT,"esm2020"),Zn("fire-js","")}TU("");var AU="firebase",IU="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn(AU,IU,"app");const RN="@firebase/installations",n1="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=1e4,MN=`w:${n1}`,jN="FIS_v2",PU="https://firebaseinstallations.googleapis.com/v1",CU=60*60*1e3,OU="installations",kU="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ia=new Ua(OU,kU,RU);function DN(t){return t instanceof Pr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N({projectId:t}){return`${PU}/projects/${t}/installations`}function LN(t){return{token:t.token,requestStatus:2,expiresIn:MU(t.expiresIn),creationTime:Date.now()}}async function VN(t,e){const r=(await e.json()).error;return Ia.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function FN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function NU(t,{refreshToken:e}){const n=FN(t);return n.append("Authorization",jU(e)),n}async function BN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function MU(t){return Number(t.replace("s","000"))}function jU(t){return`${jN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DU({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=$N(t),i=FN(t),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={fid:n,authVersion:jN,appId:t.appId,sdkVersion:MN},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await BN(()=>fetch(r,s));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:LN(u.authToken)}}else throw await VN("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=/^[cdef][\w-]{21}$/,Y0="";function VU(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=FU(t);return LU.test(n)?n:Y0}catch{return Y0}}function FU(t){return $U(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new Map;function HN(t,e){const n=Xm(t);WN(n,e),BU(n,e)}function WN(t,e){const n=zN.get(t);if(n)for(const r of n)r(e)}function BU(t,e){const n=UU();n&&n.postMessage({key:t,fid:e}),zU()}let ca=null;function UU(){return!ca&&"BroadcastChannel"in self&&(ca=new BroadcastChannel("[Firebase] FID Change"),ca.onmessage=t=>{WN(t.data.key,t.data.fid)}),ca}function zU(){zN.size===0&&ca&&(ca.close(),ca=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU="firebase-installations-database",WU=1,Pa="firebase-installations-store";let lv=null;function r1(){return lv||(lv=PN(HU,WU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Pa)}}})),lv}async function up(t,e){const n=Xm(t),i=(await r1()).transaction(Pa,"readwrite"),o=i.objectStore(Pa),a=await o.get(n);return await o.put(e,n),await i.done,(!a||a.fid!==e.fid)&&HN(t,e.fid),e}async function qN(t){const e=Xm(t),r=(await r1()).transaction(Pa,"readwrite");await r.objectStore(Pa).delete(e),await r.done}async function Qm(t,e){const n=Xm(t),i=(await r1()).transaction(Pa,"readwrite"),o=i.objectStore(Pa),a=await o.get(n),s=e(a);return s===void 0?await o.delete(n):await o.put(s,n),await i.done,s&&(!a||a.fid!==s.fid)&&HN(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1(t){let e;const n=await Qm(t.appConfig,r=>{const i=qU(r),o=GU(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===Y0?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function qU(t){const e=t||{fid:VU(),registrationStatus:0};return GN(e)}function GU(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ia.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=KU(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:YU(t)}:{installationEntry:e}}async function KU(t,e){try{const n=await DU(t,e);return up(t.appConfig,n)}catch(n){throw DN(n)&&n.customData.serverCode===409?await qN(t.appConfig):await up(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function YU(t){let e=await jT(t.appConfig);for(;e.registrationStatus===1;)await UN(100),e=await jT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await i1(t);return r||n}return e}function jT(t){return Qm(t,e=>{if(!e)throw Ia.create("installation-not-found");return GN(e)})}function GN(t){return XU(t)?{fid:t.fid,registrationStatus:0}:t}function XU(t){return t.registrationStatus===1&&t.registrationTime+NN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QU({appConfig:t,heartbeatServiceProvider:e},n){const r=JU(t,n),i=NU(t,n),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={installation:{sdkVersion:MN,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await BN(()=>fetch(r,s));if(l.ok){const u=await l.json();return LN(u)}else throw await VN("Generate Auth Token",l)}function JU(t,{fid:e}){return`${$N(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o1(t,e=!1){let n;const r=await Qm(t.appConfig,o=>{if(!KN(o))throw Ia.create("not-registered");const a=o.authToken;if(!e&&t9(a))return o;if(a.requestStatus===1)return n=ZU(t,e),o;{if(!navigator.onLine)throw Ia.create("app-offline");const s=r9(o);return n=e9(t,s),s}});return n?await n:r.authToken}async function ZU(t,e){let n=await DT(t.appConfig);for(;n.authToken.requestStatus===1;)await UN(100),n=await DT(t.appConfig);const r=n.authToken;return r.requestStatus===0?o1(t,e):r}function DT(t){return Qm(t,e=>{if(!KN(e))throw Ia.create("not-registered");const n=e.authToken;return i9(n)?{...e,authToken:{requestStatus:0}}:e})}async function e9(t,e){try{const n=await QU(t,e),r={...e,authToken:n};return await up(t.appConfig,r),n}catch(n){if(DN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await qN(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await up(t.appConfig,r)}throw n}}function KN(t){return t!==void 0&&t.registrationStatus===2}function t9(t){return t.requestStatus===2&&!n9(t)}function n9(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+CU}function r9(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function i9(t){return t.requestStatus===1&&t.requestTime+NN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o9(t){const e=t,{installationEntry:n,registrationPromise:r}=await i1(e);return r?r.catch(console.error):o1(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a9(t,e=!1){const n=t;return await s9(n),(await o1(n,e)).token}async function s9(t){const{registrationPromise:e}=await i1(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(t){if(!t||!t.options)throw uv("App Configuration");if(!t.name)throw uv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw uv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function uv(t){return Ia.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="installations",u9="installations-internal",c9=t=>{const e=t.getProvider("app").getImmediate(),n=l9(e),r=za(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},f9=t=>{const e=t.getProvider("app").getImmediate(),n=za(e,YN).getImmediate();return{getId:()=>o9(n),getToken:i=>a9(n,i)}};function h9(){Qr(new Sr(YN,c9,"PUBLIC")),Qr(new Sr(u9,f9,"PRIVATE"))}h9();Zn(RN,n1);Zn(RN,n1,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="analytics",d9="firebase_id",p9="origin",m9=60*1e3,g9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",a1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new Ym("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Mn=new Ua("analytics","Analytics",y9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t){if(!t.startsWith(a1)){const e=Mn.create("invalid-gtag-resource",{gtagURL:t});return fn.warn(e.message),""}return t}function XN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function _9(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function w9(t,e){const n=_9("firebase-js-sdk-policy",{createScriptURL:v9}),r=document.createElement("script"),i=`${a1}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function b9(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function x9(t,e,n,r,i,o){const a=r[i];try{if(a)await e[a];else{const l=(await XN(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(s){fn.error(s)}t("config",i,o)}async function E9(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const s=await XN(n);for(const l of a){const u=s.find(f=>f.measurementId===l),c=u&&e[u.appId];if(c)o.push(c);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){fn.error(o)}}function S9(t,e,n,r){async function i(o,...a){try{if(o==="event"){const[s,l]=a;await E9(t,e,n,s,l)}else if(o==="config"){const[s,l]=a;await x9(t,e,n,r,s,l)}else if(o==="consent"){const[s,l]=a;t("consent",s,l)}else if(o==="get"){const[s,l,u]=a;t("get",s,l,u)}else if(o==="set"){const[s]=a;t("set",s)}else t(o,...a)}catch(s){fn.error(s)}}return i}function T9(t,e,n,r,i){let o=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=S9(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function A9(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(a1)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=30,P9=1e3;class C9{constructor(e={},n=P9){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const QN=new C9;function O9(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function k9(t){var a;const{appId:e,apiKey:n}=t,r={method:"GET",headers:O9(n)},i=g9.replace("{app-id}",e),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let s="";try{const l=await o.json();(a=l.error)!=null&&a.message&&(s=l.error.message)}catch{}throw Mn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s})}return o.json()}async function R9(t,e=QN,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Mn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Mn.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new j9;return setTimeout(async()=>{s.abort()},n!==void 0?n:m9),JN({appId:r,apiKey:i,measurementId:o},a,s,e)}async function JN(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=QN){var s;const{appId:o,measurementId:a}=t;try{await N9(r,e)}catch(l){if(a)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await k9(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!M9(u)){if(i.deleteThrottleMetadata(o),a)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)==null?void 0:s.httpStatus)===503?AT(n,i.intervalMillis,I9):AT(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,f),fn.debug(`Calling attemptFetch again in ${c} millis`),JN(t,f,r,i)}}function N9(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function M9(t){if(!(t instanceof Pr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class j9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function D9(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,a={...r,send_to:o};t("event",n,a)}}async function $9(t,e,n,r){if(r&&r.global){const i={};for(const o of Object.keys(n))i[`user_properties.${o}`]=n[o];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L9(){if(SN())try{await TN()}catch(t){return fn.warn(Mn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return fn.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function V9(t,e,n,r,i,o,a){const s=R9(t);s.then(d=>{n[d.measurementId]=d.appId,t.options.measurementId&&d.measurementId!==t.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${d.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(d=>fn.error(d)),e.push(s);const l=L9().then(d=>{if(d)return r.getId()}),[u,c]=await Promise.all([s,l]);A9(o)||w9(o,u.measurementId),i("js",new Date);const f=(a==null?void 0:a.config)??{};return f[p9]="firebase",f.update=!0,c!=null&&(f[d9]=c),i("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e){this.app=e}_delete(){return delete js[this.app.options.appId],Promise.resolve()}}let js={},$T=[];const LT={};let cv="dataLayer",B9="gtag",VT,s1,FT=!1;function U9(){const t=[];if(EN()&&t.push("This is a browser extension environment."),sB()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Mn.create("invalid-analytics-context",{errorInfo:e});fn.warn(n.message)}}function z9(t,e,n){U9();const r=t.options.appId;if(!r)throw Mn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Mn.create("no-api-key");if(js[r]!=null)throw Mn.create("already-exists",{id:r});if(!FT){b9(cv);const{wrappedGtag:o,gtagCore:a}=T9(js,$T,LT,cv,B9);s1=o,VT=a,FT=!0}return js[r]=V9(t,$T,LT,e,VT,cv,n),new F9(t)}function H9(t=t1()){t=lt(t);const e=za(t,cp);return e.isInitialized()?e.getImmediate():W9(t)}function W9(t,e={}){const n=za(t,cp);if(n.isInitialized()){const i=n.getImmediate();if(Ao(e,n.getOptions()))return i;throw Mn.create("already-initialized")}return n.initialize({options:e})}function q9(t,e,n){t=lt(t),$9(s1,js[t.app.options.appId],e,n).catch(r=>fn.error(r))}function G9(t,e,n,r){t=lt(t),D9(s1,js[t.app.options.appId],e,n,r).catch(i=>fn.error(i))}const BT="@firebase/analytics",UT="0.10.19";function K9(){Qr(new Sr(cp,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return z9(r,i,n)},"PUBLIC")),Qr(new Sr("analytics-internal",t,"PRIVATE")),Zn(BT,UT),Zn(BT,UT,"esm2020");function t(e){try{const n=e.getProvider(cp).getImmediate();return{logEvent:(r,i,o)=>G9(n,r,i,o),setUserProperties:(r,i)=>q9(n,r,i)}}catch(n){throw Mn.create("interop-component-reg-failed",{reason:n})}}}K9();function ZN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y9=ZN,eM=new Ua("auth","Firebase",ZN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=new Ym("@firebase/auth");function X9(t,...e){fp.logLevel<=be.WARN&&fp.warn(`Auth (${$l}): ${t}`,...e)}function Td(t,...e){fp.logLevel<=be.ERROR&&fp.error(`Auth (${$l}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,...e){throw l1(t,...e)}function Hr(t,...e){return l1(t,...e)}function tM(t,e,n){const r={...Y9(),[e]:n};return new Ua("auth","Firebase",r).create(e,{appName:t.name})}function mi(t){return tM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function l1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eM.create(t,...e)}function ue(t,e,...n){if(!t)throw l1(e,...n)}function li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Td(e),new Error(e)}function Ii(t,e){t||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Q9(){return zT()==="http:"||zT()==="https:"}function zT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Q9()||EN()||"connection"in navigator)?navigator.onLine:!0}function Z9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ii(n>e,"Short delay should be less than long delay!"),this.isMobile=tB()||iB()}get(){return J9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t,e){Ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nz=new Uf(3e4,6e4);function Lo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Mi(t,e,n,r,i={}){return rM(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=Bf({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...o};return rB()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Dl(t.emulatorConfig.host)&&(u.credentials="include"),nM.fetch()(await iM(t,t.config.apiHost,n,s),u)})}async function rM(t,e,n){t._canInitEmulator=!1;const r={...ez,...e};try{const i=new iz(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw Uh(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uh(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Uh(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Uh(t,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tM(t,c,u);Tr(t,c)}}catch(i){if(i instanceof Pr)throw i;Tr(t,"network-request-failed",{message:String(i)})}}async function zf(t,e,n,r,i={}){const o=await Mi(t,e,n,r,i);return"mfaPendingCredential"in o&&Tr(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function iM(t,e,n,r){const i=`${e}${n}?${r}`,o=t,a=o.config.emulator?u1(t.config,i):`${t.config.apiScheme}://${i}`;return tz.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(a).toString():a}function rz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hr(this.auth,"network-request-failed")),nz.get())})}}function Uh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Hr(t,e,r);return i.customData._tokenResponse=n,i}function HT(t){return t!==void 0&&t.enterprise!==void 0}class oz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function az(t,e){return Mi(t,"GET","/v2/recaptchaConfig",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sz(t,e){return Mi(t,"POST","/v1/accounts:delete",e)}async function hp(t,e){return Mi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lz(t,e=!1){const n=lt(t),r=await n.getIdToken(e),i=c1(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:fc(fv(i.auth_time)),issuedAtTime:fc(fv(i.iat)),expirationTime:fc(fv(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function fv(t){return Number(t)*1e3}function c1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Td("JWT malformed, contained fewer than 3 sections"),null;try{const i=yN(n);return i?JSON.parse(i):(Td("Failed to decode base64 JWT payload"),null)}catch(i){return Td("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function WT(t){const e=c1(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pr&&uz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function uz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fc(this.lastLoginAt),this.creationTime=fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dp(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Zs(t,hp(e,{idToken:n}));ue(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?oM(i.providerUserInfo):[],a=hz(t.providerData,o),s=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=s?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Q0(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function fz(t){const e=lt(t);await dp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oM(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dz(t,e){const n=await rM(t,{},async()=>{const r=Bf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=await iM(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:r};return t.emulatorConfig&&Dl(t.emulatorConfig.host)&&(l.credentials="include"),nM.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pz(t,e){return Mi(t,"POST","/v2/accounts:revokeToken",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=WT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await dz(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new Ds;return r&&(ue(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(ue(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ds,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new cz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Q0(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Zs(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lz(this,e)}reload(){return fz(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(mi(this.auth));const e=await this.getIdToken();return await Zs(this,sz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,a=n.photoURL??void 0,s=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:f,emailVerified:d,isAnonymous:p,providerData:m,stsTokenManager:g}=n;ue(f&&g,e,"internal-error");const b=Ds.fromJSON(this.name,g);ue(typeof f=="string",e,"internal-error"),Wi(r,e.name),Wi(i,e.name),ue(typeof d=="boolean",e,"internal-error"),ue(typeof p=="boolean",e,"internal-error"),Wi(o,e.name),Wi(a,e.name),Wi(s,e.name),Wi(l,e.name),Wi(u,e.name),Wi(c,e.name);const y=new yr({uid:f,auth:e,email:i,emailVerified:d,displayName:r,isAnonymous:p,photoURL:a,phoneNumber:o,tenantId:s,stsTokenManager:b,createdAt:u,lastLoginAt:c});return m&&Array.isArray(m)&&(y.providerData=m.map(v=>({...v}))),l&&(y._redirectEventId=l),y}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ds;i.updateFromServerResponse(n);const o=new yr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await dp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ue(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?oM(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new Ds;s.updateFromIdToken(r);const l=new yr({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Q0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=new Map;function ui(t){Ii(t instanceof Function,"Expected a class definition");let e=qT.get(t);return e?(Ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aM.type="NONE";const GT=aM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t,e,n){return`firebase:${t}:${e}:${n}`}class $s{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ad(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ad("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hp(this.auth,{idToken:e}).catch(()=>{});return n?yr._fromGetAccountInfoResponse(this.auth,n,e):null}return yr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $s(ui(GT),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||ui(GT);const a=Ad(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(a);if(c){let f;if(typeof c=="string"){const d=await hp(e,{idToken:c}).catch(()=>{});if(!d)break;f=await yr._fromGetAccountInfoResponse(e,d,c)}else f=yr._fromJSON(e,c);u!==o&&(s=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new $s(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new $s(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hM(e))return"Blackberry";if(dM(e))return"Webos";if(lM(e))return"Safari";if((e.includes("chrome/")||uM(e))&&!e.includes("edge/"))return"Chrome";if(fM(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sM(t=an()){return/firefox\//i.test(t)}function lM(t=an()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uM(t=an()){return/crios\//i.test(t)}function cM(t=an()){return/iemobile/i.test(t)}function fM(t=an()){return/android/i.test(t)}function hM(t=an()){return/blackberry/i.test(t)}function dM(t=an()){return/webos/i.test(t)}function f1(t=an()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function mz(t=an()){var e;return f1(t)&&!!((e=window.navigator)!=null&&e.standalone)}function gz(){return oB()&&document.documentMode===10}function pM(t=an()){return f1(t)||fM(t)||dM(t)||hM(t)||/windows phone/i.test(t)||cM(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(t,e=[]){let n;switch(t){case"Browser":n=KT(an());break;case"Worker":n=`${KT(an())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$l}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vz(t,e={}){return Mi(t,"GET","/v2/passwordPolicy",Lo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z=6;class wz{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_z,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YT(this),this.idTokenSubscription=new YT(this),this.beforeStateQueue=new yz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ui(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await $s.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hp(this,{idToken:e}),r=await yr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Kn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(o=this.redirectUser)==null?void 0:o._redirectEventId,s=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Z9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(mi(this));const n=e?lt(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vz(this),n=new wz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ua("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await pz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ui(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await $s.create(this,[ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&X9(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ha(t){return lt(t)}class YT{constructor(e){this.auth=e,this.observer=null,this.addObserver=hB(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xz(t){Jm=t}function gM(t){return Jm.loadJS(t)}function Ez(){return Jm.recaptchaEnterpriseScript}function Sz(){return Jm.gapiScript}function Tz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Az{constructor(){this.enterprise=new Iz}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Iz{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Pz="recaptcha-enterprise",yM="NO_RECAPTCHA";class Cz{constructor(e){this.type=Pz,this.auth=Ha(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{az(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new oz(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;HT(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{a(u)}).catch(()=>{a(yM)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Az().execute("siteKey",{action:"verify"}):new Promise((o,a)=>{r(this.auth).then(s=>{if(!n&&HT(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Ez();l.length!==0&&(l+=s),gM(l).then(()=>{i(s,o,a)}).catch(u=>{a(u)})}}).catch(s=>{a(s)})})}}async function Cu(t,e,n,r=!1,i=!1){const o=new Cz(t);let a;if(i)a=yM;else try{a=await o.verify(n)}catch{a=await o.verify(n,!0)}const s={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in s){const l=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const l=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function J0(t,e,n,r,i){var o,a;if(i==="EMAIL_PASSWORD_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Cu(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Cu(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(s)});else if(i==="PHONE_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("PHONE_PROVIDER")){const s=await Cu(t,e,n);return r(t,s).catch(async l=>{var u;if(((u=t._getRecaptchaConfig())==null?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const c=await Cu(t,e,n,!1,!0);return r(t,c)}return Promise.reject(l)})}else{const s=await Cu(t,e,n,!1,!0);return r(t,s)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oz(t,e){const n=za(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Ao(o,e??{}))return i;Tr(i,"already-initialized")}return n.initialize({options:e})}function kz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ui);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Rz(t,e,n){const r=Ha(t);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=vM(e),{host:a,port:s}=Nz(e),l=s===null?"":`:${s}`,u={url:`${o}//${a}${l}/`},c=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(Ao(u,r.config.emulator)&&Ao(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,Dl(a)?(bN(`${o}//${a}${l}`),xN("Auth",!0)):i||Mz()}function vM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Nz(t){const e=vM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:XT(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:XT(a)}}}function XT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Mz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,n){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function jz(t,e){return Mi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dz(t,e){return zf(t,"POST","/v1/accounts:signInWithPassword",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $z(t,e){return zf(t,"POST","/v1/accounts:signInWithEmailLink",Lo(t,e))}async function Lz(t,e){return zf(t,"POST","/v1/accounts:signInWithEmailLink",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends h1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Uc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Uc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return J0(e,n,"signInWithPassword",Dz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return $z(e,{email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return J0(e,r,"signUpPassword",jz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Lz(e,{idToken:n,email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ls(t,e){return zf(t,"POST","/v1/accounts:signInWithIdp",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz="http://localhost";class Ca extends h1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const a=new Ca(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ls(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ls(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ls(e,n)}buildRequest(){const e={requestUri:Vz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Bf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Bz(t){const e=Ku(Yu(t)).link,n=e?Ku(Yu(e)).deep_link_id:null,r=Ku(Yu(t)).deep_link_id;return(r?Ku(Yu(r)).link:null)||r||n||e||t}class d1{constructor(e){const n=Ku(Yu(e)),r=n.apiKey??null,i=n.oobCode??null,o=Fz(n.mode??null);ue(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Bz(e);try{return new d1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.providerId=Ll.PROVIDER_ID}static credential(e,n){return Uc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=d1.parseLink(n);return ue(r,"argument-error"),Uc._fromEmailAndCode(e,r.code,r.tenantId)}}Ll.PROVIDER_ID="password";Ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf extends _M{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Hf{constructor(){super("facebook.com")}static credential(e){return Ca._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends Hf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ca._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return eo.credential(n,r)}catch{return null}}}eo.GOOGLE_SIGN_IN_METHOD="google.com";eo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends Hf{constructor(){super("github.com")}static credential(e){return Ca._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.GITHUB_SIGN_IN_METHOD="github.com";to.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends Hf{constructor(){super("twitter.com")}static credential(e,n){return Ca._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return no.credential(n,r)}catch{return null}}}no.TWITTER_SIGN_IN_METHOD="twitter.com";no.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uz(t,e){return zf(t,"POST","/v1/accounts:signUp",Lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await yr._fromIdTokenResponse(e,r,i),a=QT(r);return new Oa({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=QT(r);return new Oa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function QT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends Pr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,pp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new pp(e,n,r,i)}}function wM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?pp._fromErrorAndOperation(t,o,e,r):o})}async function zz(t,e,n=!1){const r=await Zs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Oa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hz(t,e,n=!1){const{auth:r}=t;if(Kn(r.app))return Promise.reject(mi(r));const i="reauthenticate";try{const o=await Zs(t,wM(r,i,e,t),n);ue(o.idToken,r,"internal-error");const a=c1(o.idToken);ue(a,r,"internal-error");const{sub:s}=a;return ue(t.uid===s,r,"user-mismatch"),Oa._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Tr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(t,e,n=!1){if(Kn(t.app))return Promise.reject(mi(t));const r="signIn",i=await wM(t,r,e),o=await Oa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Wz(t,e){return bM(Ha(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(t){const e=Ha(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qz(t,e,n){if(Kn(t.app))return Promise.reject(mi(t));const r=Ha(t),a=await J0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Uz,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&xM(t),l}),s=await Oa._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}function Gz(t,e,n){return Kn(t.app)?Promise.reject(mi(t)):Wz(lt(t),Ll.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&xM(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kz(t,e){return Mi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yz(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=lt(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Zs(r,Kz(r.auth,o));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const s=r.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=r.displayName,s.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function Xz(t,e,n,r){return lt(t).onIdTokenChanged(e,n,r)}function Qz(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function Jz(t,e,n,r){return lt(t).onAuthStateChanged(e,n,r)}function Zz(t){return lt(t).signOut()}const mp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mp,"1"),this.storage.removeItem(mp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8=1e3,t8=10;class SM extends EM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);gz()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,t8):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},e8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}SM.type="LOCAL";const n8=SM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM extends EM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TM.type="SESSION";const AM=TM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Zm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await r8(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=p1("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(d.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return window}function o8(t){Wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function a8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function l8(){return IM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="firebaseLocalStorageDb",u8=1,gp="firebaseLocalStorage",CM="fbase_key";class Wf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function eg(t,e){return t.transaction([gp],e?"readwrite":"readonly").objectStore(gp)}function c8(){const t=indexedDB.deleteDatabase(PM);return new Wf(t).toPromise()}function Z0(){const t=indexedDB.open(PM,u8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gp,{keyPath:CM})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gp)?e(r):(r.close(),await c8(),e(await Z0()))})})}async function JT(t,e,n){const r=eg(t,!0).put({[CM]:e,value:n});return new Wf(r).toPromise()}async function f8(t,e){const n=eg(t,!1).get(e),r=await new Wf(n).toPromise();return r===void 0?null:r.value}function ZT(t,e){const n=eg(t,!0).delete(e);return new Wf(n).toPromise()}const h8=800,d8=3;class OM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Z0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>d8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zm._getInstance(l8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await a8(),!this.activeServiceWorker)return;this.sender=new i8(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Z0();return await JT(e,mp,"1"),await ZT(e,mp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>JT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>f8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ZT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=eg(i,!1).getAll();return new Wf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),h8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OM.type="LOCAL";const p8=OM;new Uf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(t,e){return e?ui(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1 extends h1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ls(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ls(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ls(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function g8(t){return bM(t.auth,new m1(t),t.bypassAuthState)}function y8(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),Hz(n,new m1(t),t.bypassAuthState)}async function v8(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),zz(n,new m1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g8;case"linkViaPopup":case"linkViaRedirect":return v8;case"reauthViaPopup":case"reauthViaRedirect":return y8;default:Tr(this.auth,"internal-error")}}resolve(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8=new Uf(2e3,1e4);class Ss extends kM{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ss.currentPopupAction&&Ss.currentPopupAction.cancel(),Ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){Ii(this.filter.length===1,"Popup operations only handle one event");const e=p1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_8.get())};e()}}Ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8="pendingRedirect",Id=new Map;class b8 extends kM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Id.get(this.auth._key());if(!e){try{const r=await x8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Id.set(this.auth._key(),e)}return this.bypassAuthState||Id.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function x8(t,e){const n=T8(e),r=S8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function E8(t,e){Id.set(t._key(),e)}function S8(t){return ui(t._redirectPersistence)}function T8(t){return Ad(w8,t.config.apiKey,t.name)}async function A8(t,e,n=!1){if(Kn(t.app))return Promise.reject(mi(t));const r=Ha(t),i=m8(r,e),a=await new b8(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8=10*60*1e3;class P8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!C8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!RM(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=I8&&this.cachedEventUids.clear(),this.cachedEventUids.has(eA(e))}saveEventToCache(e){this.cachedEventUids.add(eA(e)),this.lastProcessedEventTime=Date.now()}}function eA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function RM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function C8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O8(t,e={}){return Mi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R8=/^https?/;async function N8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await O8(t);for(const n of e)try{if(M8(n))return}catch{}Tr(t,"unauthorized-domain")}function M8(t){const e=X0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!R8.test(n))return!1;if(k8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=new Uf(3e4,6e4);function tA(){const t=Wr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function D8(t){return new Promise((e,n)=>{var i,o,a;function r(){tA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tA(),n(Hr(t,"network-request-failed"))},timeout:j8.get()})}if((o=(i=Wr().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((a=Wr().gapi)!=null&&a.load)r();else{const s=Tz("iframefcb");return Wr()[s]=()=>{gapi.load?r():n(Hr(t,"network-request-failed"))},gM(`${Sz()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw Pd=null,e})}let Pd=null;function $8(t){return Pd=Pd||D8(t),Pd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=new Uf(5e3,15e3),V8="__/auth/iframe",F8="emulator/auth/iframe",B8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},U8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function z8(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?u1(e,F8):`https://${t.config.authDomain}/${V8}`,r={apiKey:e.apiKey,appName:t.name,v:$l},i=U8.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Bf(r).slice(1)}`}async function H8(t){const e=await $8(t),n=Wr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:z8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B8,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Hr(t,"network-request-failed"),s=Wr().setTimeout(()=>{o(a)},L8.get());function l(){Wr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},q8=500,G8=600,K8="_blank",Y8="http://localhost";class nA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function X8(t,e,n,r=q8,i=G8){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l={...W8,width:r.toString(),height:i.toString(),top:o,left:a},u=an().toLowerCase();n&&(s=uM(u)?K8:n),sM(u)&&(e=e||Y8,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,m])=>`${d}${p}=${m},`,"");if(mz(u)&&s!=="_self")return Q8(e||"",s),new nA(null);const f=window.open(e||"",s,c);ue(f,t,"popup-blocked");try{f.focus()}catch{}return new nA(f)}function Q8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8="__/auth/handler",Z8="emulator/auth/handler",e7=encodeURIComponent("fac");async function rA(t,e,n,r,i,o){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$l,eventId:i};if(e instanceof _M){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",fB(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries(o||{}))a[c]=f}if(e instanceof Hf){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${e7}=${encodeURIComponent(l)}`:"";return`${t7(t)}?${Bf(s).slice(1)}${u}`}function t7({config:t}){return t.emulator?u1(t,Z8):`https://${t.authDomain}/${J8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="webStorageSupport";class n7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AM,this._completeRedirectFn=A8,this._overrideRedirectResult=E8}async _openPopup(e,n,r,i){var a;Ii((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await rA(e,n,r,X0(),i);return X8(e,o,p1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await rA(e,n,r,X0(),i);return o8(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ii(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await H8(e),r=new P8(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hv,{type:hv},i=>{var a;const o=(a=i==null?void 0:i[0])==null?void 0:a[hv];o!==void 0&&n(!!o),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=N8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pM()||lM()||f1()}}const r7=n7;var iA="@firebase/auth",oA="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a7(t){Qr(new Sr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;ue(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mM(t)},u=new bz(r,i,o,l);return kz(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qr(new Sr("auth-internal",e=>{const n=Ha(e.getProvider("auth").getImmediate());return(r=>new i7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(iA,oA,o7(t)),Zn(iA,oA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7=5*60,l7=wN("authIdTokenMaxAge")||s7;let aA=null;const u7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>l7)return;const i=n==null?void 0:n.token;aA!==i&&(aA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function c7(t=t1()){const e=za(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Oz(t,{popupRedirectResolver:r7,persistence:[p8,n8,AM]}),r=wN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=u7(o.toString());Qz(n,a,()=>a(n.currentUser)),Xz(n,s=>a(s))}}const i=vN("auth");return i&&Rz(n,`http://${i}`),n}function f7(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}xz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Hr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",f7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a7("Browser");var sA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _o,NM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,T){function P(){}P.prototype=T.prototype,E.F=T.prototype,E.prototype=new P,E.prototype.constructor=E,E.D=function(N,R,C){for(var k=Array(arguments.length-2),$=2;$<arguments.length;$++)k[$-2]=arguments[$];return T.prototype[R].apply(N,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,T,P){P||(P=0);const N=Array(16);if(typeof T=="string")for(var R=0;R<16;++R)N[R]=T.charCodeAt(P++)|T.charCodeAt(P++)<<8|T.charCodeAt(P++)<<16|T.charCodeAt(P++)<<24;else for(R=0;R<16;++R)N[R]=T[P++]|T[P++]<<8|T[P++]<<16|T[P++]<<24;T=E.g[0],P=E.g[1],R=E.g[2];let C=E.g[3],k;k=T+(C^P&(R^C))+N[0]+3614090360&4294967295,T=P+(k<<7&4294967295|k>>>25),k=C+(R^T&(P^R))+N[1]+3905402710&4294967295,C=T+(k<<12&4294967295|k>>>20),k=R+(P^C&(T^P))+N[2]+606105819&4294967295,R=C+(k<<17&4294967295|k>>>15),k=P+(T^R&(C^T))+N[3]+3250441966&4294967295,P=R+(k<<22&4294967295|k>>>10),k=T+(C^P&(R^C))+N[4]+4118548399&4294967295,T=P+(k<<7&4294967295|k>>>25),k=C+(R^T&(P^R))+N[5]+1200080426&4294967295,C=T+(k<<12&4294967295|k>>>20),k=R+(P^C&(T^P))+N[6]+2821735955&4294967295,R=C+(k<<17&4294967295|k>>>15),k=P+(T^R&(C^T))+N[7]+4249261313&4294967295,P=R+(k<<22&4294967295|k>>>10),k=T+(C^P&(R^C))+N[8]+1770035416&4294967295,T=P+(k<<7&4294967295|k>>>25),k=C+(R^T&(P^R))+N[9]+2336552879&4294967295,C=T+(k<<12&4294967295|k>>>20),k=R+(P^C&(T^P))+N[10]+4294925233&4294967295,R=C+(k<<17&4294967295|k>>>15),k=P+(T^R&(C^T))+N[11]+2304563134&4294967295,P=R+(k<<22&4294967295|k>>>10),k=T+(C^P&(R^C))+N[12]+1804603682&4294967295,T=P+(k<<7&4294967295|k>>>25),k=C+(R^T&(P^R))+N[13]+4254626195&4294967295,C=T+(k<<12&4294967295|k>>>20),k=R+(P^C&(T^P))+N[14]+2792965006&4294967295,R=C+(k<<17&4294967295|k>>>15),k=P+(T^R&(C^T))+N[15]+1236535329&4294967295,P=R+(k<<22&4294967295|k>>>10),k=T+(R^C&(P^R))+N[1]+4129170786&4294967295,T=P+(k<<5&4294967295|k>>>27),k=C+(P^R&(T^P))+N[6]+3225465664&4294967295,C=T+(k<<9&4294967295|k>>>23),k=R+(T^P&(C^T))+N[11]+643717713&4294967295,R=C+(k<<14&4294967295|k>>>18),k=P+(C^T&(R^C))+N[0]+3921069994&4294967295,P=R+(k<<20&4294967295|k>>>12),k=T+(R^C&(P^R))+N[5]+3593408605&4294967295,T=P+(k<<5&4294967295|k>>>27),k=C+(P^R&(T^P))+N[10]+38016083&4294967295,C=T+(k<<9&4294967295|k>>>23),k=R+(T^P&(C^T))+N[15]+3634488961&4294967295,R=C+(k<<14&4294967295|k>>>18),k=P+(C^T&(R^C))+N[4]+3889429448&4294967295,P=R+(k<<20&4294967295|k>>>12),k=T+(R^C&(P^R))+N[9]+568446438&4294967295,T=P+(k<<5&4294967295|k>>>27),k=C+(P^R&(T^P))+N[14]+3275163606&4294967295,C=T+(k<<9&4294967295|k>>>23),k=R+(T^P&(C^T))+N[3]+4107603335&4294967295,R=C+(k<<14&4294967295|k>>>18),k=P+(C^T&(R^C))+N[8]+1163531501&4294967295,P=R+(k<<20&4294967295|k>>>12),k=T+(R^C&(P^R))+N[13]+2850285829&4294967295,T=P+(k<<5&4294967295|k>>>27),k=C+(P^R&(T^P))+N[2]+4243563512&4294967295,C=T+(k<<9&4294967295|k>>>23),k=R+(T^P&(C^T))+N[7]+1735328473&4294967295,R=C+(k<<14&4294967295|k>>>18),k=P+(C^T&(R^C))+N[12]+2368359562&4294967295,P=R+(k<<20&4294967295|k>>>12),k=T+(P^R^C)+N[5]+4294588738&4294967295,T=P+(k<<4&4294967295|k>>>28),k=C+(T^P^R)+N[8]+2272392833&4294967295,C=T+(k<<11&4294967295|k>>>21),k=R+(C^T^P)+N[11]+1839030562&4294967295,R=C+(k<<16&4294967295|k>>>16),k=P+(R^C^T)+N[14]+4259657740&4294967295,P=R+(k<<23&4294967295|k>>>9),k=T+(P^R^C)+N[1]+2763975236&4294967295,T=P+(k<<4&4294967295|k>>>28),k=C+(T^P^R)+N[4]+1272893353&4294967295,C=T+(k<<11&4294967295|k>>>21),k=R+(C^T^P)+N[7]+4139469664&4294967295,R=C+(k<<16&4294967295|k>>>16),k=P+(R^C^T)+N[10]+3200236656&4294967295,P=R+(k<<23&4294967295|k>>>9),k=T+(P^R^C)+N[13]+681279174&4294967295,T=P+(k<<4&4294967295|k>>>28),k=C+(T^P^R)+N[0]+3936430074&4294967295,C=T+(k<<11&4294967295|k>>>21),k=R+(C^T^P)+N[3]+3572445317&4294967295,R=C+(k<<16&4294967295|k>>>16),k=P+(R^C^T)+N[6]+76029189&4294967295,P=R+(k<<23&4294967295|k>>>9),k=T+(P^R^C)+N[9]+3654602809&4294967295,T=P+(k<<4&4294967295|k>>>28),k=C+(T^P^R)+N[12]+3873151461&4294967295,C=T+(k<<11&4294967295|k>>>21),k=R+(C^T^P)+N[15]+530742520&4294967295,R=C+(k<<16&4294967295|k>>>16),k=P+(R^C^T)+N[2]+3299628645&4294967295,P=R+(k<<23&4294967295|k>>>9),k=T+(R^(P|~C))+N[0]+4096336452&4294967295,T=P+(k<<6&4294967295|k>>>26),k=C+(P^(T|~R))+N[7]+1126891415&4294967295,C=T+(k<<10&4294967295|k>>>22),k=R+(T^(C|~P))+N[14]+2878612391&4294967295,R=C+(k<<15&4294967295|k>>>17),k=P+(C^(R|~T))+N[5]+4237533241&4294967295,P=R+(k<<21&4294967295|k>>>11),k=T+(R^(P|~C))+N[12]+1700485571&4294967295,T=P+(k<<6&4294967295|k>>>26),k=C+(P^(T|~R))+N[3]+2399980690&4294967295,C=T+(k<<10&4294967295|k>>>22),k=R+(T^(C|~P))+N[10]+4293915773&4294967295,R=C+(k<<15&4294967295|k>>>17),k=P+(C^(R|~T))+N[1]+2240044497&4294967295,P=R+(k<<21&4294967295|k>>>11),k=T+(R^(P|~C))+N[8]+1873313359&4294967295,T=P+(k<<6&4294967295|k>>>26),k=C+(P^(T|~R))+N[15]+4264355552&4294967295,C=T+(k<<10&4294967295|k>>>22),k=R+(T^(C|~P))+N[6]+2734768916&4294967295,R=C+(k<<15&4294967295|k>>>17),k=P+(C^(R|~T))+N[13]+1309151649&4294967295,P=R+(k<<21&4294967295|k>>>11),k=T+(R^(P|~C))+N[4]+4149444226&4294967295,T=P+(k<<6&4294967295|k>>>26),k=C+(P^(T|~R))+N[11]+3174756917&4294967295,C=T+(k<<10&4294967295|k>>>22),k=R+(T^(C|~P))+N[2]+718787259&4294967295,R=C+(k<<15&4294967295|k>>>17),k=P+(C^(R|~T))+N[9]+3951481745&4294967295,E.g[0]=E.g[0]+T&4294967295,E.g[1]=E.g[1]+(R+(k<<21&4294967295|k>>>11))&4294967295,E.g[2]=E.g[2]+R&4294967295,E.g[3]=E.g[3]+C&4294967295}r.prototype.v=function(E,T){T===void 0&&(T=E.length);const P=T-this.blockSize,N=this.C;let R=this.h,C=0;for(;C<T;){if(R==0)for(;C<=P;)i(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<T;)if(N[R++]=E.charCodeAt(C++),R==this.blockSize){i(this,N),R=0;break}}else for(;C<T;)if(N[R++]=E[C++],R==this.blockSize){i(this,N),R=0;break}}this.h=R,this.o+=T},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var T=1;T<E.length-8;++T)E[T]=0;T=this.o*8;for(var P=E.length-8;P<E.length;++P)E[P]=T&255,T/=256;for(this.v(E),E=Array(16),T=0,P=0;P<4;++P)for(let N=0;N<32;N+=8)E[T++]=this.g[P]>>>N&255;return E};function o(E,T){var P=s;return Object.prototype.hasOwnProperty.call(P,E)?P[E]:P[E]=T(E)}function a(E,T){this.h=T;const P=[];let N=!0;for(let R=E.length-1;R>=0;R--){const C=E[R]|0;N&&C==T||(P[R]=C,N=!1)}this.g=P}var s={};function l(E){return-128<=E&&E<128?o(E,function(T){return new a([T|0],T<0?-1:0)}):new a([E|0],E<0?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(E<0)return b(u(-E));const T=[];let P=1;for(let N=0;E>=P;N++)T[N]=E/P|0,P*=4294967296;return new a(T,0)}function c(E,T){if(E.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(E.charAt(0)=="-")return b(c(E.substring(1),T));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=u(Math.pow(T,8));let N=f;for(let C=0;C<E.length;C+=8){var R=Math.min(8,E.length-C);const k=parseInt(E.substring(C,C+R),T);R<8?(R=u(Math.pow(T,R)),N=N.j(R).add(u(k))):(N=N.j(P),N=N.add(u(k)))}return N}var f=l(0),d=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-b(this).m();let E=0,T=1;for(let P=0;P<this.g.length;P++){const N=this.i(P);E+=(N>=0?N:4294967296+N)*T,T*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(m(this))return"0";if(g(this))return"-"+b(this).toString(E);const T=u(Math.pow(E,6));var P=this;let N="";for(;;){const R=O(P,T).g;P=y(P,R.j(T));let C=((P.g.length>0?P.g[0]:P.h)>>>0).toString(E);if(P=R,m(P))return C+N;for(;C.length<6;)C="0"+C;N=C+N}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function m(E){if(E.h!=0)return!1;for(let T=0;T<E.g.length;T++)if(E.g[T]!=0)return!1;return!0}function g(E){return E.h==-1}t.l=function(E){return E=y(this,E),g(E)?-1:m(E)?0:1};function b(E){const T=E.g.length,P=[];for(let N=0;N<T;N++)P[N]=~E.g[N];return new a(P,~E.h).add(d)}t.abs=function(){return g(this)?b(this):this},t.add=function(E){const T=Math.max(this.g.length,E.g.length),P=[];let N=0;for(let R=0;R<=T;R++){let C=N+(this.i(R)&65535)+(E.i(R)&65535),k=(C>>>16)+(this.i(R)>>>16)+(E.i(R)>>>16);N=k>>>16,C&=65535,k&=65535,P[R]=k<<16|C}return new a(P,P[P.length-1]&-2147483648?-1:0)};function y(E,T){return E.add(b(T))}t.j=function(E){if(m(this)||m(E))return f;if(g(this))return g(E)?b(this).j(b(E)):b(b(this).j(E));if(g(E))return b(this.j(b(E)));if(this.l(p)<0&&E.l(p)<0)return u(this.m()*E.m());const T=this.g.length+E.g.length,P=[];for(var N=0;N<2*T;N++)P[N]=0;for(N=0;N<this.g.length;N++)for(let R=0;R<E.g.length;R++){const C=this.i(N)>>>16,k=this.i(N)&65535,$=E.i(R)>>>16,L=E.i(R)&65535;P[2*N+2*R]+=k*L,v(P,2*N+2*R),P[2*N+2*R+1]+=C*L,v(P,2*N+2*R+1),P[2*N+2*R+1]+=k*$,v(P,2*N+2*R+1),P[2*N+2*R+2]+=C*$,v(P,2*N+2*R+2)}for(E=0;E<T;E++)P[E]=P[2*E+1]<<16|P[2*E];for(E=T;E<2*T;E++)P[E]=0;return new a(P,0)};function v(E,T){for(;(E[T]&65535)!=E[T];)E[T+1]+=E[T]>>>16,E[T]&=65535,T++}function x(E,T){this.g=E,this.h=T}function O(E,T){if(m(T))throw Error("division by zero");if(m(E))return new x(f,f);if(g(E))return T=O(b(E),T),new x(b(T.g),b(T.h));if(g(T))return T=O(E,b(T)),new x(b(T.g),T.h);if(E.g.length>30){if(g(E)||g(T))throw Error("slowDivide_ only works with positive integers.");for(var P=d,N=T;N.l(E)<=0;)P=S(P),N=S(N);var R=A(P,1),C=A(N,1);for(N=A(N,2),P=A(P,2);!m(N);){var k=C.add(N);k.l(E)<=0&&(R=R.add(P),C=k),N=A(N,1),P=A(P,1)}return T=y(E,R.j(T)),new x(R,T)}for(R=f;E.l(T)>=0;){for(P=Math.max(1,Math.floor(E.m()/T.m())),N=Math.ceil(Math.log(P)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),C=u(P),k=C.j(T);g(k)||k.l(E)>0;)P-=N,C=u(P),k=C.j(T);m(C)&&(C=d),R=R.add(C),E=y(E,k)}return new x(R,E)}t.B=function(E){return O(this,E).h},t.and=function(E){const T=Math.max(this.g.length,E.g.length),P=[];for(let N=0;N<T;N++)P[N]=this.i(N)&E.i(N);return new a(P,this.h&E.h)},t.or=function(E){const T=Math.max(this.g.length,E.g.length),P=[];for(let N=0;N<T;N++)P[N]=this.i(N)|E.i(N);return new a(P,this.h|E.h)},t.xor=function(E){const T=Math.max(this.g.length,E.g.length),P=[];for(let N=0;N<T;N++)P[N]=this.i(N)^E.i(N);return new a(P,this.h^E.h)};function S(E){const T=E.g.length+1,P=[];for(let N=0;N<T;N++)P[N]=E.i(N)<<1|E.i(N-1)>>>31;return new a(P,E.h)}function A(E,T){const P=T>>5;T%=32;const N=E.g.length-P,R=[];for(let C=0;C<N;C++)R[C]=T>0?E.i(C+P)>>>T|E.i(C+P+1)<<32-T:E.i(C+P);return new a(R,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,NM=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,_o=a}).apply(typeof sA<"u"?sA:typeof self<"u"?self:typeof window<"u"?window:{});var zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MM,Xu,jM,Cd,e_,DM,$M,LM;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof zh=="object"&&zh];for(var w=0;w<h.length;++w){var I=h[w];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(h,w){if(w)e:{var I=r;h=h.split(".");for(var M=0;M<h.length-1;M++){var z=h[M];if(!(z in I))break e;I=I[z]}h=h[h.length-1],M=I[h],w=w(M),w!=M&&w!=null&&e(I,h,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(w){var I=[],M;for(M in w)Object.prototype.hasOwnProperty.call(w,M)&&I.push([M,w[M]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function s(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function l(h,w,I){return h.call.apply(h.bind,arguments)}function u(h,w,I){return u=l,u.apply(null,arguments)}function c(h,w){var I=Array.prototype.slice.call(arguments,1);return function(){var M=I.slice();return M.push.apply(M,arguments),h.apply(this,M)}}function f(h,w){function I(){}I.prototype=w.prototype,h.Z=w.prototype,h.prototype=new I,h.prototype.constructor=h,h.Ob=function(M,z,H){for(var Z=Array(arguments.length-2),me=2;me<arguments.length;me++)Z[me-2]=arguments[me];return w.prototype[z].apply(M,Z)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function p(h){const w=h.length;if(w>0){const I=Array(w);for(let M=0;M<w;M++)I[M]=h[M];return I}return[]}function m(h,w){for(let M=1;M<arguments.length;M++){const z=arguments[M];var I=typeof z;if(I=I!="object"?I:z?Array.isArray(z)?"array":I:"null",I=="array"||I=="object"&&typeof z.length=="number"){I=h.length||0;const H=z.length||0;h.length=I+H;for(let Z=0;Z<H;Z++)h[I+Z]=z[Z]}else h.push(z)}}class g{constructor(w,I){this.i=w,this.j=I,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function b(h){a.setTimeout(()=>{throw h},0)}function y(){var h=E;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class v{constructor(){this.h=this.g=null}add(w,I){const M=x.get();M.set(w,I),this.h?this.h.next=M:this.g=M,this.h=M}}var x=new g(()=>new O,h=>h.reset());class O{constructor(){this.next=this.g=this.h=null}set(w,I){this.h=w,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let S,A=!1,E=new v,T=()=>{const h=Promise.resolve(void 0);S=()=>{h.then(P)}};function P(){for(var h;h=y();){try{h.h.call(h.g)}catch(I){b(I)}var w=x;w.j(h),w.h<100&&(w.h++,h.next=w.g,w.g=h)}A=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const I=()=>{};a.addEventListener("test",I,w),a.removeEventListener("test",I,w)}catch{}return h}();function k(h){return/^[\s\xa0]*$/.test(h)}function $(h,w){R.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,w)}f($,R),$.prototype.init=function(h,w){const I=this.type=h.type,M=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget,w||(I=="mouseover"?w=h.fromElement:I=="mouseout"&&(w=h.toElement)),this.relatedTarget=w,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var L="closure_listenable_"+(Math.random()*1e6|0),U=0;function F(h,w,I,M,z){this.listener=h,this.proxy=null,this.src=w,this.type=I,this.capture=!!M,this.ha=z,this.key=++U,this.da=this.fa=!1}function D(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function B(h,w,I){for(const M in h)w.call(I,h[M],M,h)}function W(h,w){for(const I in h)w.call(void 0,h[I],I,h)}function Q(h){const w={};for(const I in h)w[I]=h[I];return w}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(h,w){let I,M;for(let z=1;z<arguments.length;z++){M=arguments[z];for(I in M)h[I]=M[I];for(let H=0;H<X.length;H++)I=X[H],Object.prototype.hasOwnProperty.call(M,I)&&(h[I]=M[I])}}function ye(h){this.src=h,this.g={},this.h=0}ye.prototype.add=function(h,w,I,M,z){const H=h.toString();h=this.g[H],h||(h=this.g[H]=[],this.h++);const Z=Be(h,w,M,z);return Z>-1?(w=h[Z],I||(w.fa=!1)):(w=new F(w,this.src,H,!!M,z),w.fa=I,h.push(w)),w};function Ne(h,w){const I=w.type;if(I in h.g){var M=h.g[I],z=Array.prototype.indexOf.call(M,w,void 0),H;(H=z>=0)&&Array.prototype.splice.call(M,z,1),H&&(D(w),h.g[I].length==0&&(delete h.g[I],h.h--))}}function Be(h,w,I,M){for(let z=0;z<h.length;++z){const H=h[z];if(!H.da&&H.listener==w&&H.capture==!!I&&H.ha==M)return z}return-1}var Gt="closure_lm_"+(Math.random()*1e6|0),Ot={};function ne(h,w,I,M,z){if(M&&M.once)return Y(h,w,I,M,z);if(Array.isArray(w)){for(let H=0;H<w.length;H++)ne(h,w[H],I,M,z);return null}return I=Or(I),h&&h[L]?h.J(w,I,s(M)?!!M.capture:!!M,z):he(h,w,I,!1,M,z)}function he(h,w,I,M,z,H){if(!w)throw Error("Invalid event type");const Z=s(z)?!!z.capture:!!z;let me=kt(h);if(me||(h[Gt]=me=new ye(h)),I=me.add(w,I,M,Z,H),I.proxy)return I;if(M=pe(),I.proxy=M,M.src=h,M.listener=I,h.addEventListener)C||(z=Z),z===void 0&&(z=!1),h.addEventListener(w.toString(),M,z);else if(h.attachEvent)h.attachEvent(it(w.toString()),M);else if(h.addListener&&h.removeListener)h.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return I}function pe(){function h(I){return w.call(h.src,h.listener,I)}const w=ut;return h}function Y(h,w,I,M,z){if(Array.isArray(w)){for(let H=0;H<w.length;H++)Y(h,w[H],I,M,z);return null}return I=Or(I),h&&h[L]?h.K(w,I,s(M)?!!M.capture:!!M,z):he(h,w,I,!0,M,z)}function Ue(h,w,I,M,z){if(Array.isArray(w))for(var H=0;H<w.length;H++)Ue(h,w[H],I,M,z);else M=s(M)?!!M.capture:!!M,I=Or(I),h&&h[L]?(h=h.i,H=String(w).toString(),H in h.g&&(w=h.g[H],I=Be(w,I,M,z),I>-1&&(D(w[I]),Array.prototype.splice.call(w,I,1),w.length==0&&(delete h.g[H],h.h--)))):h&&(h=kt(h))&&(w=h.g[w.toString()],h=-1,w&&(h=Be(w,I,M,z)),(I=h>-1?w[h]:null)&&ve(I))}function ve(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[L])Ne(w.i,h);else{var I=h.type,M=h.proxy;w.removeEventListener?w.removeEventListener(I,M,h.capture):w.detachEvent?w.detachEvent(it(I),M):w.addListener&&w.removeListener&&w.removeListener(M),(I=kt(w))?(Ne(I,h),I.h==0&&(I.src=null,w[Gt]=null)):D(h)}}}function it(h){return h in Ot?Ot[h]:Ot[h]="on"+h}function ut(h,w){if(h.da)h=!0;else{w=new $(w,this);const I=h.listener,M=h.ha||h.src;h.fa&&ve(h),h=I.call(M,w)}return h}function kt(h){return h=h[Gt],h instanceof ye?h:null}var Fn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Or(h){return typeof h=="function"?h:(h[Fn]||(h[Fn]=function(w){return h.handleEvent(w)}),h[Fn])}function ct(){N.call(this),this.i=new ye(this),this.M=this,this.G=null}f(ct,N),ct.prototype[L]=!0,ct.prototype.removeEventListener=function(h,w,I,M){Ue(this,h,w,I,M)};function Je(h,w){var I,M=h.G;if(M)for(I=[];M;M=M.G)I.push(M);if(h=h.M,M=w.type||w,typeof w=="string")w=new R(w,h);else if(w instanceof R)w.target=w.target||h;else{var z=w;w=new R(M,h),re(w,z)}z=!0;let H,Z;if(I)for(Z=I.length-1;Z>=0;Z--)H=w.g=I[Z],z=Bn(H,M,!0,w)&&z;if(H=w.g=h,z=Bn(H,M,!0,w)&&z,z=Bn(H,M,!1,w)&&z,I)for(Z=0;Z<I.length;Z++)H=w.g=I[Z],z=Bn(H,M,!1,w)&&z}ct.prototype.N=function(){if(ct.Z.N.call(this),this.i){var h=this.i;for(const w in h.g){const I=h.g[w];for(let M=0;M<I.length;M++)D(I[M]);delete h.g[w],h.h--}}this.G=null},ct.prototype.J=function(h,w,I,M){return this.i.add(String(h),w,!1,I,M)},ct.prototype.K=function(h,w,I,M){return this.i.add(String(h),w,!0,I,M)};function Bn(h,w,I,M){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();let z=!0;for(let H=0;H<w.length;++H){const Z=w[H];if(Z&&!Z.da&&Z.capture==I){const me=Z.listener,xt=Z.ha||Z.src;Z.fa&&Ne(h.i,Z),z=me.call(xt,M)!==!1&&z}}return z&&!M.defaultPrevented}function nu(h,w){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:a.setTimeout(h,w||0)}function ru(h){h.g=nu(()=>{h.g=null,h.i&&(h.i=!1,ru(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class fh extends N{constructor(w,I){super(),this.m=w,this.l=I,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:ru(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function iu(h){N.call(this),this.h=h,this.g={}}f(iu,N);var pE=[];function mE(h){B(h.g,function(w,I){this.g.hasOwnProperty(I)&&ve(w)},h),h.g={}}iu.prototype.N=function(){iu.Z.N.call(this),mE(this)},iu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fy=a.JSON.stringify,f3=a.JSON.parse,h3=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function gE(){}function yE(){}var ou={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function hy(){R.call(this,"d")}f(hy,R);function dy(){R.call(this,"c")}f(dy,R);var Go={},vE=null;function hh(){return vE=vE||new ct}Go.Ia="serverreachability";function _E(h){R.call(this,Go.Ia,h)}f(_E,R);function au(h){const w=hh();Je(w,new _E(w))}Go.STAT_EVENT="statevent";function wE(h,w){R.call(this,Go.STAT_EVENT,h),this.stat=w}f(wE,R);function sn(h){const w=hh();Je(w,new wE(w,h))}Go.Ja="timingevent";function bE(h,w){R.call(this,Go.Ja,h),this.size=w}f(bE,R);function su(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},w)}function lu(){this.g=!0}lu.prototype.ua=function(){this.g=!1};function d3(h,w,I,M,z,H){h.info(function(){if(h.g)if(H){var Z="",me=H.split("&");for(let je=0;je<me.length;je++){var xt=me[je].split("=");if(xt.length>1){const Rt=xt[0];xt=xt[1];const Rr=Rt.split("_");Z=Rr.length>=2&&Rr[1]=="type"?Z+(Rt+"="+xt+"&"):Z+(Rt+"=redacted&")}}}else Z=null;else Z=H;return"XMLHTTP REQ ("+M+") [attempt "+z+"]: "+w+`
`+I+`
`+Z})}function p3(h,w,I,M,z,H,Z){h.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+z+"]: "+w+`
`+I+`
`+H+" "+Z})}function Ja(h,w,I,M){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+g3(h,I)+(M?" "+M:"")})}function m3(h,w){h.info(function(){return"TIMEOUT: "+w})}lu.prototype.info=function(){};function g3(h,w){if(!h.g)return w;if(!w)return null;try{const H=JSON.parse(w);if(H){for(h=0;h<H.length;h++)if(Array.isArray(H[h])){var I=H[h];if(!(I.length<2)){var M=I[1];if(Array.isArray(M)&&!(M.length<1)){var z=M[0];if(z!="noop"&&z!="stop"&&z!="close")for(let Z=1;Z<M.length;Z++)M[Z]=""}}}}return fy(H)}catch{return w}}var dh={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xE={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},EE;function py(){}f(py,gE),py.prototype.g=function(){return new XMLHttpRequest},EE=new py;function uu(h){return encodeURIComponent(String(h))}function y3(h){var w=1;h=h.split(":");const I=[];for(;w>0&&h.length;)I.push(h.shift()),w--;return h.length&&I.push(h.join(":")),I}function Li(h,w,I,M){this.j=h,this.i=w,this.l=I,this.S=M||1,this.V=new iu(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new SE}function SE(){this.i=null,this.g="",this.h=!1}var TE={},my={};function gy(h,w,I){h.M=1,h.A=mh(kr(w)),h.u=I,h.R=!0,AE(h,null)}function AE(h,w){h.F=Date.now(),ph(h),h.B=kr(h.A);var I=h.B,M=h.S;Array.isArray(M)||(M=[String(M)]),VE(I.i,"t",M),h.C=0,I=h.j.L,h.h=new SE,h.g=rS(h.j,I?w:null,!h.u),h.P>0&&(h.O=new fh(u(h.Y,h,h.g),h.P)),w=h.V,I=h.g,M=h.ba;var z="readystatechange";Array.isArray(z)||(z&&(pE[0]=z.toString()),z=pE);for(let H=0;H<z.length;H++){const Z=ne(I,z[H],M||w.handleEvent,!1,w.h||w);if(!Z)break;w.g[Z.key]=Z}w=h.J?Q(h.J):{},h.u?(h.v||(h.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,w)):(h.v="GET",h.g.ea(h.B,h.v,null,w)),au(),d3(h.i,h.v,h.B,h.l,h.S,h.u)}Li.prototype.ba=function(h){h=h.target;const w=this.O;w&&Bi(h)==3?w.j():this.Y(h)},Li.prototype.Y=function(h){try{if(h==this.g)e:{const me=Bi(this.g),xt=this.g.ya(),je=this.g.ca();if(!(me<3)&&(me!=3||this.g&&(this.h.h||this.g.la()||qE(this.g)))){this.K||me!=4||xt==7||(xt==8||je<=0?au(3):au(2)),yy(this);var w=this.g.ca();this.X=w;var I=v3(this);if(this.o=w==200,p3(this.i,this.v,this.B,this.l,this.S,me,w),this.o){if(this.U&&!this.L){t:{if(this.g){var M,z=this.g;if((M=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(M)){var H=M;break t}}H=null}if(h=H)Ja(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vy(this,h);else{this.o=!1,this.m=3,sn(12),Ko(this),cu(this);break e}}if(this.R){h=!0;let Rt;for(;!this.K&&this.C<I.length;)if(Rt=_3(this,I),Rt==my){me==4&&(this.m=4,sn(14),h=!1),Ja(this.i,this.l,null,"[Incomplete Response]");break}else if(Rt==TE){this.m=4,sn(15),Ja(this.i,this.l,I,"[Invalid Chunk]"),h=!1;break}else Ja(this.i,this.l,Rt,null),vy(this,Rt);if(IE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),me!=4||I.length!=0||this.h.h||(this.m=1,sn(16),h=!1),this.o=this.o&&h,!h)Ja(this.i,this.l,I,"[Invalid Chunked Response]"),Ko(this),cu(this);else if(I.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),Ay(Z),Z.P=!0,sn(11))}}else Ja(this.i,this.l,I,null),vy(this,I);me==4&&Ko(this),this.o&&!this.K&&(me==4?ZE(this.j,this):(this.o=!1,ph(this)))}else N3(this.g),w==400&&I.indexOf("Unknown SID")>0?(this.m=3,sn(12)):(this.m=0,sn(13)),Ko(this),cu(this)}}}catch{}finally{}};function v3(h){if(!IE(h))return h.g.la();const w=qE(h.g);if(w==="")return"";let I="";const M=w.length,z=Bi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Ko(h),cu(h),"";h.h.i=new a.TextDecoder}for(let H=0;H<M;H++)h.h.h=!0,I+=h.h.i.decode(w[H],{stream:!(z&&H==M-1)});return w.length=0,h.h.g+=I,h.C=0,h.h.g}function IE(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function _3(h,w){var I=h.C,M=w.indexOf(`
`,I);return M==-1?my:(I=Number(w.substring(I,M)),isNaN(I)?TE:(M+=1,M+I>w.length?my:(w=w.slice(M,M+I),h.C=M+I,w)))}Li.prototype.cancel=function(){this.K=!0,Ko(this)};function ph(h){h.T=Date.now()+h.H,PE(h,h.H)}function PE(h,w){if(h.D!=null)throw Error("WatchDog timer not null");h.D=su(u(h.aa,h),w)}function yy(h){h.D&&(a.clearTimeout(h.D),h.D=null)}Li.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(m3(this.i,this.B),this.M!=2&&(au(),sn(17)),Ko(this),this.m=2,cu(this)):PE(this,this.T-h)};function cu(h){h.j.I==0||h.K||ZE(h.j,h)}function Ko(h){yy(h);var w=h.O;w&&typeof w.dispose=="function"&&w.dispose(),h.O=null,mE(h.V),h.g&&(w=h.g,h.g=null,w.abort(),w.dispose())}function vy(h,w){try{var I=h.j;if(I.I!=0&&(I.g==h||_y(I.h,h))){if(!h.L&&_y(I.h,h)&&I.I==3){try{var M=I.Ba.g.parse(w)}catch{M=null}if(Array.isArray(M)&&M.length==3){var z=M;if(z[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<h.F)wh(I),vh(I);else break e;Ty(I),sn(18)}}else I.xa=z[1],0<I.xa-I.K&&z[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=su(u(I.Va,I),6e3));kE(I.h)<=1&&I.ta&&(I.ta=void 0)}else Xo(I,11)}else if((h.L||I.g==h)&&wh(I),!k(w))for(z=I.Ba.g.parse(w),w=0;w<z.length;w++){let je=z[w];const Rt=je[0];if(!(Rt<=I.K))if(I.K=Rt,je=je[1],I.I==2)if(je[0]=="c"){I.M=je[1],I.ba=je[2];const Rr=je[3];Rr!=null&&(I.ka=Rr,I.j.info("VER="+I.ka));const Qo=je[4];Qo!=null&&(I.za=Qo,I.j.info("SVER="+I.za));const Ui=je[5];Ui!=null&&typeof Ui=="number"&&Ui>0&&(M=1.5*Ui,I.O=M,I.j.info("backChannelRequestTimeoutMs_="+M)),M=I;const zi=h.g;if(zi){const xh=zi.g?zi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xh){var H=M.h;H.g||xh.indexOf("spdy")==-1&&xh.indexOf("quic")==-1&&xh.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(wy(H,H.h),H.h=null))}if(M.G){const Iy=zi.g?zi.g.getResponseHeader("X-HTTP-Session-Id"):null;Iy&&(M.wa=Iy,ze(M.J,M.G,Iy))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-h.F,I.j.info("Handshake RTT: "+I.T+"ms")),M=I;var Z=h;if(M.na=nS(M,M.L?M.ba:null,M.W),Z.L){RE(M.h,Z);var me=Z,xt=M.O;xt&&(me.H=xt),me.D&&(yy(me),ph(me)),M.g=Z}else QE(M);I.i.length>0&&_h(I)}else je[0]!="stop"&&je[0]!="close"||Xo(I,7);else I.I==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Xo(I,7):Sy(I):je[0]!="noop"&&I.l&&I.l.qa(je),I.A=0)}}au(4)}catch{}}var w3=class{constructor(h,w){this.g=h,this.map=w}};function CE(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function OE(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function kE(h){return h.h?1:h.g?h.g.size:0}function _y(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function wy(h,w){h.g?h.g.add(w):h.h=w}function RE(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}CE.prototype.cancel=function(){if(this.i=NE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function NE(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const I of h.g.values())w=w.concat(I.G);return w}return p(h.i)}var ME=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function b3(h,w){if(h){h=h.split("&");for(let I=0;I<h.length;I++){const M=h[I].indexOf("=");let z,H=null;M>=0?(z=h[I].substring(0,M),H=h[I].substring(M+1)):z=h[I],w(z,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Vi(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;h instanceof Vi?(this.l=h.l,fu(this,h.j),this.o=h.o,this.g=h.g,hu(this,h.u),this.h=h.h,by(this,FE(h.i)),this.m=h.m):h&&(w=String(h).match(ME))?(this.l=!1,fu(this,w[1]||"",!0),this.o=du(w[2]||""),this.g=du(w[3]||"",!0),hu(this,w[4]),this.h=du(w[5]||"",!0),by(this,w[6]||"",!0),this.m=du(w[7]||"")):(this.l=!1,this.i=new mu(null,this.l))}Vi.prototype.toString=function(){const h=[];var w=this.j;w&&h.push(pu(w,jE,!0),":");var I=this.g;return(I||w=="file")&&(h.push("//"),(w=this.o)&&h.push(pu(w,jE,!0),"@"),h.push(uu(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&h.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&h.push("/"),h.push(pu(I,I.charAt(0)=="/"?S3:E3,!0))),(I=this.i.toString())&&h.push("?",I),(I=this.m)&&h.push("#",pu(I,A3)),h.join("")},Vi.prototype.resolve=function(h){const w=kr(this);let I=!!h.j;I?fu(w,h.j):I=!!h.o,I?w.o=h.o:I=!!h.g,I?w.g=h.g:I=h.u!=null;var M=h.h;if(I)hu(w,h.u);else if(I=!!h.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var z=w.h.lastIndexOf("/");z!=-1&&(M=w.h.slice(0,z+1)+M)}if(z=M,z==".."||z==".")M="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){M=z.lastIndexOf("/",0)==0,z=z.split("/");const H=[];for(let Z=0;Z<z.length;){const me=z[Z++];me=="."?M&&Z==z.length&&H.push(""):me==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),M&&Z==z.length&&H.push("")):(H.push(me),M=!0)}M=H.join("/")}else M=z}return I?w.h=M:I=h.i.toString()!=="",I?by(w,FE(h.i)):I=!!h.m,I&&(w.m=h.m),w};function kr(h){return new Vi(h)}function fu(h,w,I){h.j=I?du(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function hu(h,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);h.u=w}else h.u=null}function by(h,w,I){w instanceof mu?(h.i=w,I3(h.i,h.l)):(I||(w=pu(w,T3)),h.i=new mu(w,h.l))}function ze(h,w,I){h.i.set(w,I)}function mh(h){return ze(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function du(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function pu(h,w,I){return typeof h=="string"?(h=encodeURI(h).replace(w,x3),I&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function x3(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var jE=/[#\/\?@]/g,E3=/[#\?:]/g,S3=/[#\?]/g,T3=/[#\?@]/g,A3=/#/g;function mu(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function Yo(h){h.g||(h.g=new Map,h.h=0,h.i&&b3(h.i,function(w,I){h.add(decodeURIComponent(w.replace(/\+/g," ")),I)}))}t=mu.prototype,t.add=function(h,w){Yo(this),this.i=null,h=Za(this,h);let I=this.g.get(h);return I||this.g.set(h,I=[]),I.push(w),this.h+=1,this};function DE(h,w){Yo(h),w=Za(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function $E(h,w){return Yo(h),w=Za(h,w),h.g.has(w)}t.forEach=function(h,w){Yo(this),this.g.forEach(function(I,M){I.forEach(function(z){h.call(w,z,M,this)},this)},this)};function LE(h,w){Yo(h);let I=[];if(typeof w=="string")$E(h,w)&&(I=I.concat(h.g.get(Za(h,w))));else for(h=Array.from(h.g.values()),w=0;w<h.length;w++)I=I.concat(h[w]);return I}t.set=function(h,w){return Yo(this),this.i=null,h=Za(this,h),$E(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=LE(this,h),h.length>0?String(h[0]):w):w};function VE(h,w,I){DE(h,w),I.length>0&&(h.i=null,h.g.set(Za(h,w),p(I)),h.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(let M=0;M<w.length;M++){var I=w[M];const z=uu(I);I=LE(this,I);for(let H=0;H<I.length;H++){let Z=z;I[H]!==""&&(Z+="="+uu(I[H])),h.push(Z)}}return this.i=h.join("&")};function FE(h){const w=new mu;return w.i=h.i,h.g&&(w.g=new Map(h.g),w.h=h.h),w}function Za(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function I3(h,w){w&&!h.j&&(Yo(h),h.i=null,h.g.forEach(function(I,M){const z=M.toLowerCase();M!=z&&(DE(this,M),VE(this,z,I))},h)),h.j=w}function P3(h,w){const I=new lu;if(a.Image){const M=new Image;M.onload=c(Fi,I,"TestLoadImage: loaded",!0,w,M),M.onerror=c(Fi,I,"TestLoadImage: error",!1,w,M),M.onabort=c(Fi,I,"TestLoadImage: abort",!1,w,M),M.ontimeout=c(Fi,I,"TestLoadImage: timeout",!1,w,M),a.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=h}else w(!1)}function C3(h,w){const I=new lu,M=new AbortController,z=setTimeout(()=>{M.abort(),Fi(I,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:M.signal}).then(H=>{clearTimeout(z),H.ok?Fi(I,"TestPingServer: ok",!0,w):Fi(I,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(z),Fi(I,"TestPingServer: error",!1,w)})}function Fi(h,w,I,M,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),M(I)}catch{}}function O3(){this.g=new h3}function xy(h){this.i=h.Sb||null,this.h=h.ab||!1}f(xy,gE),xy.prototype.g=function(){return new gh(this.i,this.h)};function gh(h,w){ct.call(this),this.H=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(gh,ct),t=gh.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=w,this.readyState=1,yu(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(w.body=h),(this.H||a).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gu(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,yu(this)),this.g&&(this.readyState=3,yu(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;BE(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function BE(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?gu(this):yu(this),this.readyState==3&&BE(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,gu(this))},t.Na=function(h){this.g&&(this.response=h,gu(this))},t.ga=function(){this.g&&gu(this)};function gu(h){h.readyState=4,h.l=null,h.j=null,h.B=null,yu(h)}t.setRequestHeader=function(h,w){this.A.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var I=w.next();!I.done;)I=I.value,h.push(I[0]+": "+I[1]),I=w.next();return h.join(`\r
`)};function yu(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(gh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function UE(h){let w="";return B(h,function(I,M){w+=M,w+=":",w+=I,w+=`\r
`}),w}function Ey(h,w,I){e:{for(M in I){var M=!1;break e}M=!0}M||(I=UE(I),typeof h=="string"?I!=null&&uu(I):ze(h,w,I))}function ot(h){ct.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(ot,ct);var k3=/^https?$/i,R3=["POST","PUT"];t=ot.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,w,I,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():EE.g(),this.g.onreadystatechange=d(u(this.Ca,this));try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(H){zE(this,H);return}if(h=I||"",I=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var z in M)I.set(z,M[z]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const H of M.keys())I.set(H,M.get(H));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(I.keys()).find(H=>H.toLowerCase()=="content-type"),z=a.FormData&&h instanceof a.FormData,!(Array.prototype.indexOf.call(R3,w,void 0)>=0)||M||z||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,Z]of I)this.g.setRequestHeader(H,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(H){zE(this,H)}};function zE(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.o=5,HE(h),yh(h)}function HE(h){h.A||(h.A=!0,Je(h,"complete"),Je(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Je(this,"complete"),Je(this,"abort"),yh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yh(this,!0)),ot.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?WE(this):this.Xa())},t.Xa=function(){WE(this)};function WE(h){if(h.h&&typeof o<"u"){if(h.v&&Bi(h)==4)setTimeout(h.Ca.bind(h),0);else if(Je(h,"readystatechange"),Bi(h)==4){h.h=!1;try{const H=h.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var I;if(!(I=w)){var M;if(M=H===0){let Z=String(h.D).match(ME)[1]||null;!Z&&a.self&&a.self.location&&(Z=a.self.location.protocol.slice(0,-1)),M=!k3.test(Z?Z.toLowerCase():"")}I=M}if(I)Je(h,"complete"),Je(h,"success");else{h.o=6;try{var z=Bi(h)>2?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.ca()+"]",HE(h)}}finally{yh(h)}}}}function yh(h,w){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const I=h.g;h.g=null,w||Je(h,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Bi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Bi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),f3(w)}};function qE(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function N3(h){const w={};h=(h.g&&Bi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<h.length;M++){if(k(h[M]))continue;var I=y3(h[M]);const z=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const H=w[z]||[];w[z]=H,H.push(I)}W(w,function(M){return M.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vu(h,w,I){return I&&I.internalChannelParams&&I.internalChannelParams[h]||w}function GE(h){this.za=0,this.i=[],this.j=new lu,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vu("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vu("baseRetryDelayMs",5e3,h),this.Za=vu("retryDelaySeedMs",1e4,h),this.Ta=vu("forwardChannelMaxRetries",2,h),this.va=vu("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new CE(h&&h.concurrentRequestLimit),this.Ba=new O3,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=GE.prototype,t.ka=8,t.I=1,t.connect=function(h,w,I,M){sn(0),this.W=h,this.H=w||{},I&&M!==void 0&&(this.H.OSID=I,this.H.OAID=M),this.F=this.X,this.J=nS(this,null,this.W),_h(this)};function Sy(h){if(KE(h),h.I==3){var w=h.V++,I=kr(h.J);if(ze(I,"SID",h.M),ze(I,"RID",w),ze(I,"TYPE","terminate"),_u(h,I),w=new Li(h,h.j,w),w.M=2,w.A=mh(kr(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(w.A.toString(),"")}catch{}!I&&a.Image&&(new Image().src=w.A,I=!0),I||(w.g=rS(w.j,null),w.g.ea(w.A)),w.F=Date.now(),ph(w)}tS(h)}function vh(h){h.g&&(Ay(h),h.g.cancel(),h.g=null)}function KE(h){vh(h),h.v&&(a.clearTimeout(h.v),h.v=null),wh(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&a.clearTimeout(h.m),h.m=null)}function _h(h){if(!OE(h.h)&&!h.m){h.m=!0;var w=h.Ea;S||T(),A||(S(),A=!0),E.add(w,h),h.D=0}}function M3(h,w){return kE(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=w.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=su(u(h.Ea,h,w),eS(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const z=new Li(this,this.j,h);let H=this.o;if(this.U&&(H?(H=Q(H),re(H,this.U)):H=this.U),this.u!==null||this.R||(z.J=H,H=null),this.S)e:{for(var w=0,I=0;I<this.i.length;I++){t:{var M=this.i[I];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(w+=M,w>4096){w=I;break e}if(w===4096||I===this.i.length-1){w=I+1;break e}}w=1e3}else w=1e3;w=XE(this,z,w),I=kr(this.J),ze(I,"RID",h),ze(I,"CVER",22),this.G&&ze(I,"X-HTTP-Session-Id",this.G),_u(this,I),H&&(this.R?w="headers="+uu(UE(H))+"&"+w:this.u&&Ey(I,this.u,H)),wy(this.h,z),this.Ra&&ze(I,"TYPE","init"),this.S?(ze(I,"$req",w),ze(I,"SID","null"),z.U=!0,gy(z,I,null)):gy(z,I,w),this.I=2}}else this.I==3&&(h?YE(this,h):this.i.length==0||OE(this.h)||YE(this))};function YE(h,w){var I;w?I=w.l:I=h.V++;const M=kr(h.J);ze(M,"SID",h.M),ze(M,"RID",I),ze(M,"AID",h.K),_u(h,M),h.u&&h.o&&Ey(M,h.u,h.o),I=new Li(h,h.j,I,h.D+1),h.u===null&&(I.J=h.o),w&&(h.i=w.G.concat(h.i)),w=XE(h,I,1e3),I.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),wy(h.h,I),gy(I,M,w)}function _u(h,w){h.H&&B(h.H,function(I,M){ze(w,M,I)}),h.l&&B({},function(I,M){ze(w,M,I)})}function XE(h,w,I){I=Math.min(h.i.length,I);const M=h.l?u(h.l.Ka,h.l,h):null;e:{var z=h.i;let me=-1;for(;;){const xt=["count="+I];me==-1?I>0?(me=z[0].g,xt.push("ofs="+me)):me=0:xt.push("ofs="+me);let je=!0;for(let Rt=0;Rt<I;Rt++){var H=z[Rt].g;const Rr=z[Rt].map;if(H-=me,H<0)me=Math.max(0,z[Rt].g-100),je=!1;else try{H="req"+H+"_"||"";try{var Z=Rr instanceof Map?Rr:Object.entries(Rr);for(const[Qo,Ui]of Z){let zi=Ui;s(Ui)&&(zi=fy(Ui)),xt.push(H+Qo+"="+encodeURIComponent(zi))}}catch(Qo){throw xt.push(H+"type="+encodeURIComponent("_badmap")),Qo}}catch{M&&M(Rr)}}if(je){Z=xt.join("&");break e}}Z=void 0}return h=h.i.splice(0,I),w.G=h,Z}function QE(h){if(!h.g&&!h.v){h.Y=1;var w=h.Da;S||T(),A||(S(),A=!0),E.add(w,h),h.A=0}}function Ty(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=su(u(h.Da,h),eS(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,JE(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=su(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,sn(10),vh(this),JE(this))};function Ay(h){h.B!=null&&(a.clearTimeout(h.B),h.B=null)}function JE(h){h.g=new Li(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var w=kr(h.na);ze(w,"RID","rpc"),ze(w,"SID",h.M),ze(w,"AID",h.K),ze(w,"CI",h.F?"0":"1"),!h.F&&h.ia&&ze(w,"TO",h.ia),ze(w,"TYPE","xmlhttp"),_u(h,w),h.u&&h.o&&Ey(w,h.u,h.o),h.O&&(h.g.H=h.O);var I=h.g;h=h.ba,I.M=1,I.A=mh(kr(w)),I.u=null,I.R=!0,AE(I,h)}t.Va=function(){this.C!=null&&(this.C=null,vh(this),Ty(this),sn(19))};function wh(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function ZE(h,w){var I=null;if(h.g==w){wh(h),Ay(h),h.g=null;var M=2}else if(_y(h.h,w))I=w.G,RE(h.h,w),M=1;else return;if(h.I!=0){if(w.o)if(M==1){I=w.u?w.u.length:0,w=Date.now()-w.F;var z=h.D;M=hh(),Je(M,new bE(M,I)),_h(h)}else QE(h);else if(z=w.m,z==3||z==0&&w.X>0||!(M==1&&M3(h,w)||M==2&&Ty(h)))switch(I&&I.length>0&&(w=h.h,w.i=w.i.concat(I)),z){case 1:Xo(h,5);break;case 4:Xo(h,10);break;case 3:Xo(h,6);break;default:Xo(h,2)}}}function eS(h,w){let I=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(I*=2),I*w}function Xo(h,w){if(h.j.info("Error code "+w),w==2){var I=u(h.bb,h),M=h.Ua;const z=!M;M=new Vi(M||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||fu(M,"https"),mh(M),z?P3(M.toString(),I):C3(M.toString(),I)}else sn(2);h.I=0,h.l&&h.l.pa(w),tS(h),KE(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function tS(h){if(h.I=0,h.ja=[],h.l){const w=NE(h.h);(w.length!=0||h.i.length!=0)&&(m(h.ja,w),m(h.ja,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.oa()}}function nS(h,w,I){var M=I instanceof Vi?kr(I):new Vi(I);if(M.g!="")w&&(M.g=w+"."+M.g),hu(M,M.u);else{var z=a.location;M=z.protocol,w=w?w+"."+z.hostname:z.hostname,z=+z.port;const H=new Vi(null);M&&fu(H,M),w&&(H.g=w),z&&hu(H,z),I&&(H.h=I),M=H}return I=h.G,w=h.wa,I&&w&&ze(M,I,w),ze(M,"VER",h.ka),_u(h,M),M}function rS(h,w,I){if(w&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Aa&&!h.ma?new ot(new xy({ab:I})):new ot(h.ma),w.Fa(h.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function iS(){}t=iS.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function bh(){}bh.prototype.g=function(h,w){return new Tn(h,w)};function Tn(h,w){ct.call(this),this.g=new GE(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(h?h["X-WebChannel-Client-Profile"]=w.sa:h={"X-WebChannel-Client-Profile":w.sa}),this.g.U=h,(h=w&&w.Qb)&&!k(h)&&(this.g.u=h),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!k(w)&&(this.g.G=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new es(this)}f(Tn,ct),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Sy(this.g)},Tn.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var I={};I.__data__=h,h=I}else this.v&&(I={},I.__data__=fy(h),h=I);w.i.push(new w3(w.Ya++,h)),w.I==3&&_h(w)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Sy(this.g),delete this.g,Tn.Z.N.call(this)};function oS(h){hy.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const I in w){h=I;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}f(oS,hy);function aS(){dy.call(this),this.status=1}f(aS,dy);function es(h){this.g=h}f(es,iS),es.prototype.ra=function(){Je(this.g,"a")},es.prototype.qa=function(h){Je(this.g,new oS(h))},es.prototype.pa=function(h){Je(this.g,new aS)},es.prototype.oa=function(){Je(this.g,"b")},bh.prototype.createWebChannel=bh.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,LM=function(){return new bh},$M=function(){return hh()},DM=Go,e_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},dh.NO_ERROR=0,dh.TIMEOUT=8,dh.HTTP_ERROR=6,Cd=dh,xE.COMPLETE="complete",jM=xE,yE.EventType=ou,ou.OPEN="a",ou.CLOSE="b",ou.ERROR="c",ou.MESSAGE="d",ct.prototype.listen=ct.prototype.J,Xu=yE,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,MM=ot}).apply(typeof zh<"u"?zh:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl="12.8.0";function h7(t){Vl=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new Ym("@firebase/firestore");function ls(){return ka.logLevel}function ie(t,...e){if(ka.logLevel<=be.DEBUG){const n=e.map(g1);ka.debug(`Firestore (${Vl}): ${t}`,...n)}}function Pi(t,...e){if(ka.logLevel<=be.ERROR){const n=e.map(g1);ka.error(`Firestore (${Vl}): ${t}`,...n)}}function el(t,...e){if(ka.logLevel<=be.WARN){const n=e.map(g1);ka.warn(`Firestore (${Vl}): ${t}`,...n)}}function g1(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,VM(t,r,n)}function VM(t,e,n){let r=`FIRESTORE (${Vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Pi(r),new Error(r)}function Oe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||VM(e,i,r)}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends Pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class d7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class p7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class m7{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new gi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new gi,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new gi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string",31837,{l:r}),new FM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class g7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class y7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new g7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Oe(this.o===void 0,3512);const r=o=>{o.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.m;return this.m=o.token,ie("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=_7(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function t_(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return dv(i)===dv(o)?xe(i,o):dv(i)?1:-1}return xe(t.length,e.length)}const w7=55296,b7=57343;function dv(t){const e=t.charCodeAt(0);return e>=w7&&e<=b7}function tl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="__name__";class Dr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Dr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Dr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Dr.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return xe(e.length,n.length)}static compareSegments(e,n){const r=Dr.isNumericId(e),i=Dr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Dr.extractNumericId(e).compare(Dr.extractNumericId(n)):t_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _o.fromString(e.substring(4,e.length-2))}}class Ve extends Dr{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(G.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const x7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends Dr{construct(e,n,r){return new Ut(e,n,r)}static isValidIdentifier(e){return x7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uA}static keyField(){return new Ut([uA])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new te(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new te(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new te(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(n)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Ve.fromString(e))}static fromName(e){return new se(Ve.fromString(e).popFirst(5))}static empty(){return new se(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Ve(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t,e,n){if(!n)throw new te(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function E7(t,e,n,r){if(e===!0&&r===!0)throw new te(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cA(t){if(!se.isDocumentKey(t))throw new te(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fA(t){if(se.isDocumentKey(t))throw new te(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function UM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function tg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce(12329,{type:typeof t})}function Ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tg(t);throw new te(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function S7(t,e){if(e<=0)throw new te(G.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t,e){const n={typeString:t};return e&&(n.value=e),n}function qf(t,e){if(!UM(t))throw new te(G.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new te(G.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=-62135596800,dA=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*dA);return new Ge(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hA)throw new te(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dA}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qf(e,Ge._jsonSchema))return new Ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:wt("string",Ge._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{static fromTimestamp(e){return new fe(e)}static min(){return new fe(new Ge(0,0))}static max(){return new fe(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=-1;function T7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new Io(i,se.empty(),e)}function A7(t){return new Io(t.readTime,t.key,zc)}class Io{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Io(fe.min(),se.empty(),zc)}static max(){return new Io(fe.max(),se.empty(),zc)}}function I7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==P7)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(i=>i?K.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new K((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{a[u]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(e,n){return new K((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function O7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ng.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=-1;function rg(t){return t==null}function yp(t){return t===0&&1/t==-1/0}function k7(t){return typeof t=="number"&&Number.isInteger(t)&&!yp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM="";function R7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=pA(e)),e=N7(t.get(n),e);return pA(e)}function N7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case zM:n+="";break;default:n+=o}}return n}function pA(t){return t+zM+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hh(this.root,e,this.comparator,!0)}}class Hh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Bt.RED,this.left=i??Bt.EMPTY,this.right=o??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Bt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ce(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce(57766)}get value(){throw ce(16141)}get color(){throw ce(16727)}get left(){throw ce(29726)}get right(){throw ce(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gA(this.data.getIterator())}getIteratorFrom(e){return new gA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class gA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Pt(Ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new WM("Invalid base64 string: "+o):o}}(e);return new qt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const M7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Po(t){if(Oe(!!t,39018),typeof t=="string"){let e=0;const n=M7.exec(t);if(Oe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Co(t){return typeof t=="string"?qt.fromBase64String(t):qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="server_timestamp",GM="__type__",KM="__previous_value__",YM="__local_write_time__";function _1(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[GM])==null?void 0:r.stringValue)===qM}function ig(t){const e=t.mapValue.fields[KM];return _1(e)?ig(e):e}function Hc(t){const e=Po(t.mapValue.fields[YM].timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e,n,r,i,o,a,s,l,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c,this.apiKey=f}}const vp="(default)";class Wc{constructor(e,n){this.projectId=e,this.database=n||vp}static empty(){return new Wc("","")}get isDefaultDatabase(){return this.database===vp}isEqual(e){return e instanceof Wc&&e.projectId===this.projectId&&e.database===this.database}}function D7(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new te(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wc(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM="__type__",QM="__max__",Wh={mapValue:{fields:{__type__:{stringValue:QM}}}},JM="__vector__",_p="value";function Oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_1(t)?4:L7(t)?9007199254740991:$7(t)?10:11:ce(28295,{value:t})}function Jr(t,e){if(t===e)return!0;const n=Oo(t);if(n!==Oo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hc(t).isEqual(Hc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Po(i.timestampValue),s=Po(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Co(i.bytesValue).isEqual(Co(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ht(i.geoPointValue.latitude)===ht(o.geoPointValue.latitude)&&ht(i.geoPointValue.longitude)===ht(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ht(i.integerValue)===ht(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=ht(i.doubleValue),s=ht(o.doubleValue);return a===s?yp(a)===yp(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return tl(t.arrayValue.values||[],e.arrayValue.values||[],Jr);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(mA(a)!==mA(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!Jr(a[l],s[l])))return!1;return!0}(t,e);default:return ce(52216,{left:t})}}function qc(t,e){return(t.values||[]).find(n=>Jr(n,e))!==void 0}function nl(t,e){if(t===e)return 0;const n=Oo(t),r=Oo(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=ht(o.integerValue||o.doubleValue),l=ht(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return yA(t.timestampValue,e.timestampValue);case 4:return yA(Hc(t),Hc(e));case 5:return t_(t.stringValue,e.stringValue);case 6:return function(o,a){const s=Co(o),l=Co(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=xe(s[u],l[u]);if(c!==0)return c}return xe(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=xe(ht(o.latitude),ht(a.latitude));return s!==0?s:xe(ht(o.longitude),ht(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return vA(t.arrayValue,e.arrayValue);case 10:return function(o,a){var d,p,m,g;const s=o.fields||{},l=a.fields||{},u=(d=s[_p])==null?void 0:d.arrayValue,c=(p=l[_p])==null?void 0:p.arrayValue,f=xe(((m=u==null?void 0:u.values)==null?void 0:m.length)||0,((g=c==null?void 0:c.values)==null?void 0:g.length)||0);return f!==0?f:vA(u,c)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===Wh.mapValue&&a===Wh.mapValue)return 0;if(o===Wh.mapValue)return 1;if(a===Wh.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=t_(l[f],c[f]);if(d!==0)return d;const p=nl(s[l[f]],u[c[f]]);if(p!==0)return p}return xe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ce(23264,{he:n})}}function yA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=Po(t),r=Po(e),i=xe(n.seconds,r.seconds);return i!==0?i:xe(n.nanos,r.nanos)}function vA(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=nl(n[i],r[i]);if(o)return o}return xe(n.length,r.length)}function rl(t){return n_(t)}function n_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Po(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Co(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=n_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${n_(n.fields[a])}`;return i+"}"}(t.mapValue):ce(61005,{value:t})}function Od(t){switch(Oo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ig(t);return e?16+Od(e):16;case 5:return 2*t.stringValue.length;case 6:return Co(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Od(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Vo(r.fields,(o,a)=>{i+=o.length+Od(a)}),i}(t.mapValue);default:throw ce(13486,{value:t})}}function _A(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function r_(t){return!!t&&"integerValue"in t}function w1(t){return!!t&&"arrayValue"in t}function wA(t){return!!t&&"nullValue"in t}function bA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kd(t){return!!t&&"mapValue"in t}function $7(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[XM])==null?void 0:r.stringValue)===JM}function hc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Vo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hc(t.arrayValue.values[n]);return e}return{...t}}function L7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===QM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hc(n)}setAll(e){let n=Ut.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=hc(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());kd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];kd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Vo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new vn(hc(this.value))}}function ZM(t){const e=[];return Vo(t.fields,(n,r)=>{const i=new Ut([n]);if(kd(r)){const o=ZM(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new en(e,0,fe.min(),fe.min(),fe.min(),vn.empty(),0)}static newFoundDocument(e,n,r,i){return new en(e,1,n,fe.min(),r,i,0)}static newNoDocument(e,n){return new en(e,2,n,fe.min(),fe.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,fe.min(),fe.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n){this.position=e,this.inclusive=n}}function xA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=se.comparator(se.fromName(a.referenceValue),n.key):r=nl(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function EA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n="asc"){this.field=e,this.dir=n}}function V7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{}class _t extends ej{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new B7(e,n,r):n==="array-contains"?new H7(e,r):n==="in"?new W7(e,r):n==="not-in"?new q7(e,r):n==="array-contains-any"?new G7(e,r):new _t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new U7(e,r):new z7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(nl(n,this.value)):n!==null&&Oo(this.value)===Oo(n)&&this.matchesComparison(nl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends ej{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ir(e,n)}matches(e){return tj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tj(t){return t.op==="and"}function nj(t){return F7(t)&&tj(t)}function F7(t){for(const e of t.filters)if(e instanceof Ir)return!1;return!0}function i_(t){if(t instanceof _t)return t.field.canonicalString()+t.op.toString()+rl(t.value);if(nj(t))return t.filters.map(e=>i_(e)).join(",");{const e=t.filters.map(n=>i_(n)).join(",");return`${t.op}(${e})`}}function rj(t,e){return t instanceof _t?function(r,i){return i instanceof _t&&r.op===i.op&&r.field.isEqual(i.field)&&Jr(r.value,i.value)}(t,e):t instanceof Ir?function(r,i){return i instanceof Ir&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&rj(a,i.filters[s]),!0):!1}(t,e):void ce(19439)}function ij(t){return t instanceof _t?function(n){return`${n.field.canonicalString()} ${n.op} ${rl(n.value)}`}(t):t instanceof Ir?function(n){return n.op.toString()+" {"+n.getFilters().map(ij).join(" ,")+"}"}(t):"Filter"}class B7 extends _t{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class U7 extends _t{constructor(e,n){super(e,"in",n),this.keys=oj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class z7 extends _t{constructor(e,n){super(e,"not-in",n),this.keys=oj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oj(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class H7 extends _t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return w1(n)&&qc(n.arrayValue,this.value)}}class W7 extends _t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qc(this.value.arrayValue,n)}}class q7 extends _t{constructor(e,n){super(e,"not-in",n)}matches(e){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qc(this.value.arrayValue,n)}}class G7 extends _t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!w1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.Te=null}}function SA(t,e=null,n=[],r=[],i=null,o=null,a=null){return new K7(t,e,n,r,i,o,a)}function b1(t){const e=de(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>i_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),rg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rl(r)).join(",")),e.Te=n}return e.Te}function x1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!V7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!EA(t.startAt,e.startAt)&&EA(t.endAt,e.endAt)}function o_(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Y7(t,e,n,r,i,o,a,s){return new Ul(t,e,n,r,i,o,a,s)}function E1(t){return new Ul(t)}function TA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function X7(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function aj(t){return t.collectionGroup!==null}function dc(t){const e=de(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Pt(Ut.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Gc(o,r))}),n.has(Ut.keyField().canonicalString())||e.Ie.push(new Gc(Ut.keyField(),r))}return e.Ie}function qr(t){const e=de(t);return e.Ee||(e.Ee=Q7(e,dc(t))),e.Ee}function Q7(t,e){if(t.limitType==="F")return SA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Gc(i.field,o)});const n=t.endAt?new wp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wp(t.startAt.position,t.startAt.inclusive):null;return SA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function a_(t,e){const n=t.filters.concat([e]);return new Ul(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function J7(t,e){const n=t.explicitOrderBy.concat([e]);return new Ul(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function bp(t,e,n){return new Ul(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function og(t,e){return x1(qr(t),qr(e))&&t.limitType===e.limitType}function sj(t){return`${b1(qr(t))}|lt:${t.limitType}`}function us(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ij(i)).join(", ")}]`),rg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>rl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>rl(i)).join(",")),`Target(${r})`}(qr(t))}; limitType=${t.limitType})`}function ag(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):se.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of dc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=xA(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,dc(r),i)||r.endAt&&!function(a,s,l){const u=xA(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,dc(r),i))}(t,e)}function Z7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function lj(t){return(e,n)=>{let r=!1;for(const i of dc(t)){const o=eH(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function eH(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?nl(l,u):ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return HM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tH=new nt(se.comparator);function Ci(){return tH}const uj=new nt(se.comparator);function Qu(...t){let e=uj;for(const n of t)e=e.insert(n.key,n);return e}function cj(t){let e=uj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fa(){return pc()}function fj(){return pc()}function pc(){return new Wa(t=>t.toString(),(t,e)=>t.isEqual(e))}const nH=new nt(se.comparator),rH=new Pt(se.comparator);function Ee(...t){let e=rH;for(const n of t)e=e.add(n);return e}const iH=new Pt(xe);function oH(){return iH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yp(e)?"-0":e}}function hj(t){return{integerValue:""+t}}function aH(t,e){return k7(e)?hj(e):S1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(){this._=void 0}}function sH(t,e,n){return t instanceof xp?function(i,o){const a={fields:{[GM]:{stringValue:qM},[YM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&_1(o)&&(o=ig(o)),o&&(a.fields[KM]=o),{mapValue:a}}(n,e):t instanceof Kc?pj(t,e):t instanceof Yc?mj(t,e):function(i,o){const a=dj(i,o),s=AA(a)+AA(i.Ae);return r_(a)&&r_(i.Ae)?hj(s):S1(i.serializer,s)}(t,e)}function lH(t,e,n){return t instanceof Kc?pj(t,e):t instanceof Yc?mj(t,e):n}function dj(t,e){return t instanceof Ep?function(r){return r_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class xp extends sg{}class Kc extends sg{constructor(e){super(),this.elements=e}}function pj(t,e){const n=gj(e);for(const r of t.elements)n.some(i=>Jr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Yc extends sg{constructor(e){super(),this.elements=e}}function mj(t,e){let n=gj(e);for(const r of t.elements)n=n.filter(i=>!Jr(i,r));return{arrayValue:{values:n}}}class Ep extends sg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function AA(t){return ht(t.integerValue||t.doubleValue)}function gj(t){return w1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function uH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Kc&&i instanceof Kc||r instanceof Yc&&i instanceof Yc?tl(r.elements,i.elements,Jr):r instanceof Ep&&i instanceof Ep?Jr(r.Ae,i.Ae):r instanceof xp&&i instanceof xp}(t.transform,e.transform)}class cH{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lg{}function yj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new T1(t.key,er.none()):new Gf(t.key,t.data,er.none());{const n=t.data,r=vn.empty();let i=new Pt(Ut.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new Fo(t.key,r,new Rn(i.toArray()),er.none())}}function fH(t,e,n){t instanceof Gf?function(i,o,a){const s=i.value.clone(),l=PA(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Fo?function(i,o,a){if(!Rd(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=PA(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(vj(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function mc(t,e,n,r){return t instanceof Gf?function(o,a,s,l){if(!Rd(o.precondition,a))return s;const u=o.value.clone(),c=CA(o.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fo?function(o,a,s,l){if(!Rd(o.precondition,a))return s;const u=CA(o.fieldTransforms,l,a),c=a.data;return c.setAll(vj(o)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,s){return Rd(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function hH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=dj(r.transform,i||null);o!=null&&(n===null&&(n=vn.empty()),n.set(r.field,o))}return n||null}function IA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&tl(r,i,(o,a)=>uH(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gf extends lg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fo extends lg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function vj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function PA(t,e,n){const r=new Map;Oe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,lH(a,s,n[i]))}return r}function CA(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,sH(o,a,e))}return r}class T1 extends lg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dH extends lg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&fH(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fj();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=yj(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,(n,r)=>IA(n,r))&&tl(this.baseMutations,e.baseMutations,(n,r)=>IA(n,r))}}class A1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Oe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return nH}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new A1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Te;function yH(t){switch(t){case G.OK:return ce(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return ce(15467,{code:t})}}function _j(t){if(t===void 0)return Pi("GRPC error has no .code"),G.UNKNOWN;switch(t){case gt.OK:return G.OK;case gt.CANCELLED:return G.CANCELLED;case gt.UNKNOWN:return G.UNKNOWN;case gt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case gt.INTERNAL:return G.INTERNAL;case gt.UNAVAILABLE:return G.UNAVAILABLE;case gt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case gt.NOT_FOUND:return G.NOT_FOUND;case gt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case gt.ABORTED:return G.ABORTED;case gt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case gt.DATA_LOSS:return G.DATA_LOSS;default:return ce(39323,{code:t})}}(Te=gt||(gt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _H=new _o([4294967295,4294967295],0);function OA(t){const e=vH().encode(t),n=new NM;return n.update(e),new Uint8Array(n.digest())}function kA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new _o([n,r],0),new _o([i,o],0)]}class I1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ju(`Invalid padding: ${n}`);if(r<0)throw new Ju(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ju(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ju(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_o.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(_o.fromNumber(r)));return i.compare(_H)===1&&(i=new _o([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=OA(e),[r,i]=kA(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new I1(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.ge===0)return;const n=OA(e),[r,i]=kA(n);for(let o=0;o<this.hashCount;o++){const a=this.ye(r,i,o);this.be(a)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Kf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ug(fe.min(),i,new nt(xe),Ci(),Ee())}}class Kf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kf(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class wj{constructor(e,n){this.targetId=e,this.Ce=n}}class bj{constructor(e,n,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class RA{constructor(){this.ve=0,this.Fe=NA(),this.Me=qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ee(),n=Ee(),r=Ee();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce(38017,{changeType:o})}}),new Kf(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=NA()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Oe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class wH{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ci(),this.He=qh(),this.Je=qh(),this.Ze=new nt(xe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(o_(o))if(r===0){const a=new se(o.path);this.et(n,a,en.newNoDocument(a,fe.min()))}else Oe(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const s=this.ut(e),l=s?this.ct(s,e,a):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=Co(r).toUint8Array()}catch(l){if(l instanceof WM)return el("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new I1(a,i,o)}catch(l){return el(l instanceof Ju?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Ge.ht(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,a)=>{const s=this.ot(a);if(s){if(o.current&&o_(s.target)){const l=new se(s.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,en.newNoDocument(l,e))}o.Be&&(n.set(a,o.ke()),o.Ke())}});let r=Ee();this.Je.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.je.forEach((o,a)=>a.setReadTime(e));const i=new ug(e,n,this.Ze,this.je,r);return this.je=Ci(),this.He=qh(),this.Je=qh(),this.Ze=new nt(xe),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new RA,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Pt(xe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Pt(xe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new RA),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function qh(){return new nt(se.comparator)}function NA(){return new nt(se.comparator)}const bH=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),xH=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),EH=(()=>({and:"AND",or:"OR"}))();class SH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function s_(t,e){return t.useProto3Json||rg(e)?e:{value:e}}function Sp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TH(t,e){return Sp(t,e.toTimestamp())}function Gr(t){return Oe(!!t,49232),fe.fromTimestamp(function(n){const r=Po(n);return new Ge(r.seconds,r.nanos)}(t))}function P1(t,e){return l_(t,e).canonicalString()}function l_(t,e){const n=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Ej(t){const e=Ve.fromString(t);return Oe(Pj(e),10190,{key:e.toString()}),e}function u_(t,e){return P1(t.databaseId,e.path)}function pv(t,e){const n=Ej(e);if(n.get(1)!==t.databaseId.projectId)throw new te(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(Tj(n))}function Sj(t,e){return P1(t.databaseId,e)}function AH(t){const e=Ej(t);return e.length===4?Ve.emptyPath():Tj(e)}function c_(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Tj(t){return Oe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function MA(t,e,n){return{name:u_(t,e),fields:n.value.mapValue.fields}}function IH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ce(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Oe(c===void 0||typeof c=="string",58123),qt.fromBase64String(c||"")):(Oe(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),qt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const c=u.code===void 0?G.UNKNOWN:_j(u.code);return new te(c,u.message||"")}(a);n=new bj(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=pv(t,r.document.name),o=Gr(r.document.updateTime),a=r.document.createTime?Gr(r.document.createTime):fe.min(),s=new vn({mapValue:{fields:r.document.fields}}),l=en.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Nd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=pv(t,r.document),o=r.readTime?Gr(r.readTime):fe.min(),a=en.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Nd([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=pv(t,r.document),o=r.removedTargetIds||[];n=new Nd([],o,i,null)}else{if(!("filter"in e))return ce(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new gH(i,o),s=r.targetId;n=new wj(s,a)}}return n}function PH(t,e){let n;if(e instanceof Gf)n={update:MA(t,e.key,e.value)};else if(e instanceof T1)n={delete:u_(t,e.key)};else if(e instanceof Fo)n={update:MA(t,e.key,e.data),updateMask:$H(e.fieldMask)};else{if(!(e instanceof dH))return ce(16599,{dt:e.type});n={verify:u_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof xp)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Kc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Yc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Ep)return{fieldPath:a.field.canonicalString(),increment:s.Ae};throw ce(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:TH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ce(27497)}(t,e.precondition)),n}function CH(t,e){return t&&t.length>0?(Oe(e!==void 0,14353),t.map(n=>function(i,o){let a=i.updateTime?Gr(i.updateTime):Gr(o);return a.isEqual(fe.min())&&(a=Gr(o)),new cH(a,i.transformResults||[])}(n,e))):[]}function OH(t,e){return{documents:[Sj(t,e.path)]}}function kH(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Sj(t,i);const o=function(u){if(u.length!==0)return Ij(Ir.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:cs(d.field),direction:MH(d.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=s_(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function RH(t){let e=AH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Oe(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const d=Aj(f);return d instanceof Ir&&nj(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(d=>function(m){return new Gc(fs(m.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(n.orderBy));let s=null;n.limit&&(s=function(f){let d;return d=typeof f=="object"?f.value:f,rg(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new wp(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,p=f.values||[];return new wp(p,d)}(n.endAt)),Y7(e,i,a,o,s,"F",l,u)}function NH(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Aj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fs(n.unaryFilter.field);return _t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fs(n.unaryFilter.field);return _t.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fs(n.unaryFilter.field);return _t.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=fs(n.unaryFilter.field);return _t.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ce(61313);default:return ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return _t.create(fs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ce(58110);default:return ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ir.create(n.compositeFilter.filters.map(r=>Aj(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce(1026)}}(n.compositeFilter.op))}(t):ce(30097,{filter:t})}function MH(t){return bH[t]}function jH(t){return xH[t]}function DH(t){return EH[t]}function cs(t){return{fieldPath:t.canonicalString()}}function fs(t){return Ut.fromServerFormat(t.fieldPath)}function Ij(t){return t instanceof _t?function(n){if(n.op==="=="){if(bA(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NAN"}};if(wA(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bA(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NOT_NAN"}};if(wA(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(n.field),op:jH(n.op),value:n.value}}}(t):t instanceof Ir?function(n){const r=n.getFilters().map(i=>Ij(i));return r.length===1?r[0]:{compositeFilter:{op:DH(n.op),filters:r}}}(t):ce(54877,{filter:t})}function $H(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Pj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Cj(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,r,i,o=fe.min(),a=fe.min(),s=qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new ao(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ao(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(e){this.yt=e}}function VH(t){const e=RH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(){this.Sn=new BH}addToCollectionParentIndex(e,n){return this.Sn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Io.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class BH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pt(Ve.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pt(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Oj=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(Oj,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new il(0)}static ar(){return new il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="LruGarbageCollector",UH=1048576;function $A([t,e],[n,r]){const i=xe(t,n);return i===0?xe(e,r):i}class zH{constructor(e){this.Pr=e,this.buffer=new Pt($A),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();$A(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class HH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ie(DA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bl(n)?ie(DA,"Ignoring IndexedDB error during garbage collection: ",n):await Fl(n)}await this.Ar(3e5)})}}class WH{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return K.resolve(ng.ce);const r=new zH(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(jA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jA):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,o,a,s,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,s=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),ls()<=be.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${i} in `+(s-a)+`ms
	Removed ${o} targets in `+(l-s)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function qH(t,e){return new WH(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(){this.changes=new Wa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&mc(r.mutation,i,Rn.empty(),Ge.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const i=fa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=Qu();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=fa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=Ci();const a=pc(),s=function(){return pc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Fo)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),mc(c.mutation,u,c.mutation.getFieldMask(),Ge.now())):a.set(u.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>s.set(u,new KH(c,a.get(u)??null))),s))}recalculateAndSaveOverlays(e,n){const r=pc();let i=new nt((a,s)=>a-s),o=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Rn.empty();c=s.applyToLocalView(u,c),r.set(l,c);const f=(i.get(s.batchId)||Ee()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,f=fj();c.forEach(d=>{if(!o.has(d)){const p=yj(n.get(d),r.get(d));p!==null&&f.set(d,p),o=o.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return K.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return X7(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):K.resolve(fa());let s=zc,l=o;return a.next(u=>K.forEach(u,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(c)?K.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ee())).next(c=>({batchId:s,changes:cj(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=Qu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=Qu();return this.indexManager.getCollectionParents(e,o).next(s=>K.forEach(s,l=>{const u=function(f,d){return new Ul(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,d)=>{a=a.insert(f,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,en.newInvalidDocument(c)))});let s=Qu();return a.forEach((l,u)=>{const c=o.get(l);c!==void 0&&mc(c.mutation,u,Rn.empty(),Ge.now()),ag(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XH{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return K.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Gr(i.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:VH(i.bundledQuery),readTime:Gr(i.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(){this.overlays=new nt(se.comparator),this.Lr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fa();return K.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.bt(e,n,o)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Lr.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const i=fa(),o=n.length+1,a=new se(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return K.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new nt((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=fa(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=fa(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return K.resolve(s)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new mH(n,r));let o=this.Lr.get(n);o===void 0&&(o=Ee(),this.Lr.set(n,o)),this.Lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.kr=new Pt(Mt.Kr),this.qr=new Pt(Mt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Mt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Mt(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new se(new Ve([])),r=new Mt(n,e),i=new Mt(n,e+1),o=[];return this.qr.forEachInRange([r,i],a=>{this.Wr(a),o.push(a.key)}),o}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new se(new Ve([])),r=new Mt(n,e),i=new Mt(n,e+1);let o=Ee();return this.qr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Mt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return se.comparator(e.key,n.key)||xe(e.Hr,n.Hr)}static Ur(e,n){return xe(e.Hr,n.Hr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Pt(Mt.Kr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new pH(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.Jr=this.Jr.add(new Mt(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return K.resolve(a)}lookupMutationBatch(e,n){return K.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?v1:this.Yn-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mt(n,0),i=new Mt(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],a=>{const s=this.Zr(a.Hr);o.push(s)}),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pt(xe);return n.forEach(i=>{const o=new Mt(i,0),a=new Mt(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,a],s=>{r=r.add(s.Hr)})}),K.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;se.isDocumentKey(o)||(o=o.child(""));const a=new Mt(new se(o),0);let s=new Pt(xe);return this.Jr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Hr)),!0)},a),K.resolve(this.Yr(s))}Yr(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Oe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return K.forEach(n.mutations,i=>{const o=new Mt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new Mt(n,0),i=this.Jr.firstAfterOrEqual(r);return K.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW{constructor(e){this.ti=e,this.docs=function(){return new nt(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=Ci();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():en.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ci();const a=n.path,s=new se(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||I7(A7(c),r)<=0||(i.has(c.key)||ag(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ce(9500)}ni(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tW(this)}getSize(e){return K.resolve(this.size)}}class tW extends GH{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(e){this.persistence=e,this.ri=new Wa(n=>b1(n),x1),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.ii=0,this.si=new C1,this.targetCount=0,this.oi=il._r()}forEachTarget(e,n){return this.ri.forEach((r,i)=>n(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),K.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new il(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.lr(n),K.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ri.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.ri.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),K.waitFor(o).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),K.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e,n){this._i={},this.overlays={},this.ai=new ng(0),this.ui=!1,this.ui=!0,this.ci=new JH,this.referenceDelegate=e(this),this.li=new nW(this),this.indexManager=new FH,this.remoteDocumentCache=function(i){return new eW(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new LH(n),this.Pi=new XH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new ZH(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){ie("MemoryPersistence","Starting transaction:",e);const i=new rW(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(o=>this.referenceDelegate.Ii(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return K.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class rW extends C7{constructor(e){super(),this.currentSequenceNumber=e}}class O1{constructor(e){this.persistence=e,this.Ri=new C1,this.Ai=null}static Vi(e){return new O1(e)}get di(){if(this.Ai)return this.Ai;throw ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),K.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.di,r=>{const i=se.fromPath(r);return this.mi(e,i).next(o=>{o||n.removeEntry(i,fe.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return K.or([()=>K.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Tp{constructor(e,n){this.persistence=e,this.fi=new Wa(r=>R7(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=qH(this,n)}static Vi(e,n){return new Tp(e,n)}Ti(){}Ii(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return K.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(o=>o?K.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,a=>this.wr(e,a,n).next(s=>{s||(r++,o.removeEntry(a,fe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),K.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Od(e.data.value)),n}wr(e,n,r){return K.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return K.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=Ee(),i=Ee();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new k1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return aB()?8:O7(an())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.gs(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.ps(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new iW;return this.ys(e,n,a).next(s=>{if(o.result=s,this.As)return this.ws(e,n,a,s.size)})}).next(()=>o.result)}ws(e,n,r,i){return r.documentReadCount<this.Vs?(ls()<=be.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),K.resolve()):(ls()<=be.DEBUG&&ie("QueryEngine","Query:",us(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(ls()<=be.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(n))):K.resolve())}gs(e,n){if(TA(n))return K.resolve(null);let r=qr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=bp(n,null,"F"),r=qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Ee(...o);return this.fs.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.bs(n,s);return this.Ss(n,u,a,l.readTime)?this.gs(e,bp(n,null,"F")):this.Ds(e,u,n,l)}))})))}ps(e,n,r,i){return TA(n)||i.isEqual(fe.min())?K.resolve(null):this.fs.getDocuments(e,r).next(o=>{const a=this.bs(n,o);return this.Ss(n,a,r,i)?K.resolve(null):(ls()<=be.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),us(n)),this.Ds(e,a,n,T7(i,zc)).next(s=>s))})}bs(e,n){let r=new Pt(lj(e));return n.forEach((i,o)=>{ag(e,o)&&(r=r.add(o))}),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,n,r){return ls()<=be.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",us(n)),this.fs.getDocumentsMatchingQuery(e,n,Io.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="LocalStore",aW=3e8;class sW{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new nt(xe),this.Fs=new Wa(o=>b1(o),x1),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YH(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function lW(t,e,n,r){return new sW(t,e,n,r)}async function Rj(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=Ee();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ns:u,removedBatchIds:a,addedBatchIds:s}))})})}function uW(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const f=u.batch,d=f.keys();let p=K.resolve();return d.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(g=>{const b=u.docVersions.get(m);Oe(b!==null,48541),g.version.compareTo(b)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Ee();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Nj(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function cW(t,e){const n=de(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const s=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;s.push(n.li.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.li.addMatchingKeys(o,c.addedDocuments,f)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(qt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(g,b,y){return g.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=aW?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(d,p,c)&&s.push(n.li.updateTargetData(o,p))});let l=Ci(),u=Ee();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(fW(o,a,e.documentUpdates).next(c=>{l=c.Bs,u=c.Ls})),!r.isEqual(fe.min())){const c=n.li.getLastRemoteSnapshotVersion(o).next(f=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return K.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.vs=i,o))}function fW(t,e,n){let r=Ee(),i=Ee();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Ci();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):ie(R1,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Bs:a,Ls:i}})}function hW(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=v1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dW(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,e).next(o=>o?(i=o,K.resolve(i)):n.li.allocateTargetId(r).next(a=>(i=new ao(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function f_(t,e,n){const r=de(t),i=r.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Bl(a))throw a;ie(R1,`Failed to update sequence numbers for target ${e}: ${a}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function LA(t,e,n){const r=de(t);let i=fe.min(),o=Ee();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const f=de(l),d=f.Fs.get(c);return d!==void 0?K.resolve(f.vs.get(d)):f.li.getTargetData(u,c)}(r,a,qr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(a,e,n?i:fe.min(),n?o:Ee())).next(s=>(pW(r,Z7(e),s),{documents:s,ks:o})))}function pW(t,e,n){let r=t.Ms.get(e)||fe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ms.set(e,r)}class VA{constructor(){this.activeTargetIds=oH()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mW{constructor(){this.vo=new VA,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new VA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="ConnectivityMonitor";class BA{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ie(FA,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ie(FA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh=null;function h_(){return Gh===null?Gh=function(){return 268435456+Math.round(2147483648*Math.random())}():Gh++,"0x"+Gh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="RestConnection",yW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class vW{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===vp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const a=h_(),s=this.Qo(e,n.toUriEncodedString());ie(mv,`Sending RPC '${e}' ${a}:`,s,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,i,o);const{host:u}=new URL(s),c=Dl(u);return this.zo(e,s,l,r,c).then(f=>(ie(mv,`Received RPC '${e}' ${a}: `,f),f),f=>{throw el(mv,`RPC '${e}' ${a} failed with error: `,f,"url: ",s,"request:",r),f})}jo(e,n,r,i,o,a){return this.Wo(e,n,r,i,o)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Qo(e,n){const r=yW[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _W{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection",Ou=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class Vs extends vW{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Vs.c_){const e=$M();Ou(e,DM.STAT_EVENT,n=>{n.stat===e_.PROXY?ie(Xt,"STAT_EVENT: detected buffering proxy"):n.stat===e_.NOPROXY&&ie(Xt,"STAT_EVENT: detected no buffering proxy")}),Vs.c_=!0}}zo(e,n,r,i,o){const a=h_();return new Promise((s,l)=>{const u=new MM;u.setWithCredentials(!0),u.listenOnce(jM.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Cd.NO_ERROR:const f=u.getResponseJson();ie(Xt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),s(f);break;case Cd.TIMEOUT:ie(Xt,`RPC '${e}' ${a} timed out`),l(new te(G.DEADLINE_EXCEEDED,"Request time out"));break;case Cd.HTTP_ERROR:const d=u.getStatus();if(ie(Xt,`RPC '${e}' ${a} failed with status:`,d,"response text:",u.getResponseText()),d>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(v)>=0?v:G.UNKNOWN}(m.status);l(new te(g,m.message))}else l(new te(G.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new te(G.UNAVAILABLE,"Connection failed."));break;default:ce(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ie(Xt,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);ie(Xt,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=h_(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Go(s.initMessageHeaders,n,r),s.encodeInitMessageHeaders=!0;const u=o.join("");ie(Xt,`Creating RPC '${e}' stream ${i}: ${u}`,s);const c=a.createWebChannel(u,s);this.I_(c);let f=!1,d=!1;const p=new _W({Ho:m=>{d?ie(Xt,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(f||(ie(Xt,`Opening RPC '${e}' stream ${i} transport.`),c.open(),f=!0),ie(Xt,`RPC '${e}' stream ${i} sending:`,m),c.send(m))},Jo:()=>c.close()});return Ou(c,Xu.EventType.OPEN,()=>{d||(ie(Xt,`RPC '${e}' stream ${i} transport opened.`),p.i_())}),Ou(c,Xu.EventType.CLOSE,()=>{d||(d=!0,ie(Xt,`RPC '${e}' stream ${i} transport closed`),p.o_(),this.E_(c))}),Ou(c,Xu.EventType.ERROR,m=>{d||(d=!0,el(Xt,`RPC '${e}' stream ${i} transport errored. Name:`,m.name,"Message:",m.message),p.o_(new te(G.UNAVAILABLE,"The operation could not be completed")))}),Ou(c,Xu.EventType.MESSAGE,m=>{var g;if(!d){const b=m.data[0];Oe(!!b,16349);const y=b,v=(y==null?void 0:y.error)||((g=y[0])==null?void 0:g.error);if(v){ie(Xt,`RPC '${e}' stream ${i} received error:`,v);const x=v.status;let O=function(E){const T=gt[E];if(T!==void 0)return _j(T)}(x),S=v.message;O===void 0&&(O=G.INTERNAL,S="Unknown error status: "+x+" with message "+v.message),d=!0,p.o_(new te(O,S)),c.close()}else ie(Xt,`RPC '${e}' stream ${i} received:`,b),p.__(b)}}),Vs.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return LM()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wW(t){return new Vs(t)}function gv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t){return new SH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vs.c_=!1;class Mj{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="PersistentStream";class jj{constructor(e,n,r,i,o,a,s,l){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Mj(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(Pi(n.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new te(G.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ie(UA,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(ie(UA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bW extends jj{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=IH(this.serializer,e),r=function(o){if(!("targetChange"in o))return fe.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?fe.min():a.readTime?Gr(a.readTime):fe.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=c_(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=o_(l)?{documents:OH(o,l)}:{query:kH(o,l).ft},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=xj(o,a.resumeToken);const u=s_(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(fe.min())>0){s.readTime=Sp(o,a.snapshotVersion.toTimestamp());const u=s_(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=NH(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=c_(this.serializer),n.removeTarget=e,this.K_(n)}}class xW extends jj{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Oe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Oe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=CH(e.writeResults,e.commitTime),r=Gr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=c_(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>PH(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{}class SW extends EW{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new te(G.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,l_(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(G.UNKNOWN,o.toString())})}jo(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.jo(e,l_(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new te(G.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function TW(t,e,n,r){return new SW(t,e,n,r)}class AW{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pi(n),this.aa=!1):ie("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="RemoteStore";class IW{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo(a=>{r.enqueueAndForget(async()=>{qa(this)&&(ie(Ra,"Restarting streams for network reachability change."),await async function(l){const u=de(l);u.Ea.add(4),await Yf(u),u.Va.set("Unknown"),u.Ea.delete(4),await fg(u)}(this))})}),this.Va=new AW(r,i)}}async function fg(t){if(qa(t))for(const e of t.Ra)await e(!0)}async function Yf(t){for(const e of t.Ra)await e(!1)}function Dj(t,e){const n=de(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),D1(n)?j1(n):zl(n).O_()&&M1(n,e))}function N1(t,e){const n=de(t),r=zl(n);n.Ia.delete(e),r.O_()&&$j(n,e),n.Ia.size===0&&(r.O_()?r.L_():qa(n)&&n.Va.set("Unknown"))}function M1(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zl(t).Z_(e)}function $j(t,e){t.da.$e(e),zl(t).X_(e)}function j1(t){t.da=new wH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),zl(t).start(),t.Va.ua()}function D1(t){return qa(t)&&!zl(t).x_()&&t.Ia.size>0}function qa(t){return de(t).Ea.size===0}function Lj(t){t.da=void 0}async function PW(t){t.Va.set("Online")}async function CW(t){t.Ia.forEach((e,n)=>{M1(t,e)})}async function OW(t,e){Lj(t),D1(t)?(t.Va.ha(e),j1(t)):t.Va.set("Unknown")}async function kW(t,e,n){if(t.Va.set("Online"),e instanceof bj&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.Ia.delete(s),i.da.removeTarget(s))}(t,e)}catch(r){ie(Ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ap(t,r)}else if(e instanceof Nd?t.da.Xe(e):e instanceof wj?t.da.st(e):t.da.tt(e),!n.isEqual(fe.min()))try{const r=await Nj(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.da.Tt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Ia.get(u);c&&o.Ia.set(u,c.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const c=o.Ia.get(l);if(!c)return;o.Ia.set(l,c.withResumeToken(qt.EMPTY_BYTE_STRING,c.snapshotVersion)),$j(o,l);const f=new ao(c.target,l,u,c.sequenceNumber);M1(o,f)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){ie(Ra,"Failed to raise snapshot:",r),await Ap(t,r)}}async function Ap(t,e,n){if(!Bl(e))throw e;t.Ea.add(1),await Yf(t),t.Va.set("Offline"),n||(n=()=>Nj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie(Ra,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await fg(t)})}function Vj(t,e){return e().catch(n=>Ap(t,n,e))}async function hg(t){const e=de(t),n=ko(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:v1;for(;RW(e);)try{const i=await hW(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,NW(e,i)}catch(i){await Ap(e,i)}Fj(e)&&Bj(e)}function RW(t){return qa(t)&&t.Ta.length<10}function NW(t,e){t.Ta.push(e);const n=ko(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function Fj(t){return qa(t)&&!ko(t).x_()&&t.Ta.length>0}function Bj(t){ko(t).start()}async function MW(t){ko(t).ra()}async function jW(t){const e=ko(t);for(const n of t.Ta)e.ea(n.mutations)}async function DW(t,e,n){const r=t.Ta.shift(),i=A1.from(r,e,n);await Vj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await hg(t)}async function $W(t,e){e&&ko(t).Y_&&await async function(r,i){if(function(a){return yH(a)&&a!==G.ABORTED}(i.code)){const o=r.Ta.shift();ko(r).B_(),await Vj(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await hg(r)}}(t,e),Fj(t)&&Bj(t)}async function zA(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),ie(Ra,"RemoteStore received new credentials");const r=qa(n);n.Ea.add(3),await Yf(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await fg(n)}async function LW(t,e){const n=de(t);e?(n.Ea.delete(2),await fg(n)):e||(n.Ea.add(2),await Yf(n),n.Va.set("Unknown"))}function zl(t){return t.ma||(t.ma=function(n,r,i){const o=de(n);return o.sa(),new bW(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:PW.bind(null,t),Yo:CW.bind(null,t),t_:OW.bind(null,t),J_:kW.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),D1(t)?j1(t):t.Va.set("Unknown")):(await t.ma.stop(),Lj(t))})),t.ma}function ko(t){return t.fa||(t.fa=function(n,r,i){const o=de(n);return o.sa(),new xW(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:MW.bind(null,t),t_:$W.bind(null,t),ta:jW.bind(null,t),na:DW.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await hg(t)):(await t.fa.stop(),t.Ta.length>0&&(ie(Ra,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new $1(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function L1(t,e){if(Pi("AsyncQueue",`${e}: ${t}`),Bl(t))return new te(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{static emptySet(e){return new Fs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=Qu(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Fs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this.ga=new nt(se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ce(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ol{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new ol(e,n,Fs.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&og(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class FW{constructor(){this.queries=WA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=de(n),o=i.queries;i.queries=WA(),o.forEach((a,s)=>{for(const l of s.ba)l.onError(r)})})(this,new te(G.ABORTED,"Firestore shutting down"))}}function WA(){return new Wa(t=>sj(t),og)}async function Uj(t,e){const n=de(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new VW,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=L1(a,`Initialization of query '${us(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&V1(n)}async function zj(t,e){const n=de(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.ba.indexOf(e);a>=0&&(o.ba.splice(a,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function BW(t,e){const n=de(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.ba)s.Fa(i)&&(r=!0);a.wa=i}}r&&V1(n)}function UW(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const o of i.ba)o.onError(n);r.queries.delete(e)}function V1(t){t.Ca.forEach(e=>{e.next()})}var d_,qA;(qA=d_||(d_={})).Ma="default",qA.Cache="cache";class Hj{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ol(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==d_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e){this.key=e}}class qj{constructor(e){this.key=e}}class zW{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ee(),this.mutatedKeys=Ee(),this.eu=lj(e),this.tu=new Fs(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new HA,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),p=ag(this.query,f)?f:null,m=!!d&&this.mutatedKeys.has(d.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;d&&p?d.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),b=!0):this.su(d,p)||(r.track({type:2,doc:p}),b=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(s=!0)):!d&&p?(r.track({type:0,doc:p}),b=!0):d&&!p&&(r.track({type:1,doc:d}),b=!0,(l||u)&&(s=!0)),b&&(p?(a=a.add(p),o=g?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{tu:a,iu:r,Ss:s,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((c,f)=>function(p,m){const g=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce(20277,{Vt:b})}};return g(p)-g(m)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(r),i=i??!1;const s=n&&!i?this._u():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Xa;return this.Xa=l,a.length!==0||u?{snapshot:new ol(this.query,e.tu,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new HA,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ee(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new qj(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new Wj(r))}),n}cu(e){this.Za=e.ks,this.Ya=Ee();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const F1="SyncEngine";class HW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class WW{constructor(e){this.key=e,this.hu=!1}}class qW{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Wa(s=>sj(s),og),this.Iu=new Map,this.Eu=new Set,this.Ru=new nt(se.comparator),this.Au=new Map,this.Vu=new C1,this.du={},this.mu=new Map,this.fu=il.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GW(t,e,n=!0){const r=Jj(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await Gj(r,e,n,!0),i}async function KW(t,e){const n=Jj(t);await Gj(n,e,!0,!1)}async function Gj(t,e,n,r){const i=await dW(t.localStore,qr(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await YW(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&Dj(t.remoteStore,i),s}async function YW(t,e,n,r,i){t.pu=(f,d,p)=>async function(g,b,y,v){let x=b.view.ru(y);x.Ss&&(x=await LA(g.localStore,b.query,!1).then(({documents:E})=>b.view.ru(E,x)));const O=v&&v.targetChanges.get(b.targetId),S=v&&v.targetMismatches.get(b.targetId)!=null,A=b.view.applyChanges(x,g.isPrimaryClient,O,S);return KA(g,b.targetId,A.au),A.snapshot}(t,f,d,p);const o=await LA(t.localStore,e,!0),a=new zW(e,o.ks),s=a.ru(o.documents),l=Kf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);KA(t,n,u.au);const c=new HW(e,n,a);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function XW(t,e,n){const r=de(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(a=>!og(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await f_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&N1(r.remoteStore,i.targetId),p_(r,i.targetId)}).catch(Fl)):(p_(r,i.targetId),await f_(r.localStore,i.targetId,!0))}async function QW(t,e){const n=de(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),N1(n.remoteStore,r.targetId))}async function JW(t,e,n){const r=oq(t);try{const i=await function(a,s){const l=de(a),u=Ge.now(),c=s.reduce((p,m)=>p.add(m.key),Ee());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Ci(),g=Ee();return l.xs.getEntries(p,c).next(b=>{m=b,m.forEach((y,v)=>{v.isValidDocument()||(g=g.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(b=>{f=b;const y=[];for(const v of s){const x=hH(v,f.get(v.key).overlayedDocument);x!=null&&y.push(new Fo(v.key,x,ZM(x.value.mapValue),er.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,y,s)}).next(b=>{d=b;const y=b.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,b.batchId,y)})}).then(()=>({batchId:d.batchId,changes:cj(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.du[a.currentUser.toKey()];u||(u=new nt(xe)),u=u.insert(s,l),a.du[a.currentUser.toKey()]=u}(r,i.batchId,n),await Xf(r,i.changes),await hg(r.remoteStore)}catch(i){const o=L1(i,"Failed to persist write");n.reject(o)}}async function Kj(t,e){const n=de(t);try{const r=await cW(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Au.get(o);a&&(Oe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Oe(a.hu,14607):i.removedDocuments.size>0&&(Oe(a.hu,42227),a.hu=!1))}),await Xf(n,r,e)}catch(r){await Fl(r)}}function GA(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,a)=>{const s=a.view.va(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=de(a);l.onlineState=s;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.ba)d.va(s)&&(u=!0)}),u&&V1(l)}(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZW(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let a=new nt(se.comparator);a=a.insert(o,en.newNoDocument(o,fe.min()));const s=Ee().add(o),l=new ug(fe.min(),new Map,new nt(xe),a,s);await Kj(r,l),r.Ru=r.Ru.remove(o),r.Au.delete(e),B1(r)}else await f_(r.localStore,e,!1).then(()=>p_(r,e,n)).catch(Fl)}async function eq(t,e){const n=de(t),r=e.batch.batchId;try{const i=await uW(n.localStore,e);Xj(n,r,null),Yj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xf(n,i)}catch(i){await Fl(i)}}async function tq(t,e,n){const r=de(t);try{const i=await function(a,s){const l=de(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(Oe(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);Xj(r,e,n),Yj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xf(r,i)}catch(i){await Fl(i)}}function Yj(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Xj(t,e,n){const r=de(t);let i=r.du[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function p_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||Qj(t,r)})}function Qj(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(N1(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),B1(t))}function KA(t,e,n){for(const r of n)r instanceof Wj?(t.Vu.addReference(r.key,e),nq(t,r)):r instanceof qj?(ie(F1,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||Qj(t,r.key)):ce(19791,{wu:r})}function nq(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(ie(F1,"New document in limbo: "+n),t.Eu.add(r),B1(t))}function B1(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new se(Ve.fromString(e)),r=t.fu.next();t.Au.set(r,new WW(n)),t.Ru=t.Ru.insert(n,r),Dj(t.remoteStore,new ao(qr(E1(n.path)),r,"TargetPurposeLimboResolution",ng.ce))}}async function Xf(t,e,n){const r=de(t),i=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((s,l)=>{a.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=k1.Es(l.targetId,u);o.push(f)}}))}),await Promise.all(a),r.Pu.J_(i),await async function(l,u){const c=de(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>K.forEach(u,d=>K.forEach(d.Ts,p=>c.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>K.forEach(d.Is,p=>c.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!Bl(f))throw f;ie(R1,"Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const p=c.vs.get(d),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);c.vs=c.vs.insert(d,g)}}}(r.localStore,o))}async function rq(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){ie(F1,"User change. New user:",e.toKey());const r=await Rj(n.localStore,e);n.currentUser=e,function(o,a){o.mu.forEach(s=>{s.forEach(l=>{l.reject(new te(G.CANCELLED,a))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xf(n,r.Ns)}}function iq(t,e){const n=de(t),r=n.Au.get(e);if(r&&r.hu)return Ee().add(r.key);{let i=Ee();const o=n.Iu.get(e);if(!o)return i;for(const a of o){const s=n.Tu.get(a);i=i.unionWith(s.view.nu)}return i}}function Jj(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZW.bind(null,e),e.Pu.J_=BW.bind(null,e.eventManager),e.Pu.yu=UW.bind(null,e.eventManager),e}function oq(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tq.bind(null,e),e}class Ip{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return lW(this.persistence,new oW,e.initialUser,this.serializer)}Cu(e){return new kj(O1.Vi,this.serializer)}Du(e){return new mW}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ip.provider={build:()=>new Ip};class aq extends Ip{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Oe(this.persistence.referenceDelegate instanceof Tp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new HH(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new kj(r=>Tp.Vi(r,n),this.serializer)}}class m_{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>GA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rq.bind(null,this.syncEngine),await LW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FW}()}createDatastore(e){const n=cg(e.databaseInfo.databaseId),r=wW(e.databaseInfo);return TW(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new IW(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>GA(this.syncEngine,n,0),function(){return BA.v()?new BA:new gW}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,c){const f=new qW(i,o,a,s,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=de(i);ie(Ra,"RemoteStore shutting down."),o.Ea.add(5),await Yf(o),o.Aa.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}m_.provider={build:()=>new m_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="FirestoreClient";class sq{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Jt.UNAUTHENTICATED,this.clientId=y1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{ie(Ro,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ie(Ro,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=L1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function yv(t,e){t.asyncQueue.verifyOperationInProgress(),ie(Ro,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Rj(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function YA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lq(t);ie(Ro,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>zA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>zA(e.remoteStore,i)),t._onlineComponents=e}async function lq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie(Ro,"Using user provided OfflineComponentProvider");try{await yv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===G.FAILED_PRECONDITION||i.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;el("Error using user provided cache. Falling back to memory cache: "+n),await yv(t,new Ip)}}else ie(Ro,"Using default OfflineComponentProvider"),await yv(t,new aq(void 0));return t._offlineComponents}async function eD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie(Ro,"Using user provided OnlineComponentProvider"),await YA(t,t._uninitializedComponentsProvider._online)):(ie(Ro,"Using default OnlineComponentProvider"),await YA(t,new m_))),t._onlineComponents}function uq(t){return eD(t).then(e=>e.syncEngine)}async function tD(t){const e=await eD(t),n=e.eventManager;return n.onListen=GW.bind(null,e.syncEngine),n.onUnlisten=XW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QW.bind(null,e.syncEngine),n}function cq(t,e,n={}){const r=new gi;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new Zj({next:d=>{c.Nu(),a.enqueueAndForget(()=>zj(o,f));const p=d.docs.has(s);!p&&d.fromCache?u.reject(new te(G.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?u.reject(new te(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new Hj(E1(s.path),c,{includeMetadataChanges:!0,Ka:!0});return Uj(o,f)}(await tD(t),t.asyncQueue,e,n,r)),r.promise}function fq(t,e,n={}){const r=new gi;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new Zj({next:d=>{c.Nu(),a.enqueueAndForget(()=>zj(o,f)),d.fromCache&&l.source==="server"?u.reject(new te(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new Hj(s,c,{includeMetadataChanges:!0,Ka:!0});return Uj(o,f)}(await tD(t),t.asyncQueue,e,n,r)),r.promise}function hq(t,e){const n=new gi;return t.asyncQueue.enqueueAndForget(async()=>JW(await uq(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq="ComponentProvider",XA=new Map;function pq(t,e,n,r,i){return new j7(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,nD(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="firestore.googleapis.com",QA=!0;class JA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new te(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rD,this.ssl=QA}else this.host=e.host,this.ssl=e.ssl??QA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Oj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UH)throw new te(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}E7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nD(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new te(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new te(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new te(G.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new d7;switch(r.type){case"firstParty":return new y7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=XA.get(n);r&&(ie(dq,"Removing Datastore"),XA.delete(n),r.terminate())}(this),Promise.resolve()}}function mq(t,e,n,r={}){var u;t=Ar(t,dg);const i=Dl(e),o=t._getSettings(),a={...o,emulatorOptions:t._getEmulatorOptions()},s=`${e}:${n}`;i&&(bN(`https://${s}`),xN("Firestore",!0)),o.host!==rD&&o.host!==s&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:s,ssl:i,emulatorOptions:r};if(!Ao(l,a)&&(t._setSettings(l),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=Jt.MOCK_USER;else{c=J6(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new te(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Jt(d)}t._authCredentials=new p7(new FM(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bo(this.firestore,e,this._query)}}class mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(qf(n,mt._jsonSchema))return new mt(e,r||null,new se(Ve.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:wt("string",mt._jsonSchemaVersion),referencePath:wt("string")};class wo extends Bo{constructor(e,n,r){super(e,n,E1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new se(e))}withConverter(e){return new wo(this.firestore,e,this._path)}}function Ki(t,e,...n){if(t=lt(t),BM("collection","path",e),t instanceof dg){const r=Ve.fromString(e,...n);return fA(r),new wo(t,null,r)}{if(!(t instanceof mt||t instanceof wo))throw new te(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return fA(r),new wo(t.firestore,null,r)}}function gn(t,e,...n){if(t=lt(t),arguments.length===1&&(e=y1.newId()),BM("doc","path",e),t instanceof dg){const r=Ve.fromString(e,...n);return cA(r),new mt(t,null,new se(r))}{if(!(t instanceof mt||t instanceof wo))throw new te(G.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return cA(r),new mt(t.firestore,t instanceof wo?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="AsyncQueue";class eI{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Mj(this,"async_queue_retry"),this._c=()=>{const r=gv();r&&ie(ZA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=gv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new gi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Bl(e))throw e;ie(ZA,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Pi("INTERNAL UNHANDLED ERROR: ",tI(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=$1.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&ce(47125,{Pc:tI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function tI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ga extends dg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new eI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eI(e),this._firestoreClient=void 0,await e}}}function gq(t,e){const n=typeof t=="object"?t:t1(),r=typeof t=="string"?t:e||vp,i=za(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=X6("firestore");o&&mq(i,...o)}return i}function U1(t){if(t._terminated)throw new te(G.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||yq(t),t._firestoreClient}function yq(t){var r,i,o,a;const e=t._freezeSettings(),n=pq(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new sq(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(qt.fromBase64String(e))}catch(n){throw new te(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yn(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qf(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:wt("string",Yn._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Kr._jsonSchemaVersion}}static fromJSON(e){if(qf(e,Kr._jsonSchema))return new Kr(e.latitude,e.longitude)}}Kr._jsonSchemaVersion="firestore/geoPoint/1.0",Kr._jsonSchema={type:wt("string",Kr._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:br._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qf(e,br._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new br(e.vectorValues);throw new te(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}br._jsonSchemaVersion="firestore/vectorValue/1.0",br._jsonSchema={type:wt("string",br._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vq=/^__.*__$/;class _q{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gf(e,this.data,n,this.fieldTransforms)}}class iD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function oD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce(40011,{dataSource:t})}}class W1{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new W1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Pp(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(oD(this.dataSource)&&vq.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class wq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cg(e)}createContext(e,n,r,i=!1){return new W1({dataSource:e,methodName:n,targetDoc:r,path:Ut.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pg(t){const e=t._freezeSettings(),n=cg(t._databaseId);return new wq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aD(t,e,n,r,i,o={}){const a=t.createContext(o.merge||o.mergeFields?2:0,e,n,i);q1("Data must be an object, but it was:",a,r);const s=sD(r,a);let l,u;if(o.merge)l=new Rn(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const d=Na(e,f,n);if(!a.contains(d))throw new te(G.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);cD(c,d)||c.push(d)}l=new Rn(c),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new _q(new vn(s),l,u)}class mg extends H1{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mg}}function bq(t,e,n,r){const i=t.createContext(1,e,n);q1("Data must be an object, but it was:",i,r);const o=[],a=vn.empty();Vo(r,(l,u)=>{const c=uD(e,l,n);u=lt(u);const f=i.childContextForFieldPath(c);if(u instanceof mg)o.push(c);else{const d=Qf(u,f);d!=null&&(o.push(c),a.set(c,d))}});const s=new Rn(o);return new iD(a,s,i.fieldTransforms)}function xq(t,e,n,r,i,o){const a=t.createContext(1,e,n),s=[Na(e,r,n)],l=[i];if(o.length%2!=0)throw new te(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)s.push(Na(e,o[d])),l.push(o[d+1]);const u=[],c=vn.empty();for(let d=s.length-1;d>=0;--d)if(!cD(u,s[d])){const p=s[d];let m=l[d];m=lt(m);const g=a.childContextForFieldPath(p);if(m instanceof mg)u.push(p);else{const b=Qf(m,g);b!=null&&(u.push(p),c.set(p,b))}}const f=new Rn(u);return new iD(c,f,a.fieldTransforms)}function Eq(t,e,n,r=!1){return Qf(n,t.createContext(r?4:3,e))}function Qf(t,e){if(lD(t=lt(t)))return q1("Unsupported field value:",e,t),sD(t,e);if(t instanceof H1)return function(r,i){if(!oD(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=Qf(s,i.childContextForArray(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ge.fromDate(r);return{timestampValue:Sp(i.serializer,o)}}if(r instanceof Ge){const o=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sp(i.serializer,o)}}if(r instanceof Kr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yn)return{bytesValue:xj(i.serializer,r._byteString)};if(r instanceof mt){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:P1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof br)return function(a,s){const l=a instanceof br?a.toArray():a;return{mapValue:{fields:{[XM]:{stringValue:JM},[_p]:{arrayValue:{values:l.map(c=>{if(typeof c!="number")throw s.createError("VectorValues must only contain numeric values.");return S1(s.serializer,c)})}}}}}}(r,i);if(Cj(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${tg(r)}`)}(t,e)}function sD(t,e){const n={};return HM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vo(t,(r,i)=>{const o=Qf(i,e.childContextForField(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function lD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof Kr||t instanceof Yn||t instanceof mt||t instanceof H1||t instanceof br||Cj(t))}function q1(t,e,n){if(!lD(n)||!UM(n)){const r=tg(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Na(t,e,n){if((e=lt(e))instanceof z1)return e._internalPath;if(typeof e=="string")return uD(t,e);throw Pp("Field path arguments must be of type string or ",t,!1,void 0,n)}const Sq=new RegExp("[~\\*/\\[\\]]");function uD(t,e,n){if(e.search(Sq)>=0)throw Pp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new z1(...e.split("."))._internalPath}catch{throw Pp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pp(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new te(G.INVALID_ARGUMENT,s+t+l)}function cD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{convertValue(e,n="none"){switch(Oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[_p].arrayValue)==null?void 0:i.values)==null?void 0:o.map(a=>ht(a.doubleValue));return new br(n)}convertGeoPoint(e){return new Kr(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ig(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hc(e));default:return null}}convertTimestamp(e){const n=Po(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);Oe(Pj(r),9688,{name:e});const i=new Wc(r.get(1),r.get(3)),o=new se(r.popFirst(5));return i.isEqual(n)||Pi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD extends Tq{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}const nI="@firebase/firestore",rI="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Aq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Na("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Aq extends hD{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class G1{}class K1 extends G1{}function oa(t,e,...n){let r=[];e instanceof G1&&r.push(e),r=r.concat(n),function(o){const a=o.filter(l=>l instanceof Y1).length,s=o.filter(l=>l instanceof gg).length;if(a>1||a>0&&s>0)throw new te(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class gg extends K1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new gg(e,n,r)}_apply(e){const n=this._parse(e);return pD(e._query,n),new Bo(e.firestore,e.converter,a_(e._query,n))}_parse(e){const n=pg(e.firestore);return function(o,a,s,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new te(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){oI(f,c);const m=[];for(const g of f)m.push(iI(l,o,g));d={arrayValue:{values:m}}}else d=iI(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||oI(f,c),d=Eq(s,a,f,c==="in"||c==="not-in");return _t.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Mr(t,e,n){const r=e,i=Na("where",t);return gg._create(i,r,n)}class Y1 extends G1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Y1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)pD(a,l),a=a_(a,l)}(e._query,n),new Bo(e.firestore,e.converter,a_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class X1 extends K1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new X1(e,n)}_apply(e){const n=function(i,o,a){if(i.startAt!==null)throw new te(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new te(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gc(o,a)}(e._query,this._field,this._direction);return new Bo(e.firestore,e.converter,J7(e._query,n))}}function Pq(t,e="asc"){const n=e,r=Na("orderBy",t);return X1._create(r,n)}class Q1 extends K1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Q1(e,n,r)}_apply(e){return new Bo(e.firestore,e.converter,bp(e._query,this._limit,this._limitType))}}function dD(t){return S7("limit",t),Q1._create("limit",t,"F")}function iI(t,e,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new te(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aj(e)&&n.indexOf("/")!==-1)throw new te(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ve.fromString(n));if(!se.isDocumentKey(r))throw new te(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _A(t,new se(r))}if(n instanceof mt)return _A(t,n._key);throw new te(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tg(n)}.`)}function oI(t,e){if(!Array.isArray(t)||t.length===0)throw new te(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pD(t,e){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function mD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Zu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class va extends hD{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Na("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new te(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=va._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}va._jsonSchemaVersion="firestore/documentSnapshot/1.0",va._jsonSchema={type:wt("string",va._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class Md extends va{data(e={}){return super.data(e)}}class Bs{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Md(this._firestore,this._userDataWriter,r.key,r,new Zu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new Md(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Zu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new Md(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Zu(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:Cq(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new te(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=y1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Cq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bs._jsonSchemaVersion="firestore/querySnapshot/1.0",Bs._jsonSchema={type:wt("string",Bs._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(t){t=Ar(t,mt);const e=Ar(t.firestore,Ga),n=U1(e);return cq(n,t._key).then(r=>kq(e,t,r))}function aa(t){t=Ar(t,Bo);const e=Ar(t.firestore,Ga),n=U1(e),r=new fD(e);return Iq(t._query),fq(n,t._query).then(i=>new Bs(e,r,t,i))}function al(t,e,n){t=Ar(t,mt);const r=Ar(t.firestore,Ga),i=mD(t.converter,e,n),o=pg(r);return yg(r,[aD(o,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,er.none())])}function ns(t,e,n,...r){t=Ar(t,mt);const i=Ar(t.firestore,Ga),o=pg(i);let a;return a=typeof(e=lt(e))=="string"||e instanceof z1?xq(o,"updateDoc",t._key,e,n,r):bq(o,"updateDoc",t._key,e),yg(i,[a.toMutation(t._key,er.exists(!0))])}function aI(t){return yg(Ar(t.firestore,Ga),[new T1(t._key,er.none())])}function Oq(t,e){const n=Ar(t.firestore,Ga),r=gn(t),i=mD(t.converter,e),o=pg(t.firestore);return yg(n,[aD(o,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,er.exists(!1))]).then(()=>r)}function yg(t,e){const n=U1(t);return hq(n,e)}function kq(t,e,n){const r=n.docs.get(e._key),i=new fD(t);return new va(t,i,e._key,r,new Zu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){h7($l),Qr(new Sr("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new Ga(new m7(r.getProvider("auth-internal")),new v7(a,r.getProvider("app-check-internal")),D7(a,i),a);return o={useFetchStreams:n,...o},s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Zn(nI,rI,e),Zn(nI,rI,"esm2020")})();const Rq={apiKey:"AIzaSyDPSizqRsolHOvnZGkzJfJfXd_tDpRG8zo",authDomain:"baymax-a7713.firebaseapp.com",projectId:"baymax-a7713",storageBucket:"baymax-a7713.firebasestorage.app",messagingSenderId:"513298298376",appId:"1:513298298376:web:cfdeabf53772ce8f0103bd",measurementId:"G-EPCK3QCPRP"},Z1=CN(Rq);H9(Z1);const Jf=c7(Z1),ft=gq(Z1),Kh={name:"",age:0,height:"",weight:"",sex:"",conditions:"",caretakerName:"",caretakerPhone:"",email:""},Nq=({children:t})=>{const[e,n]=j.useState(null),[r,i]=j.useState(!0),[o,a]=j.useState(Kh),[s,l]=j.useState([]),[u,c]=j.useState([]),[f,d]=j.useState({}),[p,m]=j.useState({});j.useEffect(()=>Jz(Jf,async C=>{n(C),C?await g(C.uid):(a(Kh),l([]),c([]),d({}),m({})),i(!1)}),[]);const g=async R=>{try{const C=gn(ft,"users",R),k=await J1(C);if(k.exists()){const W=k.data();a({...Kh,...W,age:W.age||Kh.age}),console.log("Profile loaded from Firestore:",W)}else console.log("No user profile found in Firestore");const $=oa(Ki(ft,"medications"),Mr("userId","==",R)),L=await aa($),U=[],F=[],D={};["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].forEach(W=>D[W]=[]);const B={};L.forEach(W=>{const Q=W.data(),X=Q.name;U.push(X),F.push({name:X,frequency:Q.frequency||"",time:Q.time||"",reminder:Q.reminder||!1}),Q.schedule&&Array.isArray(Q.schedule)&&Q.schedule.forEach(re=>{D[re]||(D[re]=[]),D[re].push(X)})}),L.forEach(W=>{const Q=W.data();Q.takenHistory&&Object.assign(B,Q.takenHistory)}),l(U),c(F),d(D),m(B)}catch(C){console.error("Error fetching user data:",C)}},b=async R=>{if(!e)return;a(k=>({...k,...R}));const C=gn(ft,"users",e.uid);await al(C,{...o,...R},{merge:!0})},y=async R=>{e&&(s.includes(R)||(l(C=>[...C,R]),await Oq(Ki(ft,"medications"),{userId:e.uid,name:R,schedule:[],takenHistory:{}})))},v=async R=>{if(!e)return;l($=>$.filter(L=>L!==R)),c($=>$.filter(L=>L.name!==R)),d($=>{const L={...$};return Object.keys(L).forEach(U=>{L[U]=L[U].filter(F=>F!==R)}),L});const C=oa(Ki(ft,"medications"),Mr("userId","==",e.uid),Mr("name","==",R));(await aa(C)).forEach(async $=>{await aI(gn(ft,"medications",$.id))})},x=async R=>{if(!e||s.includes(R.name))return;const C=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],k=[];R.frequency==="daily"&&(k.push(...C),d($=>{const L={...$};return C.forEach(U=>{L[U]||(L[U]=[]),L[U].includes(R.name)||L[U].push(R.name)}),L})),l($=>[...$,R.name]),c($=>[...$,R]),await al(gn(ft,"medications",`${e.uid}_${R.name}`),{userId:e.uid,name:R.name,frequency:R.frequency||"",time:R.time||"",reminder:R.reminder||!1,schedule:k,takenHistory:{}})},O=async R=>{if(!e)return;const C=u[R];C&&(l(k=>k.filter($=>$!==C.name)),c(k=>k.filter(($,L)=>L!==R)),d(k=>{const $={...k};return Object.keys($).forEach(L=>{$[L]=$[L].filter(U=>U!==C.name)}),$}),await aI(gn(ft,"medications",`${e.uid}_${C.name}`)))},S=async(R,C)=>{if(!e)return;const k=u[R];if(!k)return;const $=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];k.frequency==="daily"&&d(F=>{const D={...F};return $.forEach(B=>{D[B]||(D[B]=[]),D[B].includes(k.name)||D[B].push(k.name)}),D}),c(F=>F.map((D,B)=>B===R?{...D,reminder:C}:D));const L=gn(ft,"medications",`${e.uid}_${k.name}`),U={reminder:C};k.frequency==="daily"&&(U.schedule=$),await ns(L,U)},A=async(R,C)=>{if(!e)return;const k=u[R];if(!k)return;const $=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],L={...k,...C};L.frequency==="daily"?d(D=>{const B={...D};return $.forEach(W=>{B[W]||(B[W]=[]),B[W].includes(k.name)||B[W].push(k.name)}),B}):C.frequency&&C.frequency!=="daily"&&d(D=>{const B={...D};return Object.keys(B).forEach(W=>{B[W]=B[W].filter(Q=>Q!==k.name)}),B}),c(D=>D.map((B,W)=>W===R?L:B));const U=gn(ft,"medications",`${e.uid}_${k.name}`),F={...C};L.frequency==="daily"?F.schedule=$:C.frequency&&C.frequency!=="daily"&&(F.schedule=[]),await ns(U,F)},E=async(R,C)=>{if(!e)return;d(L=>({...L,[R]:[...L[R]||[],C]}));const k=oa(Ki(ft,"medications"),Mr("userId","==",e.uid),Mr("name","==",C)),$=await aa(k);if(!$.empty){const L=$.docs[0],U=L.data().schedule||[];await ns(L.ref,{schedule:[...U,R]})}},T=async(R,C,k)=>{if(!e)return;console.log(k);const $=u.find(D=>D.name===C),L=($==null?void 0:$.frequency)==="daily";d(D=>{const B=[...D[R]||[]],W=B.indexOf(C);return W>-1&&B.splice(W,1),{...D,[R]:B}});const U=oa(Ki(ft,"medications"),Mr("userId","==",e.uid),Mr("name","==",C)),F=await aa(U);if(!F.empty){const D=F.docs[0],B=D.data().schedule||[],W=B.indexOf(R);if(W>-1){B.splice(W,1);let Q={schedule:B};L&&B.length<7&&(Q.frequency="",c(X=>X.map(re=>re.name===C?{...re,frequency:""}:re))),await ns(D.ref,Q)}else if(L){const Q={schedule:B};Q.frequency="",c(X=>X.map(re=>re.name===C?{...re,frequency:""}:re)),await ns(D.ref,Q)}}},P=async R=>{if(!e)return;m(U=>({...U,[R]:!U[R]}));const C=R.split("_");C.pop();const k=C.slice(1).join("_"),$=oa(Ki(ft,"medications"),Mr("userId","==",e.uid),Mr("name","==",k)),L=await aa($);if(!L.empty){const U=L.docs[0],D=!(U.data().takenHistory||{})[R];await ns(U.ref,{[`takenHistory.${R}`]:D})}},N=async()=>{e&&await g(e.uid)};return _.jsx(pN.Provider,{value:{user:e,loading:r,profile:o,updateProfile:b,medications:s,medicationDetails:u,addMedication:y,addMedicationWithDetails:x,removeMedication:v,removeMedicationByIndex:O,updateMedicationReminder:S,updateMedicationDetails:A,schedule:f,addToSchedule:E,removeFromSchedule:T,takenRecords:p,toggleTaken:P,refreshUserData:N},children:t})};var Mq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Dq=(t,e)=>{const n=j.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,children:s,...l},u)=>j.createElement("svg",{ref:u,...Mq,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:`lucide lucide-${jq(t)}`,...l},[...e.map(([c,f])=>j.createElement(c,f)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${t}`,n};var rt=Dq;const $q=rt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Lq=rt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),vg=rt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),ex=rt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),g_=rt("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Vq=rt("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Fq=rt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Bq=rt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Uq=rt("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),gD=rt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),zq=rt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Hq=rt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Wq=rt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),qq=rt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),yD=rt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Gq=rt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Kq=rt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Yq=rt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Xq=rt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Qq=rt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),Jq=rt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),vD=rt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),_D=rt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Zq=()=>{const t=Do(),{profile:e}=$o(),n=({isActive:i})=>({display:"flex",alignItems:"center",gap:"0.5rem",textDecoration:"none",color:i?"var(--color-primary)":"var(--text-secondary)",fontWeight:i?600:400,padding:"0.5rem 1rem",borderRadius:"8px",background:i?"var(--color-primary-light)":"transparent",transition:"all 0.2s"}),r=async()=>{try{await Zz(Jf),t("/login")}catch(i){console.error("Logout error:",i),t("/login")}};return _.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",padding:"1rem 2rem"},className:"glass-panel",children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[_.jsx("img",{src:"/logo.png",alt:"HomeCare",style:{width:"40px",height:"40px",objectFit:"contain"}}),_.jsx("h1",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,letterSpacing:"-0.025em",color:"var(--text-main)"},children:"HomeCare"})]}),_.jsxs("nav",{style:{display:"flex",gap:"1rem"},children:[_.jsxs(Gu,{to:"/dashboard",style:n,children:[_.jsx($q,{size:18}),"Dashboard"]}),_.jsxs(Gu,{to:"/session",style:n,children:[_.jsx(ex,{size:18}),"Daily Session"]}),_.jsxs(Gu,{to:"/medical",style:n,children:[_.jsx(gD,{size:18}),"Medical Info"]}),_.jsxs(Gu,{to:"/settings",style:n,children:[_.jsx(Gq,{size:18}),"User Settings"]})]}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[_.jsx("div",{style:{textAlign:"right"},children:_.jsx("div",{style:{fontWeight:600},children:e.name||"Guest"})}),_.jsx("div",{style:{background:"rgba(59, 130, 246, 0.1)",padding:"0.5rem",borderRadius:"50%",color:"var(--color-primary)"},children:_.jsx(vD,{size:20})})]}),_.jsx("div",{style:{height:"24px",width:"1px",background:"var(--glass-border)"}}),_.jsx("button",{onClick:r,style:{background:"transparent",border:"none",color:"var(--text-secondary)",cursor:"pointer",padding:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",transition:"color 0.2s",boxShadow:"none"},onMouseEnter:i=>i.currentTarget.style.color="var(--color-danger)",onMouseLeave:i=>i.currentTarget.style.color="var(--text-secondary)",title:"Sign Out",children:_.jsx(Hq,{size:20})})]})]})};function wD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=wD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ae(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=wD(t))&&(r&&(r+=" "),r+=e);return r}var eG=Array.isArray,Sn=eG,tG=typeof Eh=="object"&&Eh&&Eh.Object===Object&&Eh,bD=tG,nG=bD,rG=typeof self=="object"&&self&&self.Object===Object&&self,iG=nG||rG||Function("return this")(),ni=iG,oG=ni,aG=oG.Symbol,Zf=aG,sI=Zf,xD=Object.prototype,sG=xD.hasOwnProperty,lG=xD.toString,ku=sI?sI.toStringTag:void 0;function uG(t){var e=sG.call(t,ku),n=t[ku];try{t[ku]=void 0;var r=!0}catch{}var i=lG.call(t);return r&&(e?t[ku]=n:delete t[ku]),i}var cG=uG,fG=Object.prototype,hG=fG.toString;function dG(t){return hG.call(t)}var pG=dG,lI=Zf,mG=cG,gG=pG,yG="[object Null]",vG="[object Undefined]",uI=lI?lI.toStringTag:void 0;function _G(t){return t==null?t===void 0?vG:yG:uI&&uI in Object(t)?mG(t):gG(t)}var ji=_G;function wG(t){return t!=null&&typeof t=="object"}var Di=wG,bG=ji,xG=Di,EG="[object Symbol]";function SG(t){return typeof t=="symbol"||xG(t)&&bG(t)==EG}var Hl=SG,TG=Sn,AG=Hl,IG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,PG=/^\w*$/;function CG(t,e){if(TG(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||AG(t)?!0:PG.test(t)||!IG.test(t)||e!=null&&t in Object(e)}var tx=CG;function OG(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Uo=OG;const Wl=$e(Uo);var kG=ji,RG=Uo,NG="[object AsyncFunction]",MG="[object Function]",jG="[object GeneratorFunction]",DG="[object Proxy]";function $G(t){if(!RG(t))return!1;var e=kG(t);return e==MG||e==jG||e==NG||e==DG}var nx=$G;const ge=$e(nx);var LG=ni,VG=LG["__core-js_shared__"],FG=VG,vv=FG,cI=function(){var t=/[^.]+$/.exec(vv&&vv.keys&&vv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function BG(t){return!!cI&&cI in t}var UG=BG,zG=Function.prototype,HG=zG.toString;function WG(t){if(t!=null){try{return HG.call(t)}catch{}try{return t+""}catch{}}return""}var ED=WG,qG=nx,GG=UG,KG=Uo,YG=ED,XG=/[\\^$.*+?()[\]{}|]/g,QG=/^\[object .+?Constructor\]$/,JG=Function.prototype,ZG=Object.prototype,eK=JG.toString,tK=ZG.hasOwnProperty,nK=RegExp("^"+eK.call(tK).replace(XG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rK(t){if(!KG(t)||GG(t))return!1;var e=qG(t)?nK:QG;return e.test(YG(t))}var iK=rK;function oK(t,e){return t==null?void 0:t[e]}var aK=oK,sK=iK,lK=aK;function uK(t,e){var n=lK(t,e);return sK(n)?n:void 0}var Ka=uK,cK=Ka,fK=cK(Object,"create"),_g=fK,fI=_g;function hK(){this.__data__=fI?fI(null):{},this.size=0}var dK=hK;function pK(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var mK=pK,gK=_g,yK="__lodash_hash_undefined__",vK=Object.prototype,_K=vK.hasOwnProperty;function wK(t){var e=this.__data__;if(gK){var n=e[t];return n===yK?void 0:n}return _K.call(e,t)?e[t]:void 0}var bK=wK,xK=_g,EK=Object.prototype,SK=EK.hasOwnProperty;function TK(t){var e=this.__data__;return xK?e[t]!==void 0:SK.call(e,t)}var AK=TK,IK=_g,PK="__lodash_hash_undefined__";function CK(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=IK&&e===void 0?PK:e,this}var OK=CK,kK=dK,RK=mK,NK=bK,MK=AK,jK=OK;function ql(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ql.prototype.clear=kK;ql.prototype.delete=RK;ql.prototype.get=NK;ql.prototype.has=MK;ql.prototype.set=jK;var DK=ql;function $K(){this.__data__=[],this.size=0}var LK=$K;function VK(t,e){return t===e||t!==t&&e!==e}var rx=VK,FK=rx;function BK(t,e){for(var n=t.length;n--;)if(FK(t[n][0],e))return n;return-1}var wg=BK,UK=wg,zK=Array.prototype,HK=zK.splice;function WK(t){var e=this.__data__,n=UK(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():HK.call(e,n,1),--this.size,!0}var qK=WK,GK=wg;function KK(t){var e=this.__data__,n=GK(e,t);return n<0?void 0:e[n][1]}var YK=KK,XK=wg;function QK(t){return XK(this.__data__,t)>-1}var JK=QK,ZK=wg;function eY(t,e){var n=this.__data__,r=ZK(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var tY=eY,nY=LK,rY=qK,iY=YK,oY=JK,aY=tY;function Gl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gl.prototype.clear=nY;Gl.prototype.delete=rY;Gl.prototype.get=iY;Gl.prototype.has=oY;Gl.prototype.set=aY;var bg=Gl,sY=Ka,lY=ni,uY=sY(lY,"Map"),ix=uY,hI=DK,cY=bg,fY=ix;function hY(){this.size=0,this.__data__={hash:new hI,map:new(fY||cY),string:new hI}}var dY=hY;function pY(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var mY=pY,gY=mY;function yY(t,e){var n=t.__data__;return gY(e)?n[typeof e=="string"?"string":"hash"]:n.map}var xg=yY,vY=xg;function _Y(t){var e=vY(this,t).delete(t);return this.size-=e?1:0,e}var wY=_Y,bY=xg;function xY(t){return bY(this,t).get(t)}var EY=xY,SY=xg;function TY(t){return SY(this,t).has(t)}var AY=TY,IY=xg;function PY(t,e){var n=IY(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var CY=PY,OY=dY,kY=wY,RY=EY,NY=AY,MY=CY;function Kl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Kl.prototype.clear=OY;Kl.prototype.delete=kY;Kl.prototype.get=RY;Kl.prototype.has=NY;Kl.prototype.set=MY;var ox=Kl,SD=ox,jY="Expected a function";function ax(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(jY);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ax.Cache||SD),n}ax.Cache=SD;var TD=ax;const DY=$e(TD);var $Y=TD,LY=500;function VY(t){var e=$Y(t,function(r){return n.size===LY&&n.clear(),r}),n=e.cache;return e}var FY=VY,BY=FY,UY=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zY=/\\(\\)?/g,HY=BY(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(UY,function(n,r,i,o){e.push(i?o.replace(zY,"$1"):r||n)}),e}),WY=HY;function qY(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var sx=qY,dI=Zf,GY=sx,KY=Sn,YY=Hl,XY=1/0,pI=dI?dI.prototype:void 0,mI=pI?pI.toString:void 0;function AD(t){if(typeof t=="string")return t;if(KY(t))return GY(t,AD)+"";if(YY(t))return mI?mI.call(t):"";var e=t+"";return e=="0"&&1/t==-XY?"-0":e}var QY=AD,JY=QY;function ZY(t){return t==null?"":JY(t)}var ID=ZY,eX=Sn,tX=tx,nX=WY,rX=ID;function iX(t,e){return eX(t)?t:tX(t,e)?[t]:nX(rX(t))}var PD=iX,oX=Hl,aX=1/0;function sX(t){if(typeof t=="string"||oX(t))return t;var e=t+"";return e=="0"&&1/t==-aX?"-0":e}var Eg=sX,lX=PD,uX=Eg;function cX(t,e){e=lX(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[uX(e[n++])];return n&&n==r?t:void 0}var lx=cX,fX=lx;function hX(t,e,n){var r=t==null?void 0:fX(t,e);return r===void 0?n:r}var CD=hX;const tr=$e(CD);function dX(t){return t==null}var pX=dX;const _e=$e(pX);var mX=ji,gX=Sn,yX=Di,vX="[object String]";function _X(t){return typeof t=="string"||!gX(t)&&yX(t)&&mX(t)==vX}var wX=_X;const Ma=$e(wX);var OD={exports:{}},Re={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux=Symbol.for("react.element"),cx=Symbol.for("react.portal"),Sg=Symbol.for("react.fragment"),Tg=Symbol.for("react.strict_mode"),Ag=Symbol.for("react.profiler"),Ig=Symbol.for("react.provider"),Pg=Symbol.for("react.context"),bX=Symbol.for("react.server_context"),Cg=Symbol.for("react.forward_ref"),Og=Symbol.for("react.suspense"),kg=Symbol.for("react.suspense_list"),Rg=Symbol.for("react.memo"),Ng=Symbol.for("react.lazy"),xX=Symbol.for("react.offscreen"),kD;kD=Symbol.for("react.module.reference");function ar(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ux:switch(t=t.type,t){case Sg:case Ag:case Tg:case Og:case kg:return t;default:switch(t=t&&t.$$typeof,t){case bX:case Pg:case Cg:case Ng:case Rg:case Ig:return t;default:return e}}case cx:return e}}}Re.ContextConsumer=Pg;Re.ContextProvider=Ig;Re.Element=ux;Re.ForwardRef=Cg;Re.Fragment=Sg;Re.Lazy=Ng;Re.Memo=Rg;Re.Portal=cx;Re.Profiler=Ag;Re.StrictMode=Tg;Re.Suspense=Og;Re.SuspenseList=kg;Re.isAsyncMode=function(){return!1};Re.isConcurrentMode=function(){return!1};Re.isContextConsumer=function(t){return ar(t)===Pg};Re.isContextProvider=function(t){return ar(t)===Ig};Re.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ux};Re.isForwardRef=function(t){return ar(t)===Cg};Re.isFragment=function(t){return ar(t)===Sg};Re.isLazy=function(t){return ar(t)===Ng};Re.isMemo=function(t){return ar(t)===Rg};Re.isPortal=function(t){return ar(t)===cx};Re.isProfiler=function(t){return ar(t)===Ag};Re.isStrictMode=function(t){return ar(t)===Tg};Re.isSuspense=function(t){return ar(t)===Og};Re.isSuspenseList=function(t){return ar(t)===kg};Re.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Sg||t===Ag||t===Tg||t===Og||t===kg||t===xX||typeof t=="object"&&t!==null&&(t.$$typeof===Ng||t.$$typeof===Rg||t.$$typeof===Ig||t.$$typeof===Pg||t.$$typeof===Cg||t.$$typeof===kD||t.getModuleId!==void 0)};Re.typeOf=ar;OD.exports=Re;var EX=OD.exports,SX=ji,TX=Di,AX="[object Number]";function IX(t){return typeof t=="number"||TX(t)&&SX(t)==AX}var RD=IX;const PX=$e(RD);var CX=RD;function OX(t){return CX(t)&&t!=+t}var kX=OX;const eh=$e(kX);var vr=function(e){return e===0?0:e>0?1:-1},ha=function(e){return Ma(e)&&e.indexOf("%")===e.length-1},ee=function(e){return PX(e)&&!eh(e)},RX=function(e){return _e(e)},It=function(e){return ee(e)||Ma(e)},NX=0,th=function(e){var n=++NX;return"".concat(e||"").concat(n)},ja=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ee(e)&&!Ma(e))return r;var o;if(ha(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return eh(o)&&(o=r),i&&o>n&&(o=n),o},ro=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},MX=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},mr=function(e,n){return ee(e)&&ee(n)?function(r){return e+r*(n-e)}:function(){return n}};function Cp(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):tr(r,e))===n})}var jX=function(e,n){return ee(e)&&ee(n)?e-n:Ma(e)&&Ma(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Us(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function y_(t){"@babel/helpers - typeof";return y_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y_(t)}var DX=["viewBox","children"],$X=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gI=["points","pathLength"],_v={svg:DX,polygon:gI,polyline:gI},fx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Op=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),!Wl(r))return null;var i={};return Object.keys(r).forEach(function(o){fx.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},LX=function(e,n,r){return function(i){return e(n,r,i),null}},kp=function(e,n,r){if(!Wl(e)||y_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];fx.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=LX(a,n,r))}),i},VX=["children"],FX=["children"];function yI(t,e){if(t==null)return{};var n=BX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function v_(t){"@babel/helpers - typeof";return v_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v_(t)}var vI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},yi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},_I=null,wv=null,hx=function t(e){if(e===_I&&Array.isArray(wv))return wv;var n=[];return j.Children.forEach(e,function(r){_e(r)||(EX.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),wv=n,_I=e,n};function nr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return yi(i)}):r=[yi(e)],hx(t).forEach(function(i){var o=tr(i,"type.displayName")||tr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Cn(t,e){var n=nr(t,e);return n&&n[0]}var wI=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ee(r)||r<=0||!ee(i)||i<=0)},UX=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],zX=function(e){return e&&e.type&&Ma(e.type)&&UX.indexOf(e.type)>=0},HX=function(e){return e&&v_(e)==="object"&&"clipDot"in e},WX=function(e,n,r,i){var o,a=(o=_v==null?void 0:_v[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!ge(e)&&(i&&a.includes(n)||$X.includes(n))||r&&fx.includes(n)},Se=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(j.isValidElement(e)&&(i=e.props),!Wl(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;WX((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},__=function t(e,n){if(e===n)return!0;var r=j.Children.count(e);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return bI(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!bI(o,a))return!1}return!0},bI=function(e,n){if(_e(e)&&_e(n))return!0;if(!_e(e)&&!_e(n)){var r=e.props||{},i=r.children,o=yI(r,VX),a=n.props||{},s=a.children,l=yI(a,FX);return i&&s?Us(o,l)&&__(i,s):!i&&!s?Us(o,l):!1}return!1},xI=function(e,n){var r=[],i={};return hx(e).forEach(function(o,a){if(zX(o))r.push(o);else if(o){var s=yi(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},qX=function(e){var n=e&&e.type;return n&&vI[n]?vI[n]:null},GX=function(e,n){return hx(n).indexOf(e)},KX=["children","width","height","viewBox","className","style","title","desc"];function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(this,arguments)}function YX(t,e){if(t==null)return{};var n=XX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function b_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=YX(t,KX),c=i||{width:n,height:r,x:0,y:0},f=Ae("recharts-surface",o);return V.createElement("svg",w_({},Se(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),V.createElement("title",null,s),V.createElement("desc",null,l),e)}var QX=["children","className"];function x_(){return x_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x_.apply(this,arguments)}function JX(t,e){if(t==null)return{};var n=ZX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var pt=V.forwardRef(function(t,e){var n=t.children,r=t.className,i=JX(t,QX),o=Ae("recharts-layer",r);return V.createElement("g",x_({className:o},Se(i,!0),{ref:e}),n)}),vi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function eQ(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var tQ=eQ,nQ=tQ;function rQ(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:nQ(t,e,n)}var iQ=rQ,oQ="\\ud800-\\udfff",aQ="\\u0300-\\u036f",sQ="\\ufe20-\\ufe2f",lQ="\\u20d0-\\u20ff",uQ=aQ+sQ+lQ,cQ="\\ufe0e\\ufe0f",fQ="\\u200d",hQ=RegExp("["+fQ+oQ+uQ+cQ+"]");function dQ(t){return hQ.test(t)}var ND=dQ;function pQ(t){return t.split("")}var mQ=pQ,MD="\\ud800-\\udfff",gQ="\\u0300-\\u036f",yQ="\\ufe20-\\ufe2f",vQ="\\u20d0-\\u20ff",_Q=gQ+yQ+vQ,wQ="\\ufe0e\\ufe0f",bQ="["+MD+"]",E_="["+_Q+"]",S_="\\ud83c[\\udffb-\\udfff]",xQ="(?:"+E_+"|"+S_+")",jD="[^"+MD+"]",DD="(?:\\ud83c[\\udde6-\\uddff]){2}",$D="[\\ud800-\\udbff][\\udc00-\\udfff]",EQ="\\u200d",LD=xQ+"?",VD="["+wQ+"]?",SQ="(?:"+EQ+"(?:"+[jD,DD,$D].join("|")+")"+VD+LD+")*",TQ=VD+LD+SQ,AQ="(?:"+[jD+E_+"?",E_,DD,$D,bQ].join("|")+")",IQ=RegExp(S_+"(?="+S_+")|"+AQ+TQ,"g");function PQ(t){return t.match(IQ)||[]}var CQ=PQ,OQ=mQ,kQ=ND,RQ=CQ;function NQ(t){return kQ(t)?RQ(t):OQ(t)}var MQ=NQ,jQ=iQ,DQ=ND,$Q=MQ,LQ=ID;function VQ(t){return function(e){e=LQ(e);var n=DQ(e)?$Q(e):void 0,r=n?n[0]:e.charAt(0),i=n?jQ(n,1).join(""):e.slice(1);return r[t]()+i}}var FQ=VQ,BQ=FQ,UQ=BQ("toUpperCase"),zQ=UQ;const Mg=$e(zQ);function Le(t){return function(){return t}}const FD=Math.cos,Rp=Math.sin,Cr=Math.sqrt,Np=Math.PI,jg=2*Np,T_=Math.PI,A_=2*T_,na=1e-6,HQ=A_-na;function BD(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function WQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return BD;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class qQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?BD:WQ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,f=s-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>na)if(!(Math.abs(f*l-u*c)>na)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,m=i-s,g=l*l+u*u,b=p*p+m*m,y=Math.sqrt(g),v=Math.sqrt(d),x=o*Math.tan((T_-Math.acos((g+d-b)/(2*y*v)))/2),O=x/v,S=x/y;Math.abs(O-1)>na&&this._append`L${e+O*c},${n+O*f}`,this._append`A${o},${o},0,0,${+(f*p>c*m)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>na||Math.abs(this._y1-c)>na)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%A_+A_),d>HQ?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:d>na&&this._append`A${r},${r},0,${+(d>=T_)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function dx(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new qQ(e)}function px(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function UD(t){this._context=t}UD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Dg(t){return new UD(t)}function zD(t){return t[0]}function HD(t){return t[1]}function WD(t,e){var n=Le(!0),r=null,i=Dg,o=null,a=dx(s);t=typeof t=="function"?t:t===void 0?zD:Le(t),e=typeof e=="function"?e:e===void 0?HD:Le(e);function s(l){var u,c=(l=px(l)).length,f,d=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(f,u,l),+e(f,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Le(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Le(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Le(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Yh(t,e,n){var r=null,i=Le(!0),o=null,a=Dg,s=null,l=dx(u);t=typeof t=="function"?t:t===void 0?zD:Le(+t),e=typeof e=="function"?e:Le(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?HD:Le(+n);function u(f){var d,p,m,g=(f=px(f)).length,b,y=!1,v,x=new Array(g),O=new Array(g);for(o==null&&(s=a(v=l())),d=0;d<=g;++d){if(!(d<g&&i(b=f[d],d,f))===y)if(y=!y)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=d-1;m>=p;--m)s.point(x[m],O[m]);s.lineEnd(),s.areaEnd()}y&&(x[d]=+t(b,d,f),O[d]=+e(b,d,f),s.point(r?+r(b,d,f):x[d],n?+n(b,d,f):O[d]))}if(v)return s=null,v+""||null}function c(){return WD().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Le(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Le(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Le(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Le(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Le(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Le(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Le(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class qD{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function GQ(t){return new qD(t,!0)}function KQ(t){return new qD(t,!1)}const mx={draw(t,e){const n=Cr(e/Np);t.moveTo(n,0),t.arc(0,0,n,0,jg)}},YQ={draw(t,e){const n=Cr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},GD=Cr(1/3),XQ=GD*2,QQ={draw(t,e){const n=Cr(e/XQ),r=n*GD;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},JQ={draw(t,e){const n=Cr(e),r=-n/2;t.rect(r,r,n,n)}},ZQ=.8908130915292852,KD=Rp(Np/10)/Rp(7*Np/10),eJ=Rp(jg/10)*KD,tJ=-FD(jg/10)*KD,nJ={draw(t,e){const n=Cr(e*ZQ),r=eJ*n,i=tJ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=jg*o/5,s=FD(a),l=Rp(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},bv=Cr(3),rJ={draw(t,e){const n=-Cr(e/(bv*3));t.moveTo(0,n*2),t.lineTo(-bv*n,-n),t.lineTo(bv*n,-n),t.closePath()}},Un=-.5,zn=Cr(3)/2,I_=1/Cr(12),iJ=(I_/2+1)*3,oJ={draw(t,e){const n=Cr(e/iJ),r=n/2,i=n*I_,o=r,a=n*I_+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Un*r-zn*i,zn*r+Un*i),t.lineTo(Un*o-zn*a,zn*o+Un*a),t.lineTo(Un*s-zn*l,zn*s+Un*l),t.lineTo(Un*r+zn*i,Un*i-zn*r),t.lineTo(Un*o+zn*a,Un*a-zn*o),t.lineTo(Un*s+zn*l,Un*l-zn*s),t.closePath()}};function aJ(t,e){let n=null,r=dx(i);t=typeof t=="function"?t:Le(t||mx),e=typeof e=="function"?e:Le(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Le(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Le(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Mp(){}function jp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function YD(t){this._context=t}YD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sJ(t){return new YD(t)}function XD(t){this._context=t}XD.prototype={areaStart:Mp,areaEnd:Mp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lJ(t){return new XD(t)}function QD(t){this._context=t}QD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:jp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uJ(t){return new QD(t)}function JD(t){this._context=t}JD.prototype={areaStart:Mp,areaEnd:Mp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function cJ(t){return new JD(t)}function EI(t){return t<0?-1:1}function SI(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(EI(o)+EI(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function TI(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function xv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Dp(t){this._context=t}Dp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xv(this,this._t0,TI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,xv(this,TI(this,n=SI(this,t,e)),n);break;default:xv(this,this._t0,n=SI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function ZD(t){this._context=new e$(t)}(ZD.prototype=Object.create(Dp.prototype)).point=function(t,e){Dp.prototype.point.call(this,e,t)};function e$(t){this._context=t}e$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function fJ(t){return new Dp(t)}function hJ(t){return new ZD(t)}function t$(t){this._context=t}t$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=AI(t),i=AI(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function AI(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function dJ(t){return new t$(t)}function $g(t,e){this._context=t,this._t=e}$g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function pJ(t){return new $g(t,.5)}function mJ(t){return new $g(t,0)}function gJ(t){return new $g(t,1)}function sl(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function P_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function yJ(t,e){return t[e]}function vJ(t){const e=[];return e.key=t,e}function _J(){var t=Le([]),e=P_,n=sl,r=yJ;function i(o){var a=Array.from(t.apply(this,arguments),vJ),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=px(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Le(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Le(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?P_:typeof o=="function"?o:Le(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??sl,i):n},i}function wJ(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}sl(t,e)}}function bJ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}sl(t,e)}}function xJ(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],f=c[r][1]||0,d=c[r-1][1]||0,p=(f-d)/2,m=0;m<s;++m){var g=t[e[m]],b=g[r][1]||0,y=g[r-1][1]||0;p+=b-y}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,sl(t,e)}}function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}var EJ=["type","size","sizeType"];function C_(){return C_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C_.apply(this,arguments)}function II(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(r){SJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SJ(t,e,n){return e=TJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TJ(t){var e=AJ(t,"string");return Xc(e)=="symbol"?e:e+""}function AJ(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IJ(t,e){if(t==null)return{};var n=PJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var n$={symbolCircle:mx,symbolCross:YQ,symbolDiamond:QQ,symbolSquare:JQ,symbolStar:nJ,symbolTriangle:rJ,symbolWye:oJ},CJ=Math.PI/180,OJ=function(e){var n="symbol".concat(Mg(e));return n$[n]||mx},kJ=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*CJ;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},RJ=function(e,n){n$["symbol".concat(Mg(e))]=n},gx=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=IJ(e,EJ),u=PI(PI({},l),{},{type:r,size:o,sizeType:s}),c=function(){var b=OJ(r),y=aJ().type(b).size(kJ(o,s,r));return y()},f=u.className,d=u.cx,p=u.cy,m=Se(u,!0);return d===+d&&p===+p&&o===+o?V.createElement("path",C_({},m,{className:Ae("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};gx.registerSymbol=RJ;function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O_.apply(this,arguments)}function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){Qc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i$(r.key),r)}}function jJ(t,e,n){return e&&OI(t.prototype,e),n&&OI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function DJ(t,e,n){return e=$p(e),$J(t,r$()?Reflect.construct(e,n||[],$p(t).constructor):e.apply(t,n))}function $J(t,e){if(e&&(ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LJ(t)}function LJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r$=function(){return!!t})()}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$p(t)}function VJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k_(t,e)}function k_(t,e){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},k_(t,e)}function Qc(t,e,n){return e=i$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i$(t){var e=FJ(t,"string");return ll(e)=="symbol"?e:e+""}function FJ(t,e){if(ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hn=32,yx=function(t){function e(){return MJ(this,e),DJ(this,e,arguments)}return VJ(e,t),jJ(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Hn/2,a=Hn/6,s=Hn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Hn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Hn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return V.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Hn/8,"h").concat(Hn,"v").concat(Hn*3/4,"h").concat(-Hn,"z"),className:"recharts-legend-icon"});if(V.isValidElement(r.legendIcon)){var u=NJ({},r);return delete u.legendIcon,V.cloneElement(r.legendIcon,u)}return V.createElement(gx,{fill:l,cx:o,cy:o,size:Hn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Hn,height:Hn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,m){var g=p.formatter||l,b=Ae(Qc(Qc({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=ge(p.value)?null:p.value;vi(!ge(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=p.inactive?u:p.color;return V.createElement("li",O_({className:b,style:f,key:"legend-item-".concat(m)},kp(r.props,p,m)),V.createElement(b_,{width:a,height:a,viewBox:c,style:d},r.renderIcon(p)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},g?g(y,p,m):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(j.PureComponent);Qc(yx,"displayName","Legend");Qc(yx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var BJ=bg;function UJ(){this.__data__=new BJ,this.size=0}var zJ=UJ;function HJ(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var WJ=HJ;function qJ(t){return this.__data__.get(t)}var GJ=qJ;function KJ(t){return this.__data__.has(t)}var YJ=KJ,XJ=bg,QJ=ix,JJ=ox,ZJ=200;function eZ(t,e){var n=this.__data__;if(n instanceof XJ){var r=n.__data__;if(!QJ||r.length<ZJ-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new JJ(r)}return n.set(t,e),this.size=n.size,this}var tZ=eZ,nZ=bg,rZ=zJ,iZ=WJ,oZ=GJ,aZ=YJ,sZ=tZ;function Yl(t){var e=this.__data__=new nZ(t);this.size=e.size}Yl.prototype.clear=rZ;Yl.prototype.delete=iZ;Yl.prototype.get=oZ;Yl.prototype.has=aZ;Yl.prototype.set=sZ;var o$=Yl,lZ="__lodash_hash_undefined__";function uZ(t){return this.__data__.set(t,lZ),this}var cZ=uZ;function fZ(t){return this.__data__.has(t)}var hZ=fZ,dZ=ox,pZ=cZ,mZ=hZ;function Lp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new dZ;++e<n;)this.add(t[e])}Lp.prototype.add=Lp.prototype.push=pZ;Lp.prototype.has=mZ;var a$=Lp;function gZ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var s$=gZ;function yZ(t,e){return t.has(e)}var l$=yZ,vZ=a$,_Z=s$,wZ=l$,bZ=1,xZ=2;function EZ(t,e,n,r,i,o){var a=n&bZ,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=n&xZ?new vZ:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var m=t[f],g=e[f];if(r)var b=a?r(g,m,f,e,t,o):r(m,g,f,t,e,o);if(b!==void 0){if(b)continue;d=!1;break}if(p){if(!_Z(e,function(y,v){if(!wZ(p,v)&&(m===y||i(m,y,n,r,o)))return p.push(v)})){d=!1;break}}else if(!(m===g||i(m,g,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var u$=EZ,SZ=ni,TZ=SZ.Uint8Array,AZ=TZ;function IZ(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var PZ=IZ;function CZ(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var vx=CZ,kI=Zf,RI=AZ,OZ=rx,kZ=u$,RZ=PZ,NZ=vx,MZ=1,jZ=2,DZ="[object Boolean]",$Z="[object Date]",LZ="[object Error]",VZ="[object Map]",FZ="[object Number]",BZ="[object RegExp]",UZ="[object Set]",zZ="[object String]",HZ="[object Symbol]",WZ="[object ArrayBuffer]",qZ="[object DataView]",NI=kI?kI.prototype:void 0,Ev=NI?NI.valueOf:void 0;function GZ(t,e,n,r,i,o,a){switch(n){case qZ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case WZ:return!(t.byteLength!=e.byteLength||!o(new RI(t),new RI(e)));case DZ:case $Z:case FZ:return OZ(+t,+e);case LZ:return t.name==e.name&&t.message==e.message;case BZ:case zZ:return t==e+"";case VZ:var s=RZ;case UZ:var l=r&MZ;if(s||(s=NZ),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=jZ,a.set(t,e);var c=kZ(s(t),s(e),r,i,o,a);return a.delete(t),c;case HZ:if(Ev)return Ev.call(t)==Ev.call(e)}return!1}var KZ=GZ;function YZ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var c$=YZ,XZ=c$,QZ=Sn;function JZ(t,e,n){var r=e(t);return QZ(t)?r:XZ(r,n(t))}var ZZ=JZ;function eee(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var tee=eee;function nee(){return[]}var ree=nee,iee=tee,oee=ree,aee=Object.prototype,see=aee.propertyIsEnumerable,MI=Object.getOwnPropertySymbols,lee=MI?function(t){return t==null?[]:(t=Object(t),iee(MI(t),function(e){return see.call(t,e)}))}:oee,uee=lee;function cee(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var fee=cee,hee=ji,dee=Di,pee="[object Arguments]";function mee(t){return dee(t)&&hee(t)==pee}var gee=mee,jI=gee,yee=Di,f$=Object.prototype,vee=f$.hasOwnProperty,_ee=f$.propertyIsEnumerable,wee=jI(function(){return arguments}())?jI:function(t){return yee(t)&&vee.call(t,"callee")&&!_ee.call(t,"callee")},_x=wee,Vp={exports:{}};function bee(){return!1}var xee=bee;Vp.exports;(function(t,e){var n=ni,r=xee,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Vp,Vp.exports);var h$=Vp.exports,Eee=9007199254740991,See=/^(?:0|[1-9]\d*)$/;function Tee(t,e){var n=typeof t;return e=e??Eee,!!e&&(n=="number"||n!="symbol"&&See.test(t))&&t>-1&&t%1==0&&t<e}var wx=Tee,Aee=9007199254740991;function Iee(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Aee}var bx=Iee,Pee=ji,Cee=bx,Oee=Di,kee="[object Arguments]",Ree="[object Array]",Nee="[object Boolean]",Mee="[object Date]",jee="[object Error]",Dee="[object Function]",$ee="[object Map]",Lee="[object Number]",Vee="[object Object]",Fee="[object RegExp]",Bee="[object Set]",Uee="[object String]",zee="[object WeakMap]",Hee="[object ArrayBuffer]",Wee="[object DataView]",qee="[object Float32Array]",Gee="[object Float64Array]",Kee="[object Int8Array]",Yee="[object Int16Array]",Xee="[object Int32Array]",Qee="[object Uint8Array]",Jee="[object Uint8ClampedArray]",Zee="[object Uint16Array]",ete="[object Uint32Array]",We={};We[qee]=We[Gee]=We[Kee]=We[Yee]=We[Xee]=We[Qee]=We[Jee]=We[Zee]=We[ete]=!0;We[kee]=We[Ree]=We[Hee]=We[Nee]=We[Wee]=We[Mee]=We[jee]=We[Dee]=We[$ee]=We[Lee]=We[Vee]=We[Fee]=We[Bee]=We[Uee]=We[zee]=!1;function tte(t){return Oee(t)&&Cee(t.length)&&!!We[Pee(t)]}var nte=tte;function rte(t){return function(e){return t(e)}}var d$=rte,Fp={exports:{}};Fp.exports;(function(t,e){var n=bD,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(Fp,Fp.exports);var ite=Fp.exports,ote=nte,ate=d$,DI=ite,$I=DI&&DI.isTypedArray,ste=$I?ate($I):ote,p$=ste,lte=fee,ute=_x,cte=Sn,fte=h$,hte=wx,dte=p$,pte=Object.prototype,mte=pte.hasOwnProperty;function gte(t,e){var n=cte(t),r=!n&&ute(t),i=!n&&!r&&fte(t),o=!n&&!r&&!i&&dte(t),a=n||r||i||o,s=a?lte(t.length,String):[],l=s.length;for(var u in t)(e||mte.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||hte(u,l)))&&s.push(u);return s}var yte=gte,vte=Object.prototype;function _te(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||vte;return t===n}var wte=_te;function bte(t,e){return function(n){return t(e(n))}}var m$=bte,xte=m$,Ete=xte(Object.keys,Object),Ste=Ete,Tte=wte,Ate=Ste,Ite=Object.prototype,Pte=Ite.hasOwnProperty;function Cte(t){if(!Tte(t))return Ate(t);var e=[];for(var n in Object(t))Pte.call(t,n)&&n!="constructor"&&e.push(n);return e}var Ote=Cte,kte=nx,Rte=bx;function Nte(t){return t!=null&&Rte(t.length)&&!kte(t)}var nh=Nte,Mte=yte,jte=Ote,Dte=nh;function $te(t){return Dte(t)?Mte(t):jte(t)}var Lg=$te,Lte=ZZ,Vte=uee,Fte=Lg;function Bte(t){return Lte(t,Fte,Vte)}var Ute=Bte,LI=Ute,zte=1,Hte=Object.prototype,Wte=Hte.hasOwnProperty;function qte(t,e,n,r,i,o){var a=n&zte,s=LI(t),l=s.length,u=LI(e),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var d=s[f];if(!(a?d in e:Wte.call(e,d)))return!1}var p=o.get(t),m=o.get(e);if(p&&m)return p==e&&m==t;var g=!0;o.set(t,e),o.set(e,t);for(var b=a;++f<l;){d=s[f];var y=t[d],v=e[d];if(r)var x=a?r(v,y,d,e,t,o):r(y,v,d,t,e,o);if(!(x===void 0?y===v||i(y,v,n,r,o):x)){g=!1;break}b||(b=d=="constructor")}if(g&&!b){var O=t.constructor,S=e.constructor;O!=S&&"constructor"in t&&"constructor"in e&&!(typeof O=="function"&&O instanceof O&&typeof S=="function"&&S instanceof S)&&(g=!1)}return o.delete(t),o.delete(e),g}var Gte=qte,Kte=Ka,Yte=ni,Xte=Kte(Yte,"DataView"),Qte=Xte,Jte=Ka,Zte=ni,ene=Jte(Zte,"Promise"),tne=ene,nne=Ka,rne=ni,ine=nne(rne,"Set"),g$=ine,one=Ka,ane=ni,sne=one(ane,"WeakMap"),lne=sne,R_=Qte,N_=ix,M_=tne,j_=g$,D_=lne,y$=ji,Xl=ED,VI="[object Map]",une="[object Object]",FI="[object Promise]",BI="[object Set]",UI="[object WeakMap]",zI="[object DataView]",cne=Xl(R_),fne=Xl(N_),hne=Xl(M_),dne=Xl(j_),pne=Xl(D_),ra=y$;(R_&&ra(new R_(new ArrayBuffer(1)))!=zI||N_&&ra(new N_)!=VI||M_&&ra(M_.resolve())!=FI||j_&&ra(new j_)!=BI||D_&&ra(new D_)!=UI)&&(ra=function(t){var e=y$(t),n=e==une?t.constructor:void 0,r=n?Xl(n):"";if(r)switch(r){case cne:return zI;case fne:return VI;case hne:return FI;case dne:return BI;case pne:return UI}return e});var mne=ra,Sv=o$,gne=u$,yne=KZ,vne=Gte,HI=mne,WI=Sn,qI=h$,_ne=p$,wne=1,GI="[object Arguments]",KI="[object Array]",Xh="[object Object]",bne=Object.prototype,YI=bne.hasOwnProperty;function xne(t,e,n,r,i,o){var a=WI(t),s=WI(e),l=a?KI:HI(t),u=s?KI:HI(e);l=l==GI?Xh:l,u=u==GI?Xh:u;var c=l==Xh,f=u==Xh,d=l==u;if(d&&qI(t)){if(!qI(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new Sv),a||_ne(t)?gne(t,e,n,r,i,o):yne(t,e,l,n,r,i,o);if(!(n&wne)){var p=c&&YI.call(t,"__wrapped__"),m=f&&YI.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,b=m?e.value():e;return o||(o=new Sv),i(g,b,n,r,o)}}return d?(o||(o=new Sv),vne(t,e,n,r,i,o)):!1}var Ene=xne,Sne=Ene,XI=Di;function v$(t,e,n,r,i){return t===e?!0:t==null||e==null||!XI(t)&&!XI(e)?t!==t&&e!==e:Sne(t,e,n,r,v$,i)}var xx=v$,Tne=o$,Ane=xx,Ine=1,Pne=2;function Cne(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Tne;if(r)var d=r(u,c,l,t,e,f);if(!(d===void 0?Ane(c,u,Ine|Pne,r,f):d))return!1}}return!0}var One=Cne,kne=Uo;function Rne(t){return t===t&&!kne(t)}var _$=Rne,Nne=_$,Mne=Lg;function jne(t){for(var e=Mne(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Nne(i)]}return e}var Dne=jne;function $ne(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var w$=$ne,Lne=One,Vne=Dne,Fne=w$;function Bne(t){var e=Vne(t);return e.length==1&&e[0][2]?Fne(e[0][0],e[0][1]):function(n){return n===t||Lne(n,t,e)}}var Une=Bne;function zne(t,e){return t!=null&&e in Object(t)}var Hne=zne,Wne=PD,qne=_x,Gne=Sn,Kne=wx,Yne=bx,Xne=Eg;function Qne(t,e,n){e=Wne(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=Xne(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Yne(i)&&Kne(a,i)&&(Gne(t)||qne(t)))}var Jne=Qne,Zne=Hne,ere=Jne;function tre(t,e){return t!=null&&ere(t,e,Zne)}var nre=tre,rre=xx,ire=CD,ore=nre,are=tx,sre=_$,lre=w$,ure=Eg,cre=1,fre=2;function hre(t,e){return are(t)&&sre(e)?lre(ure(t),e):function(n){var r=ire(n,t);return r===void 0&&r===e?ore(n,t):rre(e,r,cre|fre)}}var dre=hre;function pre(t){return t}var Ql=pre;function mre(t){return function(e){return e==null?void 0:e[t]}}var gre=mre,yre=lx;function vre(t){return function(e){return yre(e,t)}}var _re=vre,wre=gre,bre=_re,xre=tx,Ere=Eg;function Sre(t){return xre(t)?wre(Ere(t)):bre(t)}var Tre=Sre,Are=Une,Ire=dre,Pre=Ql,Cre=Sn,Ore=Tre;function kre(t){return typeof t=="function"?t:t==null?Pre:typeof t=="object"?Cre(t)?Ire(t[0],t[1]):Are(t):Ore(t)}var zo=kre;function Rre(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var b$=Rre;function Nre(t){return t!==t}var Mre=Nre;function jre(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Dre=jre,$re=b$,Lre=Mre,Vre=Dre;function Fre(t,e,n){return e===e?Vre(t,e,n):$re(t,Lre,n)}var Bre=Fre,Ure=Bre;function zre(t,e){var n=t==null?0:t.length;return!!n&&Ure(t,e,0)>-1}var Hre=zre;function Wre(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var qre=Wre;function Gre(){}var Kre=Gre,Tv=g$,Yre=Kre,Xre=vx,Qre=1/0,Jre=Tv&&1/Xre(new Tv([,-0]))[1]==Qre?function(t){return new Tv(t)}:Yre,Zre=Jre,eie=a$,tie=Hre,nie=qre,rie=l$,iie=Zre,oie=vx,aie=200;function sie(t,e,n){var r=-1,i=tie,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=nie;else if(o>=aie){var u=e?null:iie(t);if(u)return oie(u);a=!1,i=rie,l=new eie}else l=e?[]:s;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var lie=sie,uie=zo,cie=lie;function fie(t,e){return t&&t.length?cie(t,uie(e)):[]}var hie=fie;const QI=$e(hie);function x$(t,e,n){return e===!0?QI(t,n):ge(e)?QI(t,e):t}function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}var die=["ref"];function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ri(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){Vg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S$(r.key),r)}}function mie(t,e,n){return e&&ZI(t.prototype,e),n&&ZI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gie(t,e,n){return e=Bp(e),yie(t,E$()?Reflect.construct(e,n||[],Bp(t).constructor):e.apply(t,n))}function yie(t,e){if(e&&(ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vie(t)}function vie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E$=function(){return!!t})()}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bp(t)}function _ie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$_(t,e)}function Vg(t,e,n){return e=S$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S$(t){var e=wie(t,"string");return ul(e)=="symbol"?e:e+""}function wie(t,e){if(ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bie(t,e){if(t==null)return{};var n=xie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Eie(t){return t.value}function Sie(t,e){if(V.isValidElement(t))return V.cloneElement(t,e);if(typeof t=="function")return V.createElement(t,e);e.ref;var n=bie(e,die);return V.createElement(yx,n)}var eP=1,zs=function(t){function e(){var n;pie(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=gie(this,e,[].concat(i)),Vg(n,"lastBoundingBox",{width:-1,height:-1}),n}return _ie(e,t),mie(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>eP||Math.abs(i.height-this.lastBoundingBox.height)>eP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ri({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var m=this.getBBoxSnapshot();d={top:((c||0)-m.height)/2}}else d=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ri(ri({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=ri(ri({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return V.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},Sie(o,ri(ri({},this.props),{},{payload:x$(c,u,Eie)})))}}],[{key:"getWithHeight",value:function(r,i){var o=ri(ri({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&ee(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(j.PureComponent);Vg(zs,"displayName","Legend");Vg(zs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var tP=Zf,Tie=_x,Aie=Sn,nP=tP?tP.isConcatSpreadable:void 0;function Iie(t){return Aie(t)||Tie(t)||!!(nP&&t&&t[nP])}var Pie=Iie,Cie=c$,Oie=Pie;function T$(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Oie),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?T$(s,e-1,n,r,i):Cie(i,s):r||(i[i.length]=s)}return i}var A$=T$;function kie(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var Rie=kie,Nie=Rie,Mie=Nie(),jie=Mie,Die=jie,$ie=Lg;function Lie(t,e){return t&&Die(t,e,$ie)}var I$=Lie,Vie=nh;function Fie(t,e){return function(n,r){if(n==null)return n;if(!Vie(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var Bie=Fie,Uie=I$,zie=Bie,Hie=zie(Uie),Ex=Hie,Wie=Ex,qie=nh;function Gie(t,e){var n=-1,r=qie(t)?Array(t.length):[];return Wie(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var P$=Gie;function Kie(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Yie=Kie,rP=Hl;function Xie(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=rP(t),a=e!==void 0,s=e===null,l=e===e,u=rP(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var Qie=Xie,Jie=Qie;function Zie(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=Jie(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var eoe=Zie,Av=sx,toe=lx,noe=zo,roe=P$,ioe=Yie,ooe=d$,aoe=eoe,soe=Ql,loe=Sn;function uoe(t,e,n){e.length?e=Av(e,function(o){return loe(o)?function(a){return toe(a,o.length===1?o[0]:o)}:o}):e=[soe];var r=-1;e=Av(e,ooe(noe));var i=roe(t,function(o,a,s){var l=Av(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return ioe(i,function(o,a){return aoe(o,a,n)})}var coe=uoe;function foe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var hoe=foe,doe=hoe,iP=Math.max;function poe(t,e,n){return e=iP(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=iP(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),doe(t,this,s)}}var moe=poe;function goe(t){return function(){return t}}var yoe=goe,voe=Ka,_oe=function(){try{var t=voe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),C$=_oe,woe=yoe,oP=C$,boe=Ql,xoe=oP?function(t,e){return oP(t,"toString",{configurable:!0,enumerable:!1,value:woe(e),writable:!0})}:boe,Eoe=xoe,Soe=800,Toe=16,Aoe=Date.now;function Ioe(t){var e=0,n=0;return function(){var r=Aoe(),i=Toe-(r-n);if(n=r,i>0){if(++e>=Soe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Poe=Ioe,Coe=Eoe,Ooe=Poe,koe=Ooe(Coe),Roe=koe,Noe=Ql,Moe=moe,joe=Roe;function Doe(t,e){return joe(Moe(t,e,Noe),t+"")}var $oe=Doe,Loe=rx,Voe=nh,Foe=wx,Boe=Uo;function Uoe(t,e,n){if(!Boe(n))return!1;var r=typeof e;return(r=="number"?Voe(n)&&Foe(e,n.length):r=="string"&&e in n)?Loe(n[e],t):!1}var Fg=Uoe,zoe=A$,Hoe=coe,Woe=$oe,aP=Fg,qoe=Woe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&aP(t,e[0],e[1])?e=[]:n>2&&aP(e[0],e[1],e[2])&&(e=[e[0]]),Hoe(t,zoe(e,1),[])}),Goe=qoe;const Sx=$e(Goe);function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L_.apply(this,arguments)}function Koe(t,e){return Joe(t)||Qoe(t,e)||Xoe(t,e)||Yoe()}function Yoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xoe(t,e){if(t){if(typeof t=="string")return sP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sP(t,e)}}function sP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Joe(t){if(Array.isArray(t))return t}function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){Zoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zoe(t,e,n){return e=eae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eae(t){var e=tae(t,"string");return Jc(e)=="symbol"?e:e+""}function tae(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nae(t){return Array.isArray(t)&&It(t[0])&&It(t[1])?t.join(" ~ "):t}var rae=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,d=e.itemSorter,p=e.wrapperClassName,m=e.labelClassName,g=e.label,b=e.labelFormatter,y=e.accessibilityLayer,v=y===void 0?!1:y,x=function(){if(c&&c.length){var C={padding:0,margin:0},k=(d?Sx(c,d):c).map(function($,L){if($.type==="none")return null;var U=Iv({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},s),F=$.formatter||f||nae,D=$.value,B=$.name,W=D,Q=B;if(F&&W!=null&&Q!=null){var X=F(D,B,$,L,c);if(Array.isArray(X)){var re=Koe(X,2);W=re[0],Q=re[1]}else W=X}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:U},It(Q)?V.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,It(Q)?V.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,V.createElement("span",{className:"recharts-tooltip-item-value"},W),V.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:C},k)}return null},O=Iv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=Iv({margin:0},u),A=!_e(g),E=A?g:"",T=Ae("recharts-default-tooltip",p),P=Ae("recharts-tooltip-label",m);A&&b&&c!==void 0&&c!==null&&(E=b(g,c));var N=v?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",L_({className:T,style:O},N),V.createElement("p",{className:P,style:S},V.isValidElement(E)?E:"".concat(E)),x())};function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function Qh(t,e,n){return e=iae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iae(t){var e=oae(t,"string");return Zc(e)=="symbol"?e:e+""}function oae(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ru="recharts-tooltip-wrapper",aae={visibility:"hidden"};function sae(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ae(Ru,Qh(Qh(Qh(Qh({},"".concat(Ru,"-right"),ee(n)&&e&&ee(e.x)&&n>=e.x),"".concat(Ru,"-left"),ee(n)&&e&&ee(e.x)&&n<e.x),"".concat(Ru,"-bottom"),ee(r)&&e&&ee(e.y)&&r>=e.y),"".concat(Ru,"-top"),ee(r)&&e&&ee(e.y)&&r<e.y))}function uP(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ee(o[r]))return o[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?c:f;if(a[r]){var d=c,p=l[r];return d<p?Math.max(f,l[r]):Math.max(c,l[r])}var m=f+s,g=l[r]+u;return m>g?Math.max(c,l[r]):Math.max(f,l[r])}function lae(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function uae(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return a.height>0&&a.width>0&&n?(c=uP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=uP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=lae({translateX:c,translateY:f,useTranslate3d:s})):u=aae,{cssProperties:u,cssClasses:sae({translateX:c,translateY:f,coordinate:n})}}function cl(t){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cl(t)}function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){F_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k$(r.key),r)}}function fae(t,e,n){return e&&hP(t.prototype,e),n&&hP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hae(t,e,n){return e=Up(e),dae(t,O$()?Reflect.construct(e,n||[],Up(t).constructor):e.apply(t,n))}function dae(t,e){if(e&&(cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pae(t)}function pae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O$=function(){return!!t})()}function Up(t){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Up(t)}function mae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V_(t,e)}function F_(t,e,n){return e=k$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k$(t){var e=gae(t,"string");return cl(e)=="symbol"?e:e+""}function gae(t,e){if(cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dP=1,yae=function(t){function e(){var n;cae(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=hae(this,e,[].concat(i)),F_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),F_(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return mae(e,t),fae(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>dP||Math.abs(r.height-this.state.lastBoundingBox.height)>dP)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,b=i.useTranslate3d,y=i.viewBox,v=i.wrapperStyle,x=uae({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:y}),O=x.cssClasses,S=x.cssProperties,A=fP(fP({transition:d&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return V.createElement("div",{tabIndex:-1,className:O,style:A,ref:function(T){r.wrapperNode=T}},u)}}])}(j.PureComponent),vae=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},_i={isSsr:vae(),get:function(e){return _i[e]},set:function(e,n){if(typeof e=="string")_i[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){_i[i]=e[i]})}}};function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function pP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pP(Object(n),!0).forEach(function(r){Tx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N$(r.key),r)}}function wae(t,e,n){return e&&gP(t.prototype,e),n&&gP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bae(t,e,n){return e=zp(e),xae(t,R$()?Reflect.construct(e,n||[],zp(t).constructor):e.apply(t,n))}function xae(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eae(t)}function Eae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R$=function(){return!!t})()}function zp(t){return zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zp(t)}function Sae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B_(t,e)}function B_(t,e){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B_(t,e)}function Tx(t,e,n){return e=N$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N$(t){var e=Tae(t,"string");return fl(e)=="symbol"?e:e+""}function Tae(t,e){if(fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aae(t){return t.dataKey}function Iae(t,e){return V.isValidElement(t)?V.cloneElement(t,e):typeof t=="function"?V.createElement(t,e):V.createElement(rae,e)}var $r=function(t){function e(){return _ae(this,e),bae(this,e,arguments)}return Sae(e,t),wae(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,d=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,b=i.position,y=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,O=i.wrapperStyle,S=m??[];f&&S.length&&(S=x$(m.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),g,Aae));var A=S.length>0;return V.createElement(yae,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:d,active:o,coordinate:c,hasPayload:A,offset:p,position:b,reverseDirection:y,useTranslate3d:v,viewBox:x,wrapperStyle:O},Iae(u,mP(mP({},this.props),{},{payload:S})))}}])}(j.PureComponent);Tx($r,"displayName","Tooltip");Tx($r,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!_i.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Pae=ni,Cae=function(){return Pae.Date.now()},Oae=Cae,kae=/\s/;function Rae(t){for(var e=t.length;e--&&kae.test(t.charAt(e)););return e}var Nae=Rae,Mae=Nae,jae=/^\s+/;function Dae(t){return t&&t.slice(0,Mae(t)+1).replace(jae,"")}var $ae=Dae,Lae=$ae,yP=Uo,Vae=Hl,vP=0/0,Fae=/^[-+]0x[0-9a-f]+$/i,Bae=/^0b[01]+$/i,Uae=/^0o[0-7]+$/i,zae=parseInt;function Hae(t){if(typeof t=="number")return t;if(Vae(t))return vP;if(yP(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=yP(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Lae(t);var n=Bae.test(t);return n||Uae.test(t)?zae(t.slice(2),n?2:8):Fae.test(t)?vP:+t}var M$=Hae,Wae=Uo,Pv=Oae,_P=M$,qae="Expected a function",Gae=Math.max,Kae=Math.min;function Yae(t,e,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(qae);e=_P(e)||0,Wae(n)&&(c=!!n.leading,f="maxWait"in n,o=f?Gae(_P(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function p(A){var E=r,T=i;return r=i=void 0,u=A,a=t.apply(T,E),a}function m(A){return u=A,s=setTimeout(y,e),c?p(A):a}function g(A){var E=A-l,T=A-u,P=e-E;return f?Kae(P,o-T):P}function b(A){var E=A-l,T=A-u;return l===void 0||E>=e||E<0||f&&T>=o}function y(){var A=Pv();if(b(A))return v(A);s=setTimeout(y,g(A))}function v(A){return s=void 0,d&&r?p(A):(r=i=void 0,a)}function x(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function O(){return s===void 0?a:v(Pv())}function S(){var A=Pv(),E=b(A);if(r=arguments,i=this,l=A,E){if(s===void 0)return m(l);if(f)return clearTimeout(s),s=setTimeout(y,e),p(l)}return s===void 0&&(s=setTimeout(y,e)),a}return S.cancel=x,S.flush=O,S}var Xae=Yae,Qae=Xae,Jae=Uo,Zae="Expected a function";function ese(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Zae);return Jae(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Qae(t,e,{leading:r,maxWait:e,trailing:i})}var tse=ese;const j$=$e(tse);function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function wP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(n),!0).forEach(function(r){nse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nse(t,e,n){return e=rse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rse(t){var e=ise(t,"string");return ef(e)=="symbol"?e:e+""}function ise(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ose(t,e){return use(t)||lse(t,e)||sse(t,e)||ase()}function ase(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sse(t,e){if(t){if(typeof t=="string")return bP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bP(t,e)}}function bP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function use(t){if(Array.isArray(t))return t}var cse=j.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,d=t.maxHeight,p=t.children,m=t.debounce,g=m===void 0?0:m,b=t.id,y=t.className,v=t.onResize,x=t.style,O=x===void 0?{}:x,S=j.useRef(null),A=j.useRef();A.current=v,j.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var E=j.useState({containerWidth:i.width,containerHeight:i.height}),T=ose(E,2),P=T[0],N=T[1],R=j.useCallback(function(k,$){N(function(L){var U=Math.round(k),F=Math.round($);return L.containerWidth===U&&L.containerHeight===F?L:{containerWidth:U,containerHeight:F}})},[]);j.useEffect(function(){var k=function(B){var W,Q=B[0].contentRect,X=Q.width,re=Q.height;R(X,re),(W=A.current)===null||W===void 0||W.call(A,X,re)};g>0&&(k=j$(k,g,{trailing:!0,leading:!1}));var $=new ResizeObserver(k),L=S.current.getBoundingClientRect(),U=L.width,F=L.height;return R(U,F),$.observe(S.current),function(){$.disconnect()}},[R,g]);var C=j.useMemo(function(){var k=P.containerWidth,$=P.containerHeight;if(k<0||$<0)return null;vi(ha(a)||ha(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),vi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var L=ha(a)?k:a,U=ha(l)?$:l;n&&n>0&&(L?U=L/n:U&&(L=U*n),d&&U>d&&(U=d)),vi(L>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,U,a,l,c,f,n);var F=!Array.isArray(p)&&yi(p.type).endsWith("Chart");return V.Children.map(p,function(D){return V.isValidElement(D)?j.cloneElement(D,Jh({width:L,height:U},F?{style:Jh({height:"100%",width:"100%",maxHeight:U,maxWidth:L},D.props.style)}:{})):D})},[n,p,l,d,f,c,P,a]);return V.createElement("div",{id:b?"".concat(b):void 0,className:Ae("recharts-responsive-container",y),style:Jh(Jh({},O),{},{width:a,height:l,minWidth:c,minHeight:f,maxHeight:d}),ref:S},C)}),D$=function(e){return null};D$.displayName="Cell";function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function xP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(n),!0).forEach(function(r){fse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fse(t,e,n){return e=hse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hse(t){var e=dse(t,"string");return tf(e)=="symbol"?e:e+""}function dse(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rs={widthCache:{},cacheCount:0},pse=2e3,mse={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},EP="recharts_measurement_span";function gse(t){var e=U_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var gc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||_i.isSsr)return{width:0,height:0};var r=gse(n),i=JSON.stringify({text:e,copyStyle:r});if(rs.widthCache[i])return rs.widthCache[i];try{var o=document.getElementById(EP);o||(o=document.createElement("span"),o.setAttribute("id",EP),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=U_(U_({},mse),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return rs.widthCache[i]=l,++rs.cacheCount>pse&&(rs.cacheCount=0,rs.widthCache={}),l}catch{return{width:0,height:0}}},yse=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function Hp(t,e){return bse(t)||wse(t,e)||_se(t,e)||vse()}function vse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _se(t,e){if(t){if(typeof t=="string")return SP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SP(t,e)}}function SP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function bse(t){if(Array.isArray(t))return t}function xse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Sse(r.key),r)}}function Ese(t,e,n){return e&&TP(t.prototype,e),n&&TP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sse(t){var e=Tse(t,"string");return nf(e)=="symbol"?e:e+""}function Tse(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ase=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ise=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Pse=Object.keys($$),Ts="NaN";function Cse(t,e){return t*$$[e]}var Zh=function(){function t(e,n){xse(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Ase.test(n)&&(this.num=NaN,this.unit=""),Pse.includes(n)&&(this.num=Cse(e,n),this.unit="px")}return Ese(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Ise.exec(n))!==null&&r!==void 0?r:[],o=Hp(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function L$(t){if(t.includes(Ts))return Ts;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=AP.exec(e))!==null&&n!==void 0?n:[],i=Hp(r,4),o=i[1],a=i[2],s=i[3],l=Zh.parse(o??""),u=Zh.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Ts;e=e.replace(AP,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=IP.exec(e))!==null&&f!==void 0?f:[],p=Hp(d,4),m=p[1],g=p[2],b=p[3],y=Zh.parse(m??""),v=Zh.parse(b??""),x=g==="+"?y.add(v):y.subtract(v);if(x.isNaN())return Ts;e=e.replace(IP,x.toString())}return e}var PP=/\(([^()]*)\)/;function Ose(t){for(var e=t;e.includes("(");){var n=PP.exec(e),r=Hp(n,2),i=r[1];e=e.replace(PP,L$(i))}return e}function kse(t){var e=t.replace(/\s+/g,"");return e=Ose(e),e=L$(e),e}function Rse(t){try{return kse(t)}catch{return Ts}}function Cv(t){var e=Rse(t.slice(5,-1));return e===Ts?"":e}var Nse=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Mse=["dx","dy","angle","className","breakAll"];function z_(){return z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z_.apply(this,arguments)}function CP(t,e){if(t==null)return{};var n=jse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OP(t,e){return Vse(t)||Lse(t,e)||$se(t,e)||Dse()}function Dse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $se(t,e){if(t){if(typeof t=="string")return kP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kP(t,e)}}function kP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Vse(t){if(Array.isArray(t))return t}var V$=/[ \f\n\r\t\v\u2028\u2029]+/,F$=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];_e(n)||(r?o=n.toString().split(""):o=n.toString().split(V$));var a=o.map(function(l){return{word:l,width:gc(l,i).width}}),s=r?0:gc("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Fse=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=ee(a),f=s,d=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(U,F){var D=F.word,B=F.width,W=U[U.length-1];if(W&&(i==null||o||W.width+B+r<Number(i)))W.words.push(D),W.width+=B+r;else{var Q={words:[D],width:B};U.push(Q)}return U},[])},p=d(n),m=function(L){return L.reduce(function(U,F){return U.width>F.width?U:F})};if(!c)return p;for(var g="",b=function(L){var U=f.slice(0,L),F=F$({breakAll:u,style:l,children:U+g}).wordsWithComputedWidth,D=d(F),B=D.length>a||m(D).width>Number(i);return[B,D]},y=0,v=f.length-1,x=0,O;y<=v&&x<=f.length-1;){var S=Math.floor((y+v)/2),A=S-1,E=b(A),T=OP(E,2),P=T[0],N=T[1],R=b(S),C=OP(R,1),k=C[0];if(!P&&!k&&(y=S+1),P&&k&&(v=S-1),!P&&k){O=N;break}x++}return O||p},RP=function(e){var n=_e(e)?[]:e.toString().split(V$);return[{words:n}]},Bse=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!_i.isSsr){var l,u,c=F$({breakAll:a,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;l=f,u=d}else return RP(i);return Fse({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return RP(i)},NP="#808080",Wp=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,d=e.textAnchor,p=d===void 0?"start":d,m=e.verticalAnchor,g=m===void 0?"end":m,b=e.fill,y=b===void 0?NP:b,v=CP(e,Nse),x=j.useMemo(function(){return Bse({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),O=v.dx,S=v.dy,A=v.angle,E=v.className,T=v.breakAll,P=CP(v,Mse);if(!It(r)||!It(o))return null;var N=r+(ee(O)?O:0),R=o+(ee(S)?S:0),C;switch(g){case"start":C=Cv("calc(".concat(u,")"));break;case"middle":C=Cv("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:C=Cv("calc(".concat(x.length-1," * -").concat(s,")"));break}var k=[];if(f){var $=x[0].width,L=v.width;k.push("scale(".concat((ee(L)?L/$:1)/$,")"))}return A&&k.push("rotate(".concat(A,", ").concat(N,", ").concat(R,")")),k.length&&(P.transform=k.join(" ")),V.createElement("text",z_({},Se(P,!0),{x:N,y:R,className:Ae("recharts-text",E),textAnchor:p,fill:y.includes("url")?NP:y}),x.map(function(U,F){var D=U.words.join(T?"":" ");return V.createElement("tspan",{x:N,dy:F===0?C:s,key:"".concat(D,"-").concat(F)},D)}))};function bo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Use(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ax(t){let e,n,r;t.length!==2?(e=bo,n=(s,l)=>bo(t(s),l),r=(s,l)=>t(s)-l):(e=t===bo||t===Use?t:zse,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function zse(){return 0}function B$(t){return t===null?NaN:+t}function*Hse(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const Wse=Ax(bo),qse=Wse.right;Ax(B$).center;const rh=qse;class MP extends Map{constructor(e,n=Yse){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(jP(this,e))}has(e){return super.has(jP(this,e))}set(e,n){return super.set(Gse(this,e),n)}delete(e){return super.delete(Kse(this,e))}}function jP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Gse({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Kse({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Yse(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Xse(t=bo){if(t===bo)return U$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function U$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Qse=Math.sqrt(50),Jse=Math.sqrt(10),Zse=Math.sqrt(2);function qp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Qse?10:o>=Jse?5:o>=Zse?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?qp(t,e,n*2):[s,l,u]}function H_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?qp(e,t,n):qp(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function W_(t,e,n){return e=+e,t=+t,n=+n,qp(t,e,n)[2]}function q_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?W_(e,t,n):W_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function DP(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function $P(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function z$(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?U$:Xse(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+d)),m=Math.min(r,Math.floor(e+(l-u)*f/l+d));z$(t,e,p,m,i)}const o=t[e];let a=n,s=r;for(Nu(t,n,e),i(t[r],o)>0&&Nu(t,n,r);a<s;){for(Nu(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Nu(t,n,s):(++s,Nu(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Nu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ele(t,e,n){if(t=Float64Array.from(Hse(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return $P(t);if(e>=1)return DP(t);var r,i=(r-1)*e,o=Math.floor(i),a=DP(z$(t,o).subarray(0,o+1)),s=$P(t.subarray(o+1));return a+(s-a)*(i-o)}}function tle(t,e,n=B$){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function nle(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function sr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function $i(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const G_=Symbol("implicit");function Ix(){var t=new MP,e=[],n=[],r=G_;function i(o){let a=t.get(o);if(a===void 0){if(r!==G_)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new MP;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Ix(e,n).unknown(r)},sr.apply(i,arguments),i}function rf(){var t=Ix().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var d=e().length,p=i<r,m=p?i:r,g=p?r:i;o=(g-m)/Math.max(1,d-l+u*2),s&&(o=Math.floor(o)),m+=(g-m-o*(d-l))*c,a=o*(1-l),s&&(m=Math.round(m),a=Math.round(a));var b=nle(d).map(function(y){return m+o*y});return n(p?b.reverse():b)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(d){return arguments.length?(s=!!d,f()):s},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,f()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},t.copy=function(){return rf(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},sr.apply(f(),arguments)}function H$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return H$(e())},t}function yc(){return H$(rf.apply(null,arguments).paddingInner(1))}function Px(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function W$(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ih(){}var of=.7,Gp=1/of,Hs="\\s*([+-]?\\d+)\\s*",af="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rle=/^#([0-9a-f]{3,8})$/,ile=new RegExp(`^rgb\\(${Hs},${Hs},${Hs}\\)$`),ole=new RegExp(`^rgb\\(${Yr},${Yr},${Yr}\\)$`),ale=new RegExp(`^rgba\\(${Hs},${Hs},${Hs},${af}\\)$`),sle=new RegExp(`^rgba\\(${Yr},${Yr},${Yr},${af}\\)$`),lle=new RegExp(`^hsl\\(${af},${Yr},${Yr}\\)$`),ule=new RegExp(`^hsla\\(${af},${Yr},${Yr},${af}\\)$`),LP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Px(ih,sf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:VP,formatHex:VP,formatHex8:cle,formatHsl:fle,formatRgb:FP,toString:FP});function VP(){return this.rgb().formatHex()}function cle(){return this.rgb().formatHex8()}function fle(){return q$(this).formatHsl()}function FP(){return this.rgb().formatRgb()}function sf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=rle.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?BP(e):n===3?new wn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ed(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ed(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ile.exec(t))?new wn(e[1],e[2],e[3],1):(e=ole.exec(t))?new wn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ale.exec(t))?ed(e[1],e[2],e[3],e[4]):(e=sle.exec(t))?ed(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=lle.exec(t))?HP(e[1],e[2]/100,e[3]/100,1):(e=ule.exec(t))?HP(e[1],e[2]/100,e[3]/100,e[4]):LP.hasOwnProperty(t)?BP(LP[t]):t==="transparent"?new wn(NaN,NaN,NaN,0):null}function BP(t){return new wn(t>>16&255,t>>8&255,t&255,1)}function ed(t,e,n,r){return r<=0&&(t=e=n=NaN),new wn(t,e,n,r)}function hle(t){return t instanceof ih||(t=sf(t)),t?(t=t.rgb(),new wn(t.r,t.g,t.b,t.opacity)):new wn}function K_(t,e,n,r){return arguments.length===1?hle(t):new wn(t,e,n,r??1)}function wn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Px(wn,K_,W$(ih,{brighter(t){return t=t==null?Gp:Math.pow(Gp,t),new wn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?of:Math.pow(of,t),new wn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new wn(_a(this.r),_a(this.g),_a(this.b),Kp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:UP,formatHex:UP,formatHex8:dle,formatRgb:zP,toString:zP}));function UP(){return`#${da(this.r)}${da(this.g)}${da(this.b)}`}function dle(){return`#${da(this.r)}${da(this.g)}${da(this.b)}${da((isNaN(this.opacity)?1:this.opacity)*255)}`}function zP(){const t=Kp(this.opacity);return`${t===1?"rgb(":"rgba("}${_a(this.r)}, ${_a(this.g)}, ${_a(this.b)}${t===1?")":`, ${t})`}`}function Kp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _a(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function da(t){return t=_a(t),(t<16?"0":"")+t.toString(16)}function HP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new gr(t,e,n,r)}function q$(t){if(t instanceof gr)return new gr(t.h,t.s,t.l,t.opacity);if(t instanceof ih||(t=sf(t)),!t)return new gr;if(t instanceof gr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new gr(a,s,l,t.opacity)}function ple(t,e,n,r){return arguments.length===1?q$(t):new gr(t,e,n,r??1)}function gr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Px(gr,ple,W$(ih,{brighter(t){return t=t==null?Gp:Math.pow(Gp,t),new gr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?of:Math.pow(of,t),new gr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new wn(Ov(t>=240?t-240:t+120,i,r),Ov(t,i,r),Ov(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new gr(WP(this.h),td(this.s),td(this.l),Kp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Kp(this.opacity);return`${t===1?"hsl(":"hsla("}${WP(this.h)}, ${td(this.s)*100}%, ${td(this.l)*100}%${t===1?")":`, ${t})`}`}}));function WP(t){return t=(t||0)%360,t<0?t+360:t}function td(t){return Math.max(0,Math.min(1,t||0))}function Ov(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Cx=t=>()=>t;function mle(t,e){return function(n){return t+n*e}}function gle(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function yle(t){return(t=+t)==1?G$:function(e,n){return n-e?gle(e,n,t):Cx(isNaN(e)?n:e)}}function G$(t,e){var n=e-t;return n?mle(t,n):Cx(isNaN(t)?e:t)}const qP=function t(e){var n=yle(e);function r(i,o){var a=n((i=K_(i)).r,(o=K_(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=G$(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function vle(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function _le(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function wle(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Jl(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function ble(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Yp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function xle(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Jl(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Y_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,kv=new RegExp(Y_.source,"g");function Ele(t){return function(){return t}}function Sle(t){return function(e){return t(e)+""}}function Tle(t,e){var n=Y_.lastIndex=kv.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=Y_.exec(t))&&(i=kv.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Yp(r,i)})),n=kv.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Sle(l[0].x):Ele(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Jl(t,e){var n=typeof e,r;return e==null||n==="boolean"?Cx(e):(n==="number"?Yp:n==="string"?(r=sf(e))?(e=r,qP):Tle:e instanceof sf?qP:e instanceof Date?ble:_le(e)?vle:Array.isArray(e)?wle:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?xle:Yp)(t,e)}function Ox(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Ale(t,e){e===void 0&&(e=t,t=Jl);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Ile(t){return function(){return t}}function Xp(t){return+t}var GP=[0,1];function un(t){return t}function X_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Ile(isNaN(e)?NaN:.5)}function Ple(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Cle(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=X_(i,r),o=n(a,o)):(r=X_(r,i),o=n(o,a)),function(s){return o(r(s))}}function Ole(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=X_(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=rh(t,s,1,r)-1;return o[l](i[l](s))}}function oh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Bg(){var t=GP,e=GP,n=Jl,r,i,o,a=un,s,l,u;function c(){var d=Math.min(t.length,e.length);return a!==un&&(a=Ple(t[0],t[d-1])),s=d>2?Ole:Cle,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=s(t.map(r),e,n)))(r(a(d)))}return f.invert=function(d){return a(i((u||(u=s(e,t.map(r),Yp)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,Xp),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=Ox,c()},f.clamp=function(d){return arguments.length?(a=d?!0:un,c()):a!==un},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,p){return r=d,i=p,c()}}function kx(){return Bg()(un,un)}function kle(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Qp(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function hl(t){return t=Qp(Math.abs(t)),t?t[1]:NaN}function Rle(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Nle(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Mle=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lf(t){if(!(e=Mle.exec(t)))throw new Error("invalid format: "+t);var e;return new Rx({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}lf.prototype=Rx.prototype;function Rx(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Rx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jle(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Jp;function Dle(t,e){var n=Qp(t,e);if(!n)return Jp=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(Jp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Qp(t,Math.max(0,e+o-1))[0]}function KP(t,e){var n=Qp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const YP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:kle,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>KP(t*100,e),r:KP,s:Dle,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function XP(t){return t}var QP=Array.prototype.map,JP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $le(t){var e=t.grouping===void 0||t.thousands===void 0?XP:Rle(QP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?XP:Nle(QP.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f,d){f=lf(f);var p=f.fill,m=f.align,g=f.sign,b=f.symbol,y=f.zero,v=f.width,x=f.comma,O=f.precision,S=f.trim,A=f.type;A==="n"?(x=!0,A="g"):YP[A]||(O===void 0&&(O=12),S=!0,A="g"),(y||p==="0"&&m==="=")&&(y=!0,p="0",m="=");var E=(d&&d.prefix!==void 0?d.prefix:"")+(b==="$"?n:b==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():""),T=(b==="$"?r:/[%p]/.test(A)?a:"")+(d&&d.suffix!==void 0?d.suffix:""),P=YP[A],N=/[defgprs%]/.test(A);O=O===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function R(C){var k=E,$=T,L,U,F;if(A==="c")$=P(C)+$,C="";else{C=+C;var D=C<0||1/C<0;if(C=isNaN(C)?l:P(Math.abs(C),O),S&&(C=jle(C)),D&&+C==0&&g!=="+"&&(D=!1),k=(D?g==="("?g:s:g==="-"||g==="("?"":g)+k,$=(A==="s"&&!isNaN(C)&&Jp!==void 0?JP[8+Jp/3]:"")+$+(D&&g==="("?")":""),N){for(L=-1,U=C.length;++L<U;)if(F=C.charCodeAt(L),48>F||F>57){$=(F===46?i+C.slice(L+1):C.slice(L))+$,C=C.slice(0,L);break}}}x&&!y&&(C=e(C,1/0));var B=k.length+C.length+$.length,W=B<v?new Array(v-B+1).join(p):"";switch(x&&y&&(C=e(W+C,W.length?v-$.length:1/0),W=""),m){case"<":C=k+C+$+W;break;case"=":C=k+W+C+$;break;case"^":C=W.slice(0,B=W.length>>1)+k+C+$+W.slice(B);break;default:C=W+k+C+$;break}return o(C)}return R.toString=function(){return f+""},R}function c(f,d){var p=Math.max(-8,Math.min(8,Math.floor(hl(d)/3)))*3,m=Math.pow(10,-p),g=u((f=lf(f),f.type="f",f),{suffix:JP[8+p/3]});return function(b){return g(m*b)}}return{format:u,formatPrefix:c}}var nd,Nx,K$;Lle({thousands:",",grouping:[3],currency:["$",""]});function Lle(t){return nd=$le(t),Nx=nd.format,K$=nd.formatPrefix,nd}function Vle(t){return Math.max(0,-hl(Math.abs(t)))}function Fle(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hl(e)/3)))*3-hl(Math.abs(t)))}function Ble(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,hl(e)-hl(t))+1}function Y$(t,e,n,r){var i=q_(t,e,n),o;switch(r=lf(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Fle(i,a))&&(r.precision=o),K$(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Ble(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Vle(i))&&(r.precision=o-(r.type==="%")*2);break}}return Nx(r)}function Ho(t){var e=t.domain;return t.ticks=function(n){var r=e();return H_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Y$(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=W_(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Zp(){var t=kx();return t.copy=function(){return oh(t,Zp())},sr.apply(t,arguments),Ho(t)}function X$(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Xp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return X$(t).unknown(e)},t=arguments.length?Array.from(t,Xp):[0,1],Ho(n)}function Q$(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function ZP(t){return Math.log(t)}function eC(t){return Math.exp(t)}function Ule(t){return-Math.log(-t)}function zle(t){return-Math.exp(-t)}function Hle(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Wle(t){return t===10?Hle:t===Math.E?Math.exp:e=>Math.pow(t,e)}function qle(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function tC(t){return(e,n)=>-t(-e,n)}function Mx(t){const e=t(ZP,eC),n=e.domain;let r=10,i,o;function a(){return i=qle(r),o=Wle(r),n()[0]<0?(i=tC(i),o=tC(o),t(Ule,zle)):t(ZP,eC),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let d=i(u),p=i(c),m,g;const b=s==null?10:+s;let y=[];if(!(r%1)&&p-d<b){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(m=1;m<r;++m)if(g=d<0?m/o(-d):m*o(d),!(g<u)){if(g>c)break;y.push(g)}}else for(;d<=p;++d)for(m=r-1;m>=1;--m)if(g=d>0?m/o(-d):m*o(d),!(g<u)){if(g>c)break;y.push(g)}y.length*2<b&&(y=H_(u,c,b))}else y=H_(d,p,Math.min(p-d,b)).map(o);return f?y.reverse():y},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=lf(l)).precision==null&&(l.trim=!0),l=Nx(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(Q$(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function J$(){const t=Mx(Bg()).domain([1,10]);return t.copy=()=>oh(t,J$()).base(t.base()),sr.apply(t,arguments),t}function nC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function rC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function jx(t){var e=1,n=t(nC(e),rC(e));return n.constant=function(r){return arguments.length?t(nC(e=+r),rC(e)):e},Ho(n)}function Z$(){var t=jx(Bg());return t.copy=function(){return oh(t,Z$()).constant(t.constant())},sr.apply(t,arguments)}function iC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Gle(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Kle(t){return t<0?-t*t:t*t}function Dx(t){var e=t(un,un),n=1;function r(){return n===1?t(un,un):n===.5?t(Gle,Kle):t(iC(n),iC(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ho(e)}function $x(){var t=Dx(Bg());return t.copy=function(){return oh(t,$x()).exponent(t.exponent())},sr.apply(t,arguments),t}function Yle(){return $x.apply(null,arguments).exponent(.5)}function oC(t){return Math.sign(t)*t*t}function Xle(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function eL(){var t=kx(),e=[0,1],n=!1,r;function i(o){var a=Xle(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(oC(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Xp)).map(oC)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return eL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},sr.apply(i,arguments),Ho(i)}function tL(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=tle(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[rh(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(bo),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return tL().domain(t).range(e).unknown(r)},sr.apply(o,arguments)}function nL(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[rh(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return nL().domain([t,e]).range(i).unknown(o)},sr.apply(Ho(a),arguments)}function rL(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[rh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return rL().domain(t).range(e).unknown(n)},sr.apply(i,arguments)}const Rv=new Date,Nv=new Date;function Ct(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>Ct(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(Rv.setTime(+o),Nv.setTime(+a),t(Rv),t(Nv),Math.floor(n(Rv,Nv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const em=Ct(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);em.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ct(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):em);em.range;const ci=1e3,Qn=ci*60,fi=Qn*60,Oi=fi*24,Lx=Oi*7,aC=Oi*30,Mv=Oi*365,pa=Ct(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ci)},(t,e)=>(e-t)/ci,t=>t.getUTCSeconds());pa.range;const Vx=Ct(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ci)},(t,e)=>{t.setTime(+t+e*Qn)},(t,e)=>(e-t)/Qn,t=>t.getMinutes());Vx.range;const Fx=Ct(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Qn)},(t,e)=>(e-t)/Qn,t=>t.getUTCMinutes());Fx.range;const Bx=Ct(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ci-t.getMinutes()*Qn)},(t,e)=>{t.setTime(+t+e*fi)},(t,e)=>(e-t)/fi,t=>t.getHours());Bx.range;const Ux=Ct(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*fi)},(t,e)=>(e-t)/fi,t=>t.getUTCHours());Ux.range;const ah=Ct(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Qn)/Oi,t=>t.getDate()-1);ah.range;const Ug=Ct(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oi,t=>t.getUTCDate()-1);Ug.range;const iL=Ct(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oi,t=>Math.floor(t/Oi));iL.range;function Ya(t){return Ct(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Qn)/Lx)}const zg=Ya(0),tm=Ya(1),Qle=Ya(2),Jle=Ya(3),dl=Ya(4),Zle=Ya(5),eue=Ya(6);zg.range;tm.range;Qle.range;Jle.range;dl.range;Zle.range;eue.range;function Xa(t){return Ct(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Lx)}const Hg=Xa(0),nm=Xa(1),tue=Xa(2),nue=Xa(3),pl=Xa(4),rue=Xa(5),iue=Xa(6);Hg.range;nm.range;tue.range;nue.range;pl.range;rue.range;iue.range;const zx=Ct(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());zx.range;const Hx=Ct(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Hx.range;const ki=Ct(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ki.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ct(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ki.range;const Ri=Ct(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ri.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ct(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ri.range;function oL(t,e,n,r,i,o){const a=[[pa,1,ci],[pa,5,5*ci],[pa,15,15*ci],[pa,30,30*ci],[o,1,Qn],[o,5,5*Qn],[o,15,15*Qn],[o,30,30*Qn],[i,1,fi],[i,3,3*fi],[i,6,6*fi],[i,12,12*fi],[r,1,Oi],[r,2,2*Oi],[n,1,Lx],[e,1,aC],[e,3,3*aC],[t,1,Mv]];function s(u,c,f){const d=c<u;d&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),m=p?p.range(u,+c+1):[];return d?m.reverse():m}function l(u,c,f){const d=Math.abs(c-u)/f,p=Ax(([,,b])=>b).right(a,d);if(p===a.length)return t.every(q_(u/Mv,c/Mv,f));if(p===0)return em.every(Math.max(q_(u,c,f),1));const[m,g]=a[d/a[p-1][2]<a[p][2]/d?p-1:p];return m.every(g)}return[s,l]}const[oue,aue]=oL(Ri,Hx,Hg,iL,Ux,Fx),[sue,lue]=oL(ki,zx,zg,ah,Bx,Vx);function jv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Dv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Mu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function uue(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=ju(i),c=Du(i),f=ju(o),d=Du(o),p=ju(a),m=Du(a),g=ju(s),b=Du(s),y=ju(l),v=Du(l),x={a:F,A:D,b:B,B:W,c:null,d:hC,e:hC,f:Rue,g:Uue,G:Hue,H:Cue,I:Oue,j:kue,L:aL,m:Nue,M:Mue,p:Q,q:X,Q:mC,s:gC,S:jue,u:Due,U:$ue,V:Lue,w:Vue,W:Fue,x:null,X:null,y:Bue,Y:zue,Z:Wue,"%":pC},O={a:re,A:ye,b:Ne,B:Be,c:null,d:dC,e:dC,f:Yue,g:oce,G:sce,H:que,I:Gue,j:Kue,L:lL,m:Xue,M:Que,p:Gt,q:Ot,Q:mC,s:gC,S:Jue,u:Zue,U:ece,V:tce,w:nce,W:rce,x:null,X:null,y:ice,Y:ace,Z:lce,"%":pC},S={a:N,A:R,b:C,B:k,c:$,d:cC,e:cC,f:Tue,g:uC,G:lC,H:fC,I:fC,j:bue,L:Sue,m:wue,M:xue,p:P,q:_ue,Q:Iue,s:Pue,S:Eue,u:pue,U:mue,V:gue,w:due,W:yue,x:L,X:U,y:uC,Y:lC,Z:vue,"%":Aue};x.x=A(n,x),x.X=A(r,x),x.c=A(e,x),O.x=A(n,O),O.X=A(r,O),O.c=A(e,O);function A(ne,he){return function(pe){var Y=[],Ue=-1,ve=0,it=ne.length,ut,kt,Fn;for(pe instanceof Date||(pe=new Date(+pe));++Ue<it;)ne.charCodeAt(Ue)===37&&(Y.push(ne.slice(ve,Ue)),(kt=sC[ut=ne.charAt(++Ue)])!=null?ut=ne.charAt(++Ue):kt=ut==="e"?" ":"0",(Fn=he[ut])&&(ut=Fn(pe,kt)),Y.push(ut),ve=Ue+1);return Y.push(ne.slice(ve,Ue)),Y.join("")}}function E(ne,he){return function(pe){var Y=Mu(1900,void 0,1),Ue=T(Y,ne,pe+="",0),ve,it;if(Ue!=pe.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(he&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(ve=Dv(Mu(Y.y,0,1)),it=ve.getUTCDay(),ve=it>4||it===0?nm.ceil(ve):nm(ve),ve=Ug.offset(ve,(Y.V-1)*7),Y.y=ve.getUTCFullYear(),Y.m=ve.getUTCMonth(),Y.d=ve.getUTCDate()+(Y.w+6)%7):(ve=jv(Mu(Y.y,0,1)),it=ve.getDay(),ve=it>4||it===0?tm.ceil(ve):tm(ve),ve=ah.offset(ve,(Y.V-1)*7),Y.y=ve.getFullYear(),Y.m=ve.getMonth(),Y.d=ve.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),it="Z"in Y?Dv(Mu(Y.y,0,1)).getUTCDay():jv(Mu(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(it+5)%7:Y.w+Y.U*7-(it+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,Dv(Y)):jv(Y)}}function T(ne,he,pe,Y){for(var Ue=0,ve=he.length,it=pe.length,ut,kt;Ue<ve;){if(Y>=it)return-1;if(ut=he.charCodeAt(Ue++),ut===37){if(ut=he.charAt(Ue++),kt=S[ut in sC?he.charAt(Ue++):ut],!kt||(Y=kt(ne,pe,Y))<0)return-1}else if(ut!=pe.charCodeAt(Y++))return-1}return Y}function P(ne,he,pe){var Y=u.exec(he.slice(pe));return Y?(ne.p=c.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function N(ne,he,pe){var Y=p.exec(he.slice(pe));return Y?(ne.w=m.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function R(ne,he,pe){var Y=f.exec(he.slice(pe));return Y?(ne.w=d.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function C(ne,he,pe){var Y=y.exec(he.slice(pe));return Y?(ne.m=v.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function k(ne,he,pe){var Y=g.exec(he.slice(pe));return Y?(ne.m=b.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function $(ne,he,pe){return T(ne,e,he,pe)}function L(ne,he,pe){return T(ne,n,he,pe)}function U(ne,he,pe){return T(ne,r,he,pe)}function F(ne){return a[ne.getDay()]}function D(ne){return o[ne.getDay()]}function B(ne){return l[ne.getMonth()]}function W(ne){return s[ne.getMonth()]}function Q(ne){return i[+(ne.getHours()>=12)]}function X(ne){return 1+~~(ne.getMonth()/3)}function re(ne){return a[ne.getUTCDay()]}function ye(ne){return o[ne.getUTCDay()]}function Ne(ne){return l[ne.getUTCMonth()]}function Be(ne){return s[ne.getUTCMonth()]}function Gt(ne){return i[+(ne.getUTCHours()>=12)]}function Ot(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var he=A(ne+="",x);return he.toString=function(){return ne},he},parse:function(ne){var he=E(ne+="",!1);return he.toString=function(){return ne},he},utcFormat:function(ne){var he=A(ne+="",O);return he.toString=function(){return ne},he},utcParse:function(ne){var he=E(ne+="",!0);return he.toString=function(){return ne},he}}}var sC={"-":"",_:" ",0:"0"},Lt=/^\s*\d+/,cue=/^%/,fue=/[\\^$*+?|[\]().{}]/g;function Pe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function hue(t){return t.replace(fue,"\\$&")}function ju(t){return new RegExp("^(?:"+t.map(hue).join("|")+")","i")}function Du(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function due(t,e,n){var r=Lt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function pue(t,e,n){var r=Lt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function mue(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function gue(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function yue(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function lC(t,e,n){var r=Lt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function uC(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function vue(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _ue(t,e,n){var r=Lt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function wue(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function cC(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function bue(t,e,n){var r=Lt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function fC(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function xue(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Eue(t,e,n){var r=Lt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Sue(t,e,n){var r=Lt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Tue(t,e,n){var r=Lt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Aue(t,e,n){var r=cue.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Iue(t,e,n){var r=Lt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Pue(t,e,n){var r=Lt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function hC(t,e){return Pe(t.getDate(),e,2)}function Cue(t,e){return Pe(t.getHours(),e,2)}function Oue(t,e){return Pe(t.getHours()%12||12,e,2)}function kue(t,e){return Pe(1+ah.count(ki(t),t),e,3)}function aL(t,e){return Pe(t.getMilliseconds(),e,3)}function Rue(t,e){return aL(t,e)+"000"}function Nue(t,e){return Pe(t.getMonth()+1,e,2)}function Mue(t,e){return Pe(t.getMinutes(),e,2)}function jue(t,e){return Pe(t.getSeconds(),e,2)}function Due(t){var e=t.getDay();return e===0?7:e}function $ue(t,e){return Pe(zg.count(ki(t)-1,t),e,2)}function sL(t){var e=t.getDay();return e>=4||e===0?dl(t):dl.ceil(t)}function Lue(t,e){return t=sL(t),Pe(dl.count(ki(t),t)+(ki(t).getDay()===4),e,2)}function Vue(t){return t.getDay()}function Fue(t,e){return Pe(tm.count(ki(t)-1,t),e,2)}function Bue(t,e){return Pe(t.getFullYear()%100,e,2)}function Uue(t,e){return t=sL(t),Pe(t.getFullYear()%100,e,2)}function zue(t,e){return Pe(t.getFullYear()%1e4,e,4)}function Hue(t,e){var n=t.getDay();return t=n>=4||n===0?dl(t):dl.ceil(t),Pe(t.getFullYear()%1e4,e,4)}function Wue(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Pe(e/60|0,"0",2)+Pe(e%60,"0",2)}function dC(t,e){return Pe(t.getUTCDate(),e,2)}function que(t,e){return Pe(t.getUTCHours(),e,2)}function Gue(t,e){return Pe(t.getUTCHours()%12||12,e,2)}function Kue(t,e){return Pe(1+Ug.count(Ri(t),t),e,3)}function lL(t,e){return Pe(t.getUTCMilliseconds(),e,3)}function Yue(t,e){return lL(t,e)+"000"}function Xue(t,e){return Pe(t.getUTCMonth()+1,e,2)}function Que(t,e){return Pe(t.getUTCMinutes(),e,2)}function Jue(t,e){return Pe(t.getUTCSeconds(),e,2)}function Zue(t){var e=t.getUTCDay();return e===0?7:e}function ece(t,e){return Pe(Hg.count(Ri(t)-1,t),e,2)}function uL(t){var e=t.getUTCDay();return e>=4||e===0?pl(t):pl.ceil(t)}function tce(t,e){return t=uL(t),Pe(pl.count(Ri(t),t)+(Ri(t).getUTCDay()===4),e,2)}function nce(t){return t.getUTCDay()}function rce(t,e){return Pe(nm.count(Ri(t)-1,t),e,2)}function ice(t,e){return Pe(t.getUTCFullYear()%100,e,2)}function oce(t,e){return t=uL(t),Pe(t.getUTCFullYear()%100,e,2)}function ace(t,e){return Pe(t.getUTCFullYear()%1e4,e,4)}function sce(t,e){var n=t.getUTCDay();return t=n>=4||n===0?pl(t):pl.ceil(t),Pe(t.getUTCFullYear()%1e4,e,4)}function lce(){return"+0000"}function pC(){return"%"}function mC(t){return+t}function gC(t){return Math.floor(+t/1e3)}var is,cL,fL;uce({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function uce(t){return is=uue(t),cL=is.format,is.parse,fL=is.utcFormat,is.utcParse,is}function cce(t){return new Date(t)}function fce(t){return t instanceof Date?+t:+new Date(+t)}function Wx(t,e,n,r,i,o,a,s,l,u){var c=kx(),f=c.invert,d=c.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),b=u("%I %p"),y=u("%a %d"),v=u("%b %d"),x=u("%B"),O=u("%Y");function S(A){return(l(A)<A?p:s(A)<A?m:a(A)<A?g:o(A)<A?b:r(A)<A?i(A)<A?y:v:n(A)<A?x:O)(A)}return c.invert=function(A){return new Date(f(A))},c.domain=function(A){return arguments.length?d(Array.from(A,fce)):d().map(cce)},c.ticks=function(A){var E=d();return t(E[0],E[E.length-1],A??10)},c.tickFormat=function(A,E){return E==null?S:u(E)},c.nice=function(A){var E=d();return(!A||typeof A.range!="function")&&(A=e(E[0],E[E.length-1],A??10)),A?d(Q$(E,A)):c},c.copy=function(){return oh(c,Wx(t,e,n,r,i,o,a,s,l,u))},c}function hce(){return sr.apply(Wx(sue,lue,ki,zx,zg,ah,Bx,Vx,pa,cL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dce(){return sr.apply(Wx(oue,aue,Ri,Hx,Hg,Ug,Ux,Fx,pa,fL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Wg(){var t=0,e=1,n,r,i,o,a=un,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(d){var p,m;return arguments.length?([p,m]=d,a=f(p,m),u):[a(0),a(1)]}}return u.range=c(Jl),u.rangeRound=c(Ox),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Wo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function hL(){var t=Ho(Wg()(un));return t.copy=function(){return Wo(t,hL())},$i.apply(t,arguments)}function dL(){var t=Mx(Wg()).domain([1,10]);return t.copy=function(){return Wo(t,dL()).base(t.base())},$i.apply(t,arguments)}function pL(){var t=jx(Wg());return t.copy=function(){return Wo(t,pL()).constant(t.constant())},$i.apply(t,arguments)}function qx(){var t=Dx(Wg());return t.copy=function(){return Wo(t,qx()).exponent(t.exponent())},$i.apply(t,arguments)}function pce(){return qx.apply(null,arguments).exponent(.5)}function mL(){var t=[],e=un;function n(r){if(r!=null&&!isNaN(r=+r))return e((rh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(bo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>ele(t,o/r))},n.copy=function(){return mL(e).domain(t)},$i.apply(n,arguments)}function qg(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=un,c,f=!1,d;function p(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(r*g<r*o?s:l),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(b){var y,v,x;return arguments.length?([y,v,x]=b,u=Ale(g,[y,v,x]),p):[u(0),u(.5),u(1)]}}return p.range=m(Jl),p.rangeRound=m(Ox),p.unknown=function(g){return arguments.length?(d=g,p):d},function(g){return c=g,i=g(t),o=g(e),a=g(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function gL(){var t=Ho(qg()(un));return t.copy=function(){return Wo(t,gL())},$i.apply(t,arguments)}function yL(){var t=Mx(qg()).domain([.1,1,10]);return t.copy=function(){return Wo(t,yL()).base(t.base())},$i.apply(t,arguments)}function vL(){var t=jx(qg());return t.copy=function(){return Wo(t,vL()).constant(t.constant())},$i.apply(t,arguments)}function Gx(){var t=Dx(qg());return t.copy=function(){return Wo(t,Gx()).exponent(t.exponent())},$i.apply(t,arguments)}function mce(){return Gx.apply(null,arguments).exponent(.5)}const yC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rf,scaleDiverging:gL,scaleDivergingLog:yL,scaleDivergingPow:Gx,scaleDivergingSqrt:mce,scaleDivergingSymlog:vL,scaleIdentity:X$,scaleImplicit:G_,scaleLinear:Zp,scaleLog:J$,scaleOrdinal:Ix,scalePoint:yc,scalePow:$x,scaleQuantile:tL,scaleQuantize:nL,scaleRadial:eL,scaleSequential:hL,scaleSequentialLog:dL,scaleSequentialPow:qx,scaleSequentialQuantile:mL,scaleSequentialSqrt:pce,scaleSequentialSymlog:pL,scaleSqrt:Yle,scaleSymlog:Z$,scaleThreshold:rL,scaleTime:hce,scaleUtc:dce,tickFormat:Y$},Symbol.toStringTag,{value:"Module"}));var gce=Hl;function yce(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!gce(a):n(a,s)))var s=a,l=o}return l}var _L=yce;function vce(t,e){return t>e}var _ce=vce,wce=_L,bce=_ce,xce=Ql;function Ece(t){return t&&t.length?wce(t,xce,bce):void 0}var Sce=Ece;const Gg=$e(Sce);function Tce(t,e){return t<e}var Ace=Tce,Ice=_L,Pce=Ace,Cce=Ql;function Oce(t){return t&&t.length?Ice(t,Cce,Pce):void 0}var kce=Oce;const Kg=$e(kce);var Rce=sx,Nce=zo,Mce=P$,jce=Sn;function Dce(t,e){var n=jce(t)?Rce:Mce;return n(t,Nce(e))}var $ce=Dce,Lce=A$,Vce=$ce;function Fce(t,e){return Lce(Vce(t,e),1)}var Bce=Fce;const Uce=$e(Bce);var zce=xx;function Hce(t,e){return zce(t,e)}var Wce=Hce;const Yg=$e(Wce);var Zl=1e9,qce={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Yx,Xe=!0,or="[DecimalError] ",wa=or+"Invalid argument: ",Kx=or+"Exponent out of range: ",eu=Math.floor,ia=Math.pow,Gce=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,On,jt=1e7,qe=7,wL=9007199254740991,rm=eu(wL/qe),ae={};ae.absoluteValue=ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ae.comparedTo=ae.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*qe;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ae.dividedBy=ae.div=function(t){return wi(this,new this.constructor(t))};ae.dividedToIntegerBy=ae.idiv=function(t){var e=this,n=e.constructor;return De(wi(e,new n(t),0,1),n.precision)};ae.equals=ae.eq=function(t){return!this.cmp(t)};ae.exponent=function(){return bt(this)};ae.greaterThan=ae.gt=function(t){return this.cmp(t)>0};ae.greaterThanOrEqualTo=ae.gte=function(t){return this.cmp(t)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(t){return this.cmp(t)<0};ae.lessThanOrEqualTo=ae.lte=function(t){return this.cmp(t)<1};ae.logarithm=ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(On))throw Error(or+"NaN");if(n.s<1)throw Error(or+(n.s?"NaN":"-Infinity"));return n.eq(On)?new r(0):(Xe=!1,e=wi(uf(n,o),uf(t,o),o),Xe=!0,De(e,i))};ae.minus=ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?EL(e,t):bL(e,(t.s=-t.s,t))};ae.modulo=ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(or+"NaN");return n.s?(Xe=!1,e=wi(n,t,0,1).times(t),Xe=!0,n.minus(e)):De(new r(n),i)};ae.naturalExponential=ae.exp=function(){return xL(this)};ae.naturalLogarithm=ae.ln=function(){return uf(this)};ae.negated=ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ae.plus=ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?bL(e,t):EL(e,(t.s=-t.s,t))};ae.precision=ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(wa+t);if(e=bt(i)+1,r=i.d.length-1,n=r*qe+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ae.squareRoot=ae.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(or+"NaN")}for(t=bt(s),Xe=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Vr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=eu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(wi(s,o,a+2)).times(.5),Vr(o.d).slice(0,a)===(e=Vr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(De(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Xe=!0,De(r,n)};ae.times=ae.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,f=c.constructor,d=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=p.length,l<u&&(o=d,d=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*d[i-r-1]+e,o[i--]=s%jt|0,e=s/jt|0;o[i]=(o[i]+e)%jt|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Xe?De(t,f.precision):t};ae.toDecimalPlaces=ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Zr(t,0,Zl),e===void 0?e=r.rounding:Zr(e,0,8),De(n,t+bt(n)+1,e))};ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Da(r,!0):(Zr(t,0,Zl),e===void 0?e=i.rounding:Zr(e,0,8),r=De(new i(r),t+1,e),n=Da(r,!0,t+1)),n};ae.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Da(i):(Zr(t,0,Zl),e===void 0?e=o.rounding:Zr(e,0,8),r=De(new o(i),t+bt(i)+1,e),n=Da(r.abs(),!1,t+bt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ae.toInteger=ae.toint=function(){var t=this,e=t.constructor;return De(new e(t),bt(t)+1,e.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(On);if(s=new l(s),!s.s){if(t.s<1)throw Error(or+"Infinity");return s}if(s.eq(On))return s;if(r=l.precision,t.eq(On))return De(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=wL){for(i=new l(On),e=Math.ceil(r/qe+4),Xe=!1;n%2&&(i=i.times(s),_C(i.d,e)),n=eu(n/2),n!==0;)s=s.times(s),_C(s.d,e);return Xe=!0,t.s<0?new l(On).div(i):De(i,r)}}else if(o<0)throw Error(or+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Xe=!1,i=t.times(uf(s,r+u)),Xe=!0,i=xL(i),i.s=o,i};ae.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=bt(i),r=Da(i,n<=o.toExpNeg||n>=o.toExpPos)):(Zr(t,1,Zl),e===void 0?e=o.rounding:Zr(e,0,8),i=De(new o(i),t,e),n=bt(i),r=Da(i,t<=n||n<=o.toExpNeg,t)),r};ae.toSignificantDigits=ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Zr(t,1,Zl),e===void 0?e=r.rounding:Zr(e,0,8)),De(new r(n),t,e)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=bt(t),n=t.constructor;return Da(t,e<=n.toExpNeg||e>=n.toExpPos)};function bL(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Xe?De(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/qe),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/jt|0,l[o]%=jt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Xe?De(e,f):e}function Zr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(wa+t)}function Vr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=qe-r.length,n&&(o+=Yi(n)),o+=r;a=t[e],r=a+"",n=qe-r.length,n&&(o+=Yi(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var wi=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%jt|0,a=o/jt|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*jt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,f,d,p,m,g,b,y,v,x,O,S,A,E,T,P=r.constructor,N=r.s==i.s?1:-1,R=r.d,C=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(or+"Division by zero");for(l=r.e-i.e,E=C.length,S=R.length,p=new P(N),m=p.d=[],u=0;C[u]==(R[u]||0);)++u;if(C[u]>(R[u]||0)&&--l,o==null?v=o=P.precision:a?v=o+(bt(r)-bt(i))+1:v=o,v<0)return new P(0);if(v=v/qe+2|0,u=0,E==1)for(c=0,C=C[0],v++;(u<S||c)&&v--;u++)x=c*jt+(R[u]||0),m[u]=x/C|0,c=x%C|0;else{for(c=jt/(C[0]+1)|0,c>1&&(C=t(C,c),R=t(R,c),E=C.length,S=R.length),O=E,g=R.slice(0,E),b=g.length;b<E;)g[b++]=0;T=C.slice(),T.unshift(0),A=C[0],C[1]>=jt/2&&++A;do c=0,s=e(C,g,E,b),s<0?(y=g[0],E!=b&&(y=y*jt+(g[1]||0)),c=y/A|0,c>1?(c>=jt&&(c=jt-1),f=t(C,c),d=f.length,b=g.length,s=e(f,g,d,b),s==1&&(c--,n(f,E<d?T:C,d))):(c==0&&(s=c=1),f=C.slice()),d=f.length,d<b&&f.unshift(0),n(g,f,b),s==-1&&(b=g.length,s=e(C,g,E,b),s<1&&(c++,n(g,E<b?T:C,b))),b=g.length):s===0&&(c++,g=[0]),m[u++]=c,s&&g[0]?g[b++]=R[O]||0:(g=[R[O]],b=1);while((O++<S||g[0]!==void 0)&&v--)}return m[0]||m.shift(),p.e=l,De(p,a?o+bt(p)+1:o)}}();function xL(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,f=c.precision;if(bt(t)>16)throw Error(Kx+bt(t));if(!t.s)return new c(On);for(e==null?(Xe=!1,s=f):s=e,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(ia(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(On),c.precision=s;;){if(i=De(i.times(t),s),n=n.times(++l),a=o.plus(wi(i,n,s)),Vr(a.d).slice(0,s)===Vr(o.d).slice(0,s)){for(;u--;)o=De(o.times(o),s);return c.precision=f,e==null?(Xe=!0,De(o,f)):o}o=a}}function bt(t){for(var e=t.e*qe,n=t.d[0];n>=10;n/=10)e++;return e}function $v(t,e,n){if(e>t.LN10.sd())throw Xe=!0,n&&(t.precision=n),Error(or+"LN10 precision limit exceeded");return De(new t(t.LN10),e)}function Yi(t){for(var e="";t--;)e+="0";return e}function uf(t,e){var n,r,i,o,a,s,l,u,c,f=1,d=10,p=t,m=p.d,g=p.constructor,b=g.precision;if(p.s<1)throw Error(or+(p.s?"NaN":"-Infinity"));if(p.eq(On))return new g(0);if(e==null?(Xe=!1,u=b):u=e,p.eq(10))return e==null&&(Xe=!0),$v(g,u);if(u+=d,g.precision=u,n=Vr(m),r=n.charAt(0),o=bt(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Vr(p.d),r=n.charAt(0),f++;o=bt(p),r>1?(p=new g("0."+n),o++):p=new g(r+"."+n.slice(1))}else return l=$v(g,u+2,b).times(o+""),p=uf(new g(r+"."+n.slice(1)),u-d).plus(l),g.precision=b,e==null?(Xe=!0,De(p,b)):p;for(s=a=p=wi(p.minus(On),p.plus(On),u),c=De(p.times(p),u),i=3;;){if(a=De(a.times(c),u),l=s.plus(wi(a,new g(i),u)),Vr(l.d).slice(0,u)===Vr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus($v(g,u+2,b).times(o+""))),s=wi(s,new g(f),u),g.precision=b,e==null?(Xe=!0,De(s,b)):s;s=l,i+=2}}function vC(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=eu(n/qe),t.d=[],r=(n+1)%qe,n<0&&(r+=qe),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=qe;r<i;)t.d.push(+e.slice(r,r+=qe));e=e.slice(r),r=qe-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Xe&&(t.e>rm||t.e<-rm))throw Error(Kx+n)}else t.s=0,t.e=0,t.d=[0];return t}function De(t,e,n){var r,i,o,a,s,l,u,c,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=qe,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/qe),o=f.length,c>=o)return t;for(u=o=f[c],a=1;o>=10;o/=10)a++;r%=qe,i=r-qe+a}if(n!==void 0&&(o=ia(10,a-i-1),s=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/ia(10,a-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=bt(t),f.length=1,e=e-o-1,f[0]=ia(10,(qe-e%qe)%qe),t.e=eu(-e/qe)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=ia(10,qe-r),f[c]=i>0?(u/ia(10,a-i)%ia(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==jt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=jt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(Xe&&(t.e>rm||t.e<-rm))throw Error(Kx+bt(t));return t}function EL(t,e){var n,r,i,o,a,s,l,u,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),Xe?De(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(p/qe),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}a=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=jt-1;--l[o],l[i]+=jt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Xe?De(e,p):e):new d(0)}function Da(t,e,n){var r,i=bt(t),o=Vr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Yi(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Yi(-i-1)+o,n&&(r=n-a)>0&&(o+=Yi(r))):i>=a?(o+=Yi(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Yi(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Yi(r))),t.s<0?"-"+o:o}function _C(t,e){if(t.length>e)return t.length=e,!0}function SL(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(wa+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return vC(a,o.toString())}else if(typeof o!="string")throw Error(wa+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Gce.test(o))vC(a,o);else throw Error(wa+o)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=SL,i.config=i.set=Kce,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Kce(t){if(!t||typeof t!="object")throw Error(or+"Object expected");var e,n,r,i=["precision",1,Zl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(eu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(wa+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(wa+n+": "+r);return this}var Yx=SL(qce);On=new Yx(1);const Me=Yx;function Yce(t){return Zce(t)||Jce(t)||Qce(t)||Xce()}function Xce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qce(t,e){if(t){if(typeof t=="string")return Q_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q_(t,e)}}function Jce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Zce(t){if(Array.isArray(t))return Q_(t)}function Q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var efe=function(e){return e},TL={"@@functional/placeholder":!0},AL=function(e){return e===TL},wC=function(e){return function n(){return arguments.length===0||arguments.length===1&&AL(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},tfe=function t(e,n){return e===1?n:wC(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==TL}).length;return a>=e?n.apply(void 0,i):t(e-a,wC(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return AL(f)?l.shift():f});return n.apply(void 0,Yce(c).concat(l))}))})},Xg=function(e){return tfe(e.length,e)},J_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},nfe=Xg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),rfe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return efe;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Z_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},IL=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function ife(t){var e;return t===0?e=1:e=Math.floor(new Me(t).abs().log(10).toNumber())+1,e}function ofe(t,e,n){for(var r=new Me(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var afe=Xg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),sfe=Xg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),lfe=Xg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Qg={rangeStep:ofe,getDigitCount:ife,interpolateNumber:afe,uninterpolateNumber:sfe,uninterpolateTruncation:lfe};function ew(t){return ffe(t)||cfe(t)||PL(t)||ufe()}function ufe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cfe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ffe(t){if(Array.isArray(t))return tw(t)}function cf(t,e){return pfe(t)||dfe(t,e)||PL(t,e)||hfe()}function hfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PL(t,e){if(t){if(typeof t=="string")return tw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tw(t,e)}}function tw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dfe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function pfe(t){if(Array.isArray(t))return t}function CL(t){var e=cf(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function OL(t,e,n){if(t.lte(0))return new Me(0);var r=Qg.getDigitCount(t.toNumber()),i=new Me(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new Me(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new Me(Math.ceil(l))}function mfe(t,e,n){var r=1,i=new Me(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Me(10).pow(Qg.getDigitCount(t)-1),i=new Me(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Me(Math.floor(t)))}else t===0?i=new Me(Math.floor((e-1)/2)):n||(i=new Me(Math.floor(t)));var a=Math.floor((e-1)/2),s=rfe(nfe(function(l){return i.add(new Me(l-a).mul(r)).toNumber()}),J_);return s(0,e)}function kL(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Me(0),tickMin:new Me(0),tickMax:new Me(0)};var o=OL(new Me(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Me(0):(a=new Me(t).add(e).div(2),a=a.sub(new Me(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new Me(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?kL(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Me(s).mul(o)),tickMax:a.add(new Me(l).mul(o))})}function gfe(t){var e=cf(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=CL([n,r]),l=cf(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(ew(J_(0,i-1).map(function(){return 1/0}))):[].concat(ew(J_(0,i-1).map(function(){return-1/0})),[c]);return n>r?Z_(f):f}if(u===c)return mfe(u,i,o);var d=kL(u,c,a,o),p=d.step,m=d.tickMin,g=d.tickMax,b=Qg.rangeStep(m,g.add(new Me(.1).mul(p)),p);return n>r?Z_(b):b}function yfe(t,e){var n=cf(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=CL([r,i]),s=cf(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=OL(new Me(u).sub(l).div(c-1),o,0),d=[].concat(ew(Qg.rangeStep(new Me(l),new Me(u).sub(new Me(.99).mul(f)),f)),[u]);return r>i?Z_(d):d}var vfe=IL(gfe),_fe=IL(yfe),wfe=!0,Lv="Invariant failed";function $a(t,e){if(!t){if(wfe)throw new Error(Lv);var n=typeof e=="function"?e():e,r=n?"".concat(Lv,": ").concat(n):Lv;throw new Error(r)}}var bfe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function im(){return im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},im.apply(this,arguments)}function xfe(t,e){return Afe(t)||Tfe(t,e)||Sfe(t,e)||Efe()}function Efe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sfe(t,e){if(t){if(typeof t=="string")return bC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bC(t,e)}}function bC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Afe(t){if(Array.isArray(t))return t}function Ife(t,e){if(t==null)return{};var n=Pfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ML(r.key),r)}}function Ofe(t,e,n){return e&&xC(t.prototype,e),n&&xC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kfe(t,e,n){return e=om(e),Rfe(t,RL()?Reflect.construct(e,n||[],om(t).constructor):e.apply(t,n))}function Rfe(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nfe(t)}function Nfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RL=function(){return!!t})()}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},om(t)}function Mfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nw(t,e)}function nw(t,e){return nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nw(t,e)}function NL(t,e,n){return e=ML(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ML(t){var e=jfe(t,"string");return ml(e)=="symbol"?e:e+""}function jfe(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sh=function(t){function e(){return Cfe(this,e),kfe(this,e,arguments)}return Mfe(e,t),Ofe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,d=Ife(r,bfe),p=Se(d,!1);this.props.direction==="x"&&c.type!=="number"&&$a(!1);var m=l.map(function(g){var b=u(g,s),y=b.x,v=b.y,x=b.value,O=b.errorVal;if(!O)return null;var S=[],A,E;if(Array.isArray(O)){var T=xfe(O,2);A=T[0],E=T[1]}else A=E=O;if(o==="vertical"){var P=c.scale,N=v+i,R=N+a,C=N-a,k=P(x-A),$=P(x+E);S.push({x1:$,y1:R,x2:$,y2:C}),S.push({x1:k,y1:N,x2:$,y2:N}),S.push({x1:k,y1:R,x2:k,y2:C})}else if(o==="horizontal"){var L=f.scale,U=y+i,F=U-a,D=U+a,B=L(x-A),W=L(x+E);S.push({x1:F,y1:W,x2:D,y2:W}),S.push({x1:U,y1:B,x2:U,y2:W}),S.push({x1:F,y1:B,x2:D,y2:B})}return V.createElement(pt,im({className:"recharts-errorBar",key:"bar-".concat(S.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},p),S.map(function(Q){return V.createElement("line",im({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return V.createElement(pt,{className:"recharts-errorBars"},m)}}])}(V.Component);NL(sh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});NL(sh,"displayName","ErrorBar");function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function EC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EC(Object(n),!0).forEach(function(r){Dfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dfe(t,e,n){return e=$fe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $fe(t){var e=Lfe(t,"string");return ff(e)=="symbol"?e:e+""}function Lfe(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jL=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Cn(n,zs);if(!a)return null;var s=zs.defaultProps,l=s!==void 0?Jo(Jo({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var d=f.item,p=f.props,m=p.sectors||p.data||[];return c.concat(m.map(function(g){return{type:a.props.iconType||d.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(c){var f=c.item,d=f.type.defaultProps,p=d!==void 0?Jo(Jo({},d),f.props):{},m=p.dataKey,g=p.name,b=p.legendType,y=p.hide;return{inactive:y,dataKey:m,type:l.iconType||b||"square",color:Xx(f),value:g||m,payload:p}}),Jo(Jo(Jo({},l),zs.getWithHeight(a,i)),{},{payload:u,item:a})};function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function SC(t){return Ufe(t)||Bfe(t)||Ffe(t)||Vfe()}function Vfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ffe(t,e){if(t){if(typeof t=="string")return rw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rw(t,e)}}function Bfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ufe(t){if(Array.isArray(t))return rw(t)}function rw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TC(Object(n),!0).forEach(function(r){Ws(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ws(t,e,n){return e=zfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zfe(t){var e=Hfe(t,"string");return hf(e)=="symbol"?e:e+""}function Hfe(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dn(t,e,n){return _e(t)||_e(e)?n:It(e)?tr(t,e,n):ge(e)?e(t):n}function vc(t,e,n,r){var i=Uce(t,function(s){return Dn(s,e)});if(n==="number"){var o=i.filter(function(s){return ee(s)||parseFloat(s)});return o.length?[Kg(o),Gg(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!_e(s)}):i;return a.map(function(s){return It(s)||s instanceof Date?s:""})}var Wfe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,d=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(vr(f-c)!==vr(d-f)){var m=[];if(vr(d-f)===vr(l[1]-l[0])){p=d;var g=f+l[1]-l[0];m[0]=Math.min(g,(g+c)/2),m[1]=Math.max(g,(g+c)/2)}else{p=c;var b=d+l[1]-l[0];m[0]=Math.min(f,(b+f)/2),m[1]=Math.max(f,(b+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>y[0]&&e<=y[1]||e>=m[0]&&e<=m[1]){a=i[u].index;break}}else{var v=Math.min(c,d),x=Math.max(c,d);if(e>(v+f)/2&&e<=(x+f)/2){a=i[u].index;break}}}else for(var O=0;O<s;O++)if(O===0&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O>0&&O<s-1&&e>(r[O].coordinate+r[O-1].coordinate)/2&&e<=(r[O].coordinate+r[O+1].coordinate)/2||O===s-1&&e>(r[O].coordinate+r[O-1].coordinate)/2){a=r[O].index;break}return a},Xx=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?st(st({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},qfe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,f=Object.keys(c),d=0,p=f.length;d<p;d++){var m=c[f[d]],g=m.items,b=m.cateAxisId,y=g.filter(function(E){return yi(E.type).indexOf("Bar")>=0});if(y&&y.length){var v=y[0].type.defaultProps,x=v!==void 0?st(st({},v),y[0].props):y[0].props,O=x.barSize,S=x[b];a[S]||(a[S]=[]);var A=_e(O)?n:O;a[S].push({item:y[0],stackList:y.slice(1),barSize:_e(A)?void 0:ja(A,r,0)})}}return a},Gfe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=ja(n,i,0,!0),c,f=[];if(a[0].barSize===+a[0].barSize){var d=!1,p=i/l,m=a.reduce(function(O,S){return O+S.barSize||0},0);m+=(l-1)*u,m>=i&&(m-=(l-1)*u,u=0),m>=i&&p>0&&(d=!0,p*=.9,m=l*p);var g=(i-m)/2>>0,b={offset:g-u,size:0};c=a.reduce(function(O,S){var A={item:S.item,position:{offset:b.offset+b.size+u,size:d?p:S.barSize}},E=[].concat(SC(O),[A]);return b=E[E.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){E.push({item:T,position:b})}),E},f)}else{var y=ja(r,i,0,!0);i-2*y-(l-1)*u<=0&&(u=0);var v=(i-2*y-(l-1)*u)/l;v>1&&(v>>=0);var x=s===+s?Math.min(v,s):v;c=a.reduce(function(O,S,A){var E=[].concat(SC(O),[{item:S.item,position:{offset:y+(v+u)*A+(v-x)/2,size:x}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){E.push({item:T,position:E[E.length-1].position})}),E},f)}return c},Kfe=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=jL({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,d=c.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&ee(e[p]))return st(st({},e),{},Ws({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&ee(e[m]))return st(st({},e),{},Ws({},m,e[m]+(d||0)))}return e},Yfe=function(e,n,r){return _e(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},DL=function(e,n,r,i,o){var a=n.props.children,s=nr(a,sh).filter(function(u){return Yfe(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Dn(c,r);if(_e(f))return u;var d=Array.isArray(f)?[Kg(f),Gg(f)]:[f,f],p=l.reduce(function(m,g){var b=Dn(c,g,0),y=d[0]-Math.abs(Array.isArray(b)?b[0]:b),v=d[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(y,m[0]),Math.max(v,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Xfe=function(e,n,r,i,o){var a=n.map(function(s){return DL(e,s,r,o,i)}).filter(function(s){return!_e(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},$L=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&DL(e,l,u,i)||vc(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},LL=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},VL=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},hi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?vr(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var d=o?o.indexOf(f):f;return{coordinate:i(d)+u,value:f,offset:u}});return c.filter(function(f){return!eh(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+u,value:f,index:d,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,d){return{coordinate:i(f)+u,value:o?o[f]:f,index:d,offset:u}})},Vv=new WeakMap,rd=function(e,n){if(typeof n!="function")return e;Vv.has(e)||Vv.set(e,new WeakMap);var r=Vv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Qfe=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:rf(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Zp(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:yc(),realScaleType:"point"}:o==="category"?{scale:rf(),realScaleType:"band"}:{scale:Zp(),realScaleType:"linear"};if(Ma(i)){var l="scale".concat(Mg(i));return{scale:(yC[l]||yc)(),realScaleType:yC[l]?l:"point"}}return ge(i)?{scale:i}:{scale:yc(),realScaleType:"point"}},AC=1e-4,Jfe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-AC,a=Math.max(i[0],i[1])+AC,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},Zfe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},ehe=function(e,n){if(!n||n.length!==2||!ee(n[0])||!ee(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ee(e[0])||e[0]<r)&&(o[0]=r),(!ee(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},the=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=eh(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},nhe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=eh(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},rhe={sign:the,expand:wJ,none:sl,silhouette:bJ,wiggle:xJ,positive:nhe},ihe=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=rhe[r],a=_J().keys(i).value(function(s,l){return+Dn(s,l,0)}).order(P_).offset(o);return a(e)},ohe=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,d){var p,m=(p=d.type)!==null&&p!==void 0&&p.defaultProps?st(st({},d.type.defaultProps),d.props):d.props,g=m.stackId,b=m.hide;if(b)return f;var y=m[r],v=f[y]||{hasStack:!1,stackGroups:{}};if(It(g)){var x=v.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};x.items.push(d),v.hasStack=!0,v.stackGroups[g]=x}else v.stackGroups[th("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return st(st({},f),{},Ws({},y,v))},l),c={};return Object.keys(u).reduce(function(f,d){var p=u[d];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,b){var y=p.stackGroups[b];return st(st({},g),{},Ws({},b,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:ihe(e,y.items,o)}))},m)}return st(st({},f),{},Ws({},d,p))},c)},ahe=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=vfe(u,o,s);return e.domain([Kg(c),Gg(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),d=_fe(f,o,s);return{niceTicks:d}}return null};function IC(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!_e(i[e.dataKey])){var s=Cp(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Dn(i,_e(a)?e.dataKey:a);return _e(l)?null:e.scale(l)}var PC=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Dn(a,n.dataKey,n.domain[s]);return _e(l)?null:n.scale(l)-o/2+i},she=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},lhe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?st(st({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(It(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},uhe=function(e){return e.reduce(function(n,r){return[Kg(r.concat([n[0]]).filter(ee)),Gg(r.concat([n[1]]).filter(ee))]},[1/0,-1/0])},FL=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var f=uhe(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},CC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iw=function(e,n,r){if(ge(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ee(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(CC.test(e[0])){var o=+CC.exec(e[0])[1];i[0]=n[0]-o}else ge(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ee(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(OC.test(e[1])){var a=+OC.exec(e[1])[1];i[1]=n[1]+a}else ge(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},am=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=Sx(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},kC=function(e,n,r){return!e||!e.length||Yg(e,tr(r,"type.defaultProps.domain"))?n:e},BL=function(e,n){var r=e.type.defaultProps?st(st({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return st(st({},Se(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:Xx(e),value:Dn(n,i),type:l,payload:n,chartType:u,hide:c})};function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function RC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RC(Object(n),!0).forEach(function(r){che(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function che(t,e,n){return e=fhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fhe(t){var e=hhe(t,"string");return df(e)=="symbol"?e:e+""}function hhe(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sm=Math.PI/180,dhe=function(e){return e*180/Math.PI},zt=function(e,n,r,i){return{x:e+Math.cos(-sm*i)*r,y:n+Math.sin(-sm*i)*r}},phe=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},mhe=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=phe({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:dhe(u),angleInRadian:u}},ghe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},yhe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},MC=function(e,n){var r=e.x,i=e.y,o=mhe({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=ghe(n),f=c.startAngle,d=c.endAngle,p=s,m;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=f}return m?NC(NC({},n),{},{radius:a,angle:yhe(p,n)}):null};function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}var vhe=["offset"];function _he(t){return Ehe(t)||xhe(t)||bhe(t)||whe()}function whe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bhe(t,e){if(t){if(typeof t=="string")return ow(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ow(t,e)}}function xhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ehe(t){if(Array.isArray(t))return ow(t)}function ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function She(t,e){if(t==null)return{};var n=The(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function The(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jC(Object(n),!0).forEach(function(r){Ahe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ahe(t,e,n){return e=Ihe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ihe(t){var e=Phe(t,"string");return pf(e)=="symbol"?e:e+""}function Phe(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mf.apply(this,arguments)}var Che=function(e){var n=e.value,r=e.formatter,i=_e(e.children)?n:e.children;return ge(r)?r(i):i},Ohe=function(e,n){var r=vr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},khe=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,d=l.outerRadius,p=l.startAngle,m=l.endAngle,g=l.clockWise,b=(f+d)/2,y=Ohe(p,m),v=y>=0?1:-1,x,O;i==="insideStart"?(x=p+v*a,O=g):i==="insideEnd"?(x=m-v*a,O=!g):i==="end"&&(x=m+v*a,O=g),O=y<=0?O:!O;var S=zt(u,c,b,x),A=zt(u,c,b,x+(O?1:-1)*359),E="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(O?0:1,`,
    `).concat(A.x,",").concat(A.y),T=_e(e.id)?th("recharts-radial-line-"):e.id;return V.createElement("text",mf({},r,{dominantBaseline:"central",className:Ae("recharts-radial-bar-label",s)}),V.createElement("defs",null,V.createElement("path",{id:T,d:E})),V.createElement("textPath",{xlinkHref:"#".concat(T)},n))},Rhe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,d=(c+f)/2;if(i==="outside"){var p=zt(a,s,u+r,d),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,y=zt(a,s,b,d),v=y.x,x=y.y;return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Nhe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,f=c>=0?1:-1,d=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,b=g*i,y=g>0?"end":"start",v=g>0?"start":"end";if(o==="top"){var x={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return St(St({},x),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var O={x:s+u/2,y:l+c+d,textAnchor:"middle",verticalAnchor:m};return St(St({},O),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:s-b,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return St(St({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var A={x:s+u+b,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return St(St({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:c}:{})}var E=r?{width:u,height:c}:{};return o==="insideLeft"?St({x:s+b,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},E):o==="insideRight"?St({x:s+u-b,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},E):o==="insideTop"?St({x:s+u/2,y:l+d,textAnchor:"middle",verticalAnchor:m},E):o==="insideBottom"?St({x:s+u/2,y:l+c-d,textAnchor:"middle",verticalAnchor:p},E):o==="insideTopLeft"?St({x:s+b,y:l+d,textAnchor:v,verticalAnchor:m},E):o==="insideTopRight"?St({x:s+u-b,y:l+d,textAnchor:y,verticalAnchor:m},E):o==="insideBottomLeft"?St({x:s+b,y:l+c-d,textAnchor:v,verticalAnchor:p},E):o==="insideBottomRight"?St({x:s+u-b,y:l+c-d,textAnchor:y,verticalAnchor:p},E):Wl(o)&&(ee(o.x)||ha(o.x))&&(ee(o.y)||ha(o.y))?St({x:s+ja(o.x,u),y:l+ja(o.y,c),textAnchor:"end",verticalAnchor:"end"},E):St({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},Mhe=function(e){return"cx"in e&&ee(e.cx)};function tn(t){var e=t.offset,n=e===void 0?5:e,r=She(t,vhe),i=St({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,d=i.textBreakAll;if(!o||_e(s)&&_e(l)&&!j.isValidElement(u)&&!ge(u))return null;if(j.isValidElement(u))return j.cloneElement(u,i);var p;if(ge(u)){if(p=j.createElement(u,i),j.isValidElement(p))return p}else p=Che(i);var m=Mhe(o),g=Se(i,!0);if(m&&(a==="insideStart"||a==="insideEnd"||a==="end"))return khe(i,p,g);var b=m?Rhe(i):Nhe(i);return V.createElement(Wp,mf({className:Ae("recharts-label",f)},g,b,{breakAll:d}),p)}tn.displayName="Label";var UL=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,d=e.y,p=e.top,m=e.left,g=e.width,b=e.height,y=e.clockWise,v=e.labelViewBox;if(v)return v;if(ee(g)&&ee(b)){if(ee(f)&&ee(d))return{x:f,y:d,width:g,height:b};if(ee(p)&&ee(m))return{x:p,y:m,width:g,height:b}}return ee(f)&&ee(d)?{x:f,y:d,width:0,height:0}:ee(n)&&ee(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:y}:e.viewBox?e.viewBox:{}},jhe=function(e,n){return e?e===!0?V.createElement(tn,{key:"label-implicit",viewBox:n}):It(e)?V.createElement(tn,{key:"label-implicit",viewBox:n,value:e}):j.isValidElement(e)?e.type===tn?j.cloneElement(e,{key:"label-implicit",viewBox:n}):V.createElement(tn,{key:"label-implicit",content:e,viewBox:n}):ge(e)?V.createElement(tn,{key:"label-implicit",content:e,viewBox:n}):Wl(e)?V.createElement(tn,mf({viewBox:n},e,{key:"label-implicit"})):null:null},Dhe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=UL(e),a=nr(i,tn).map(function(l,u){return j.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=jhe(e.label,n||o);return[s].concat(_he(a))};tn.parseViewBox=UL;tn.renderCallByParent=Dhe;function $he(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Lhe=$he;const Vhe=$e(Lhe);function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}var Fhe=["valueAccessor"],Bhe=["data","dataKey","clockWise","id","textBreakAll"];function Uhe(t){return qhe(t)||Whe(t)||Hhe(t)||zhe()}function zhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hhe(t,e){if(t){if(typeof t=="string")return aw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aw(t,e)}}function Whe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qhe(t){if(Array.isArray(t))return aw(t)}function aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lm(){return lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lm.apply(this,arguments)}function DC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $C(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(n),!0).forEach(function(r){Ghe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ghe(t,e,n){return e=Khe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Khe(t){var e=Yhe(t,"string");return gf(e)=="symbol"?e:e+""}function Yhe(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LC(t,e){if(t==null)return{};var n=Xhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Qhe=function(e){return Array.isArray(e.value)?Vhe(e.value):e.value};function xo(t){var e=t.valueAccessor,n=e===void 0?Qhe:e,r=LC(t,Fhe),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=LC(r,Bhe);return!i||!i.length?null:V.createElement(pt,{className:"recharts-label-list"},i.map(function(c,f){var d=_e(o)?n(c,f):Dn(c&&c.payload,o),p=_e(s)?{}:{id:"".concat(s,"-").concat(f)};return V.createElement(tn,lm({},Se(c,!0),u,p,{parentViewBox:c.parentViewBox,value:d,textBreakAll:l,viewBox:tn.parseViewBox(_e(a)?c:$C($C({},c),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}xo.displayName="LabelList";function Jhe(t,e){return t?t===!0?V.createElement(xo,{key:"labelList-implicit",data:e}):V.isValidElement(t)||ge(t)?V.createElement(xo,{key:"labelList-implicit",data:e,content:t}):Wl(t)?V.createElement(xo,lm({data:e},t,{key:"labelList-implicit"})):null:null}function Zhe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=nr(r,xo).map(function(a,s){return j.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=Jhe(t.label,e);return[o].concat(Uhe(i))}xo.renderCallByParent=Zhe;function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function sw(){return sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sw.apply(this,arguments)}function VC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(n),!0).forEach(function(r){ede(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ede(t,e,n){return e=tde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tde(t){var e=nde(t,"string");return yf(e)=="symbol"?e:e+""}function nde(t,e){if(yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rde=function(e,n){var r=vr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},id=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/sm,d=u?o:o+a*f,p=zt(n,r,c,d),m=zt(n,r,i,d),g=u?o-a*f:o,b=zt(n,r,c*Math.cos(f*sm),g);return{center:p,circleTangency:m,lineTangency:b,theta:f}},zL=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=rde(a,s),u=a+l,c=zt(n,r,o,a),f=zt(n,r,o,u),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=zt(n,r,i,a),m=zt(n,r,i,u);d+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},ide=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=vr(c-u),d=id({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),p=d.circleTangency,m=d.lineTangency,g=d.theta,b=id({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:l}),y=b.circleTangency,v=b.lineTangency,x=b.theta,O=l?Math.abs(u-c):Math.abs(u-c)-g-x;if(O<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):zL({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(O>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var A=id({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),E=A.circleTangency,T=A.lineTangency,P=A.theta,N=id({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),R=N.circleTangency,C=N.lineTangency,k=N.theta,$=l?Math.abs(u-c):Math.abs(u-c)-P-k;if($<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},ode={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},HL=function(e){var n=FC(FC({},ode),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,d=n.className;if(a<o||c===f)return null;var p=Ae("recharts-sector",d),m=a-o,g=ja(s,m,0,!0),b;return g>0&&Math.abs(c-f)<360?b=ide({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):b=zL({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:f}),V.createElement("path",sw({},Se(n,!0),{className:p,d:b,role:"img"}))};function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(this,arguments)}function BC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(n),!0).forEach(function(r){ade(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ade(t,e,n){return e=sde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sde(t){var e=lde(t,"string");return vf(e)=="symbol"?e:e+""}function lde(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zC={curveBasisClosed:lJ,curveBasisOpen:uJ,curveBasis:sJ,curveBumpX:GQ,curveBumpY:KQ,curveLinearClosed:cJ,curveLinear:Dg,curveMonotoneX:fJ,curveMonotoneY:hJ,curveNatural:dJ,curveStep:pJ,curveStepAfter:gJ,curveStepBefore:mJ},od=function(e){return e.x===+e.x&&e.y===+e.y},$u=function(e){return e.x},Lu=function(e){return e.y},ude=function(e,n){if(ge(e))return e;var r="curve".concat(Mg(e));return(r==="curveMonotone"||r==="curveBump")&&n?zC["".concat(r).concat(n==="vertical"?"Y":"X")]:zC[r]||Dg},cde=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=ude(r,s),f=u?o.filter(function(g){return od(g)}):o,d;if(Array.isArray(a)){var p=u?a.filter(function(g){return od(g)}):a,m=f.map(function(g,b){return UC(UC({},g),{},{base:p[b]})});return s==="vertical"?d=Yh().y(Lu).x1($u).x0(function(g){return g.base.x}):d=Yh().x($u).y1(Lu).y0(function(g){return g.base.y}),d.defined(od).curve(c),d(m)}return s==="vertical"&&ee(a)?d=Yh().y(Lu).x1($u).x0(a):ee(a)?d=Yh().x($u).y1(Lu).y0(a):d=WD().x($u).y(Lu),d.defined(od).curve(c),d(f)},uw=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?cde(e):i;return j.createElement("path",lw({},Se(e,!1),Op(e),{className:Ae("recharts-curve",n),d:a,ref:o}))},WL={exports:{}},fde="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hde=fde,dde=hde;function qL(){}function GL(){}GL.resetWarningCache=qL;var pde=function(){function t(r,i,o,a,s,l){if(l!==dde){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:GL,resetWarningCache:qL};return n.PropTypes=n,n};WL.exports=pde();var mde=WL.exports;const Ce=$e(mde),{getOwnPropertyNames:gde,getOwnPropertySymbols:yde}=Object,{hasOwnProperty:vde}=Object.prototype;function Fv(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function ad(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function _de(t){return t!=null?t[Symbol.toStringTag]:void 0}function HC(t){return gde(t).concat(yde(t))}const wde=Object.hasOwn||((t,e)=>vde.call(t,e));function Qa(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const bde="__v",xde="__o",Ede="_owner",{getOwnPropertyDescriptor:WC,keys:qC}=Object;function Sde(t,e){return t.byteLength===e.byteLength&&um(new Uint8Array(t),new Uint8Array(e))}function Tde(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Ade(t,e){return t.byteLength===e.byteLength&&um(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Ide(t,e){return Qa(t.getTime(),e.getTime())}function Pde(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Cde(t,e){return t===e}function GC(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const u=e.entries();let c=!1,f=0;for(;(s=u.next())&&!s.done;){if(i[f]){f++;continue}const d=a.value,p=s.value;if(n.equals(d[0],p[0],l,f,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const Ode=Qa;function kde(t,e,n){const r=qC(t);let i=r.length;if(qC(e).length!==i)return!1;for(;i-- >0;)if(!KL(t,e,n,r[i]))return!1;return!0}function Vu(t,e,n){const r=HC(t);let i=r.length;if(HC(e).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!KL(t,e,n,o)||(a=WC(t,o),s=WC(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Rde(t,e){return Qa(t.valueOf(),e.valueOf())}function Nde(t,e){return t.source===e.source&&t.flags===e.flags}function KC(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let a,s;for(;(a=o.next())&&!a.done;){const l=e.values();let u=!1,c=0;for(;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function um(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Mde(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function KL(t,e,n,r){return(r===Ede||r===xde||r===bde)&&(t.$$typeof||e.$$typeof)?!0:wde(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const jde="[object ArrayBuffer]",Dde="[object Arguments]",$de="[object Boolean]",Lde="[object DataView]",Vde="[object Date]",Fde="[object Error]",Bde="[object Map]",Ude="[object Number]",zde="[object Object]",Hde="[object RegExp]",Wde="[object Set]",qde="[object String]",Gde={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Kde="[object URL]",Yde=Object.prototype.toString;function Xde({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:d,areUrlsEqual:p,unknownTagComparators:m}){return function(b,y,v){if(b===y)return!0;if(b==null||y==null)return!1;const x=typeof b;if(x!==typeof y)return!1;if(x!=="object")return x==="number"?s(b,y,v):x==="function"?o(b,y,v):!1;const O=b.constructor;if(O!==y.constructor)return!1;if(O===Object)return l(b,y,v);if(Array.isArray(b))return e(b,y,v);if(O===Date)return r(b,y,v);if(O===RegExp)return c(b,y,v);if(O===Map)return a(b,y,v);if(O===Set)return f(b,y,v);const S=Yde.call(b);if(S===Vde)return r(b,y,v);if(S===Hde)return c(b,y,v);if(S===Bde)return a(b,y,v);if(S===Wde)return f(b,y,v);if(S===zde)return typeof b.then!="function"&&typeof y.then!="function"&&l(b,y,v);if(S===Kde)return p(b,y,v);if(S===Fde)return i(b,y,v);if(S===Dde)return l(b,y,v);if(Gde[S])return d(b,y,v);if(S===jde)return t(b,y,v);if(S===Lde)return n(b,y,v);if(S===$de||S===Ude||S===qde)return u(b,y,v);if(m){let A=m[S];if(!A){const E=_de(b);E&&(A=m[E])}if(A)return A(b,y,v)}return!1}}function Qde({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Sde,areArraysEqual:n?Vu:Tde,areDataViewsEqual:Ade,areDatesEqual:Ide,areErrorsEqual:Pde,areFunctionsEqual:Cde,areMapsEqual:n?Fv(GC,Vu):GC,areNumbersEqual:Ode,areObjectsEqual:n?Vu:kde,arePrimitiveWrappersEqual:Rde,areRegExpsEqual:Nde,areSetsEqual:n?Fv(KC,Vu):KC,areTypedArraysEqual:n?Fv(um,Vu):um,areUrlsEqual:Mde,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=ad(r.areArraysEqual),o=ad(r.areMapsEqual),a=ad(r.areObjectsEqual),s=ad(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function Jde(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Zde({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(s,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(s,l){return e(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return e(s,l,o)}}const epe=qo();qo({strict:!0});qo({circular:!0});qo({circular:!0,strict:!0});qo({createInternalComparator:()=>Qa});qo({strict:!0,createInternalComparator:()=>Qa});qo({circular:!0,createInternalComparator:()=>Qa});qo({circular:!0,createInternalComparator:()=>Qa,strict:!0});function qo(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=Qde(t),a=Xde(o),s=n?n(a):Jde(a);return Zde({circular:e,comparator:a,createState:r,equals:s,strict:i})}function tpe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function YC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):tpe(i)};requestAnimationFrame(r)}function cw(t){"@babel/helpers - typeof";return cw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cw(t)}function npe(t){return ape(t)||ope(t)||ipe(t)||rpe()}function rpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ipe(t,e){if(t){if(typeof t=="string")return XC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XC(t,e)}}function XC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ope(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ape(t){if(Array.isArray(t))return t}function spe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=npe(a),l=s[0],u=s.slice(1);if(typeof l=="number"){YC(i.bind(null,u),l);return}i(l),YC(i.bind(null,u));return}cw(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function QC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(n),!0).forEach(function(r){YL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YL(t,e,n){return e=lpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lpe(t){var e=upe(t,"string");return _f(e)==="symbol"?e:String(e)}function upe(t,e){if(_f(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_f(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cpe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},fpe=function(e){return e},hpe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},_c=function(e,n){return Object.keys(n).reduce(function(r,i){return JC(JC({},r),{},YL({},i,e(i,n[i])))},{})},ZC=function(e,n,r){return e.map(function(i){return"".concat(hpe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function dpe(t,e){return gpe(t)||mpe(t,e)||XL(t,e)||ppe()}function ppe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function gpe(t){if(Array.isArray(t))return t}function ype(t){return wpe(t)||_pe(t)||XL(t)||vpe()}function vpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XL(t,e){if(t){if(typeof t=="string")return fw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fw(t,e)}}function _pe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wpe(t){if(Array.isArray(t))return fw(t)}function fw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cm=1e-4,QL=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},JL=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},eO=function(e,n){return function(r){var i=QL(e,n);return JL(i,r)}},bpe=function(e,n){return function(r){var i=QL(e,n),o=[].concat(ype(i.map(function(a,s){return a*s}).slice(1)),[0]);return JL(o,r)}},tO=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),c=dpe(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var f=eO(i,a),d=eO(o,s),p=bpe(i,a),m=function(y){return y>1?1:y<0?0:y},g=function(y){for(var v=y>1?1:y,x=v,O=0;O<8;++O){var S=f(x)-v,A=p(x);if(Math.abs(S-v)<cm||A<cm)return d(x);x=m(x-S/A)}return d(x)};return g.isStepper=!1,g},xpe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,f,d){var p=-(c-f)*r,m=d*o,g=d+(p-m)*s/1e3,b=d*s/1e3+c;return Math.abs(b-f)<cm&&Math.abs(g)<cm?[f,0]:[b,g]};return l.isStepper=!0,l.dt=s,l},Epe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return tO(i);case"spring":return xpe();default:if(i.split("(")[0]==="cubic-bezier")return tO(i)}return typeof i=="function"?i:null};function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function nO(t){return Ape(t)||Tpe(t)||ZL(t)||Spe()}function Spe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ape(t){if(Array.isArray(t))return dw(t)}function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){hw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hw(t,e,n){return e=Ipe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ipe(t){var e=Ppe(t,"string");return wf(e)==="symbol"?e:String(e)}function Ppe(t,e){if(wf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cpe(t,e){return Rpe(t)||kpe(t,e)||ZL(t,e)||Ope()}function Ope(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZL(t,e){if(t){if(typeof t=="string")return dw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dw(t,e)}}function dw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Rpe(t){if(Array.isArray(t))return t}var fm=function(e,n,r){return e+(n-e)*r},pw=function(e){var n=e.from,r=e.to;return n!==r},Npe=function t(e,n,r){var i=_c(function(o,a){if(pw(a)){var s=e(a.from,a.to,a.velocity),l=Cpe(s,2),u=l[0],c=l[1];return Vt(Vt({},a),{},{from:u,velocity:c})}return a},n);return r<1?_c(function(o,a){return pw(a)?Vt(Vt({},a),{},{velocity:fm(a.velocity,i[o].velocity,r),from:fm(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Mpe=function(t,e,n,r,i){var o=cpe(t,e),a=o.reduce(function(b,y){return Vt(Vt({},b),{},hw({},y,[t[y],e[y]]))},{}),s=o.reduce(function(b,y){return Vt(Vt({},b),{},hw({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,u,c,f=function(){return null},d=function(){return _c(function(y,v){return v.from},s)},p=function(){return!Object.values(s).filter(pw).length},m=function(y){u||(u=y);var v=y-u,x=v/n.dt;s=Npe(n,s,x),i(Vt(Vt(Vt({},t),e),d())),u=y,p()||(l=requestAnimationFrame(f))},g=function(y){c||(c=y);var v=(y-c)/r,x=_c(function(S,A){return fm.apply(void 0,nO(A).concat([n(v)]))},a);if(i(Vt(Vt(Vt({},t),e),x)),v<1)l=requestAnimationFrame(f);else{var O=_c(function(S,A){return fm.apply(void 0,nO(A).concat([n(1)]))},a);i(Vt(Vt(Vt({},t),e),O))}};return f=n.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}var jpe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Dpe(t,e){if(t==null)return{};var n=$pe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $pe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Bv(t){return Bpe(t)||Fpe(t)||Vpe(t)||Lpe()}function Lpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vpe(t,e){if(t){if(typeof t=="string")return mw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mw(t,e)}}function Fpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bpe(t){if(Array.isArray(t))return mw(t)}function mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(n),!0).forEach(function(r){ec(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ec(t,e,n){return e=e4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Upe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e4(r.key),r)}}function zpe(t,e,n){return e&&oO(t.prototype,e),n&&oO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function e4(t){var e=Hpe(t,"string");return gl(e)==="symbol"?e:String(e)}function Hpe(t,e){if(gl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gw(t,e)}function gw(t,e){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gw(t,e)}function qpe(t){var e=Gpe();return function(){var r=hm(t),i;if(e){var o=hm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return yw(this,i)}}function yw(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vw(t)}function vw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gpe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hm(t)}var Jg=function(t){Wpe(n,t);var e=qpe(n);function n(r,i){var o;Upe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,f=a.steps,d=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(vw(o)),o.changeStyle=o.changeStyle.bind(vw(o)),!s||p<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:c}),yw(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof d=="function")return o.state={style:u},yw(o);o.state={style:l?ec({},l,u):u}}else o.state={style:{}};return o}return zpe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,d=this.state.style;if(s){if(!a){var p={style:l?ec({},l,c):c};this.state&&d&&(l&&d[l]!==c||!l&&d!==c)&&this.setState(p);return}if(!(epe(i.to,c)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:i.to;if(this.state&&d){var b={style:l?ec({},l,g):g};(l&&d[l]!==g||!l&&d!==g)&&this.setState(b)}this.runAnimation(ur(ur({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,p=Mpe(a,s,Epe(u),l,this.changeStyle),m=function(){o.stopJSAnimation=p()};this.manager.start([d,c,m,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,f=u.duration,d=f===void 0?0:f,p=function(g,b,y){if(y===0)return g;var v=b.duration,x=b.easing,O=x===void 0?"ease":x,S=b.style,A=b.properties,E=b.onAnimationEnd,T=y>0?a[y-1]:b,P=A||Object.keys(S);if(typeof O=="function"||O==="spring")return[].concat(Bv(g),[o.runJSAnimation.bind(o,{from:T.style,to:S,duration:v,easing:O}),v]);var N=ZC(P,v,O),R=ur(ur(ur({},T.style),S),{},{transition:N});return[].concat(Bv(g),[R,v,E]).filter(fpe)};return this.manager.start([l].concat(Bv(a.reduce(p,[c,Math.max(d,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=spe());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var g=s?ec({},s,l):l,b=ZC(Object.keys(g),a,u);m.start([c,o,ur(ur({},g),{},{transition:b}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Dpe(i,jpe),u=j.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var f=function(p){var m=p.props,g=m.style,b=g===void 0?{}:g,y=m.className,v=j.cloneElement(p,ur(ur({},l),{},{style:ur(ur({},b),c),className:y}));return v};return u===1?f(j.Children.only(o)):V.createElement("div",null,j.Children.map(o,function(d){return f(d)}))}}]),n}(j.PureComponent);Jg.displayName="Animate";Jg.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Jg.propTypes={from:Ce.oneOfType([Ce.object,Ce.string]),to:Ce.oneOfType([Ce.object,Ce.string]),attributeName:Ce.string,duration:Ce.number,begin:Ce.number,easing:Ce.oneOfType([Ce.string,Ce.func]),steps:Ce.arrayOf(Ce.shape({duration:Ce.number.isRequired,style:Ce.object.isRequired,easing:Ce.oneOfType([Ce.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ce.func]),properties:Ce.arrayOf("string"),onAnimationEnd:Ce.func})),children:Ce.oneOfType([Ce.node,Ce.func]),isActive:Ce.bool,canBegin:Ce.bool,onAnimationEnd:Ce.func,shouldReAnimate:Ce.bool,onAnimationStart:Ce.func,onAnimationReStart:Ce.func};const yl=Jg;function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dm.apply(this,arguments)}function Kpe(t,e){return Jpe(t)||Qpe(t,e)||Xpe(t,e)||Ype()}function Ype(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xpe(t,e){if(t){if(typeof t=="string")return aO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aO(t,e)}}function aO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Jpe(t){if(Array.isArray(t))return t}function sO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(n),!0).forEach(function(r){Zpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zpe(t,e,n){return e=eme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eme(t){var e=tme(t,"string");return bf(e)=="symbol"?e:e+""}function tme(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uO=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],d=0,p=4;d<p;d++)f[d]=o[d]>a?a:o[d];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var m=Math.min(a,o);c="M ".concat(e,",").concat(n+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*m,`
            L `).concat(e+r,",").concat(n+i-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*m," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},nme=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),f=Math.min(a,a+l),d=Math.max(a,a+l);return r>=u&&r<=c&&i>=f&&i<=d}return!1},rme={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Qx=function(e){var n=lO(lO({},rme),e),r=j.useRef(),i=j.useState(-1),o=Kpe(i,2),a=o[0],s=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var O=r.current.getTotalLength();O&&s(O)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,d=n.radius,p=n.className,m=n.animationEasing,g=n.animationDuration,b=n.animationBegin,y=n.isAnimationActive,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var x=Ae("recharts-rectangle",p);return v?V.createElement(yl,{canBegin:a>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:g,animationEasing:m,isActive:v},function(O){var S=O.width,A=O.height,E=O.x,T=O.y;return V.createElement(yl,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,isActive:y,easing:m},V.createElement("path",dm({},Se(n,!0),{className:x,d:uO(E,T,S,A,d),ref:r})))}):V.createElement("path",dm({},Se(n,!0),{className:x,d:uO(l,u,c,f,d)}))};function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_w.apply(this,arguments)}var Jx=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Ae("recharts-dot",o);return n===+n&&r===+r&&i===+i?j.createElement("circle",_w({},Se(e,!1),Op(e),{className:a,cx:n,cy:r,r:i})):null};function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}var ime=["x","y","top","left","width","height","className"];function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ww.apply(this,arguments)}function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ome(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(r){ame(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ame(t,e,n){return e=sme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sme(t){var e=lme(t,"string");return xf(e)=="symbol"?e:e+""}function lme(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ume(t,e){if(t==null)return{};var n=cme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var fme=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},hme=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,d=e.height,p=d===void 0?0:d,m=e.className,g=ume(e,ime),b=ome({x:r,y:o,top:s,left:u,width:f,height:p},g);return!ee(r)||!ee(o)||!ee(f)||!ee(p)||!ee(s)||!ee(u)?null:V.createElement("path",ww({},Se(b,!0),{className:Ae("recharts-cross",m),d:fme(r,o,f,p,s,u)}))},dme=m$,pme=dme(Object.getPrototypeOf,Object),mme=pme,gme=ji,yme=mme,vme=Di,_me="[object Object]",wme=Function.prototype,bme=Object.prototype,t4=wme.toString,xme=bme.hasOwnProperty,Eme=t4.call(Object);function Sme(t){if(!vme(t)||gme(t)!=_me)return!1;var e=yme(t);if(e===null)return!0;var n=xme.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&t4.call(n)==Eme}var Tme=Sme;const Ame=$e(Tme);var Ime=ji,Pme=Di,Cme="[object Boolean]";function Ome(t){return t===!0||t===!1||Pme(t)&&Ime(t)==Cme}var kme=Ome;const Rme=$e(kme);function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function pm(){return pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pm.apply(this,arguments)}function Nme(t,e){return $me(t)||Dme(t,e)||jme(t,e)||Mme()}function Mme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jme(t,e){if(t){if(typeof t=="string")return fO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fO(t,e)}}function fO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function $me(t){if(Array.isArray(t))return t}function hO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(n),!0).forEach(function(r){Lme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lme(t,e,n){return e=Vme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vme(t){var e=Fme(t,"string");return Ef(e)=="symbol"?e:e+""}function Fme(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pO=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},Bme={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ume=function(e){var n=dO(dO({},Bme),e),r=j.useRef(),i=j.useState(-1),o=Nme(i,2),a=o[0],s=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&s(x)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,d=n.height,p=n.className,m=n.animationEasing,g=n.animationDuration,b=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var v=Ae("recharts-trapezoid",p);return y?V.createElement(yl,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:d,x:l,y:u},duration:g,animationEasing:m,isActive:y},function(x){var O=x.upperWidth,S=x.lowerWidth,A=x.height,E=x.x,T=x.y;return V.createElement(yl,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,easing:m},V.createElement("path",pm({},Se(n,!0),{className:v,d:pO(E,T,O,S,A),ref:r})))}):V.createElement("g",null,V.createElement("path",pm({},Se(n,!0),{className:v,d:pO(l,u,c,f,d)})))},zme=["option","shapeType","propTransformer","activeClassName","isActive"];function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function Hme(t,e){if(t==null)return{};var n=Wme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){qme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qme(t,e,n){return e=Gme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gme(t){var e=Kme(t,"string");return Sf(e)=="symbol"?e:e+""}function Kme(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yme(t,e){return mm(mm({},e),t)}function Xme(t,e){return t==="symbols"}function gO(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return V.createElement(Qx,n);case"trapezoid":return V.createElement(Ume,n);case"sector":return V.createElement(HL,n);case"symbols":if(Xme(e))return V.createElement(gx,n);break;default:return null}}function Qme(t){return j.isValidElement(t)?t.props:t}function Jme(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Yme:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Hme(t,zme),u;if(j.isValidElement(e))u=j.cloneElement(e,mm(mm({},l),Qme(e)));else if(ge(e))u=e(l);else if(Ame(e)&&!Rme(e)){var c=i(e,l);u=V.createElement(gO,{shapeType:n,elementProps:c})}else{var f=l;u=V.createElement(gO,{shapeType:n,elementProps:f})}return s?V.createElement(pt,{className:a},u):u}function Zg(t,e){return e!=null&&"trapezoids"in t.props}function ey(t,e){return e!=null&&"sectors"in t.props}function Tf(t,e){return e!=null&&"points"in t.props}function Zme(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function ege(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function tge(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function nge(t,e){var n;return Zg(t,e)?n=Zme:ey(t,e)?n=ege:Tf(t,e)&&(n=tge),n}function rge(t,e){var n;return Zg(t,e)?n="trapezoids":ey(t,e)?n="sectors":Tf(t,e)&&(n="points"),n}function ige(t,e){if(Zg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(ey(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Tf(t,e)?e.payload:{}}function oge(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=rge(n,e),o=ige(n,e),a=r.filter(function(l,u){var c=Yg(o,l),f=n.props[i].filter(function(m){var g=nge(n,e);return g(m,e)}),d=n.props[i].indexOf(f[f.length-1]),p=u===d;return c&&p}),s=r.indexOf(a[a.length-1]);return s}var age=Math.ceil,sge=Math.max;function lge(t,e,n,r){for(var i=-1,o=sge(age((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var uge=lge,cge=M$,yO=1/0,fge=17976931348623157e292;function hge(t){if(!t)return t===0?t:0;if(t=cge(t),t===yO||t===-yO){var e=t<0?-1:1;return e*fge}return t===t?t:0}var n4=hge,dge=uge,pge=Fg,Uv=n4;function mge(t){return function(e,n,r){return r&&typeof r!="number"&&pge(e,n,r)&&(n=r=void 0),e=Uv(e),n===void 0?(n=e,e=0):n=Uv(n),r=r===void 0?e<n?1:-1:Uv(r),dge(e,n,r,t)}}var gge=mge,yge=gge,vge=yge(),_ge=vge;const gm=$e(_ge);function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function vO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(n),!0).forEach(function(r){r4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r4(t,e,n){return e=wge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wge(t){var e=bge(t,"string");return Af(e)=="symbol"?e:e+""}function bge(t,e){if(Af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xge=["Webkit","Moz","O","ms"],Ege=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=xge.reduce(function(o,a){return _O(_O({},o),{},r4({},a+r,n))},{});return i[e]=n,i};function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function ym(){return ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ym.apply(this,arguments)}function wO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(n),!0).forEach(function(r){In(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o4(r.key),r)}}function Tge(t,e,n){return e&&bO(t.prototype,e),n&&bO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Age(t,e,n){return e=vm(e),Ige(t,i4()?Reflect.construct(e,n||[],vm(t).constructor):e.apply(t,n))}function Ige(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pge(t)}function Pge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i4=function(){return!!t})()}function vm(t){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vm(t)}function Cge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bw(t,e)}function bw(t,e){return bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bw(t,e)}function In(t,e,n){return e=o4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o4(t){var e=Oge(t,"string");return vl(e)=="symbol"?e:e+""}function Oge(t,e){if(vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kge=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=yc().domain(gm(0,l)).range([o,o+a-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},xO=function(e){return e.changedTouches&&!!e.changedTouches.length},_l=function(t){function e(n){var r;return Sge(this,e),r=Age(this,e,[n]),In(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),In(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),In(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),In(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),In(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),In(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),In(r,"handleSlideDragStart",function(i){var o=xO(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Cge(e,t),Tge(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,o),d=Math.max(i,o),p=e.getIndexInRange(a,f),m=e.getIndexInRange(a,d);return{startIndex:p-p%l,endIndex:m===c?c:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Dn(o[r],s,r);return ge(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,d=l.startIndex,p=l.endIndex,m=l.onChange,g=r.pageX-o;g>0?g=Math.min(g,u+c-f-s,u+c-f-a):g<0&&(g=Math.max(g,u-a,u-s));var b=this.getIndex({startX:a+g,endX:s+g});(b.startIndex!==d||b.endIndex!==p)&&m&&m(b),this.setState({startX:a+g,endX:s+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=xO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,f=c.x,d=c.width,p=c.travellerWidth,m=c.onChange,g=c.gap,b=c.data,y={startX:this.state.startX,endX:this.state.endX},v=r.pageX-o;v>0?v=Math.min(v,f+d-p-u):v<0&&(v=Math.max(v,f-u)),y[a]=u+v;var x=this.getIndex(y),O=x.startIndex,S=x.endIndex,A=function(){var T=b.length-1;return a==="startX"&&(s>l?O%g===0:S%g===0)||s<l&&S===T||a==="endX"&&(s>l?S%g===0:O%g===0)||s>l&&S===T};this.setState(In(In({},a,u+v),"brushMoveStartX",r.pageX),function(){m&&A()&&m(x)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var d=f+r;if(!(d===-1||d>=s.length)){var p=s[d];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(In({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return V.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=j.Children.only(u);return f?V.cloneElement(f,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,d=l.traveller,p=l.ariaLabel,m=l.data,g=l.startIndex,b=l.endIndex,y=Math.max(r,this.props.x),v=zv(zv({},Se(this.props,!1)),{},{x:y,y:u,width:c,height:f}),x=p||"Min value: ".concat((o=m[g])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=m[b])===null||a===void 0?void 0:a.name);return V.createElement(pt,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,v))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,d=c.endX,p=5,m={pointerEvents:"none",fill:u};return V.createElement(pt,{className:"recharts-brush-texts"},V.createElement(Wp,ym({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-p,y:a+s/2},m),this.getTextOfTick(i)),V.createElement(Wp,ym({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+p,y:a+s/2},m),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,d=this.state,p=d.startX,m=d.endX,g=d.isTextActive,b=d.isSlideMoving,y=d.isTravellerMoving,v=d.isTravellerFocused;if(!i||!i.length||!ee(s)||!ee(l)||!ee(u)||!ee(c)||u<=0||c<=0)return null;var x=Ae("recharts-brush",o),O=V.Children.count(a)===1,S=Ege("userSelect","none");return V.createElement(pt,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||b||y||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),V.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return V.isValidElement(r)?o=V.cloneElement(r,i):ge(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return zv({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?kge({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(j.PureComponent);In(_l,"displayName","Brush");In(_l,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Rge=Ex;function Nge(t,e){var n;return Rge(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Mge=Nge,jge=s$,Dge=zo,$ge=Mge,Lge=Sn,Vge=Fg;function Fge(t,e,n){var r=Lge(t)?jge:$ge;return n&&Vge(t,e,n)&&(e=void 0),r(t,Dge(e))}var Bge=Fge;const Uge=$e(Bge);var Xr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},EO=C$;function zge(t,e,n){e=="__proto__"&&EO?EO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Hge=zge,Wge=Hge,qge=I$,Gge=zo;function Kge(t,e){var n={};return e=Gge(e),qge(t,function(r,i,o){Wge(n,i,e(r,i,o))}),n}var Yge=Kge;const Xge=$e(Yge);function Qge(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Jge=Qge,Zge=Ex;function eye(t,e){var n=!0;return Zge(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var tye=eye,nye=Jge,rye=tye,iye=zo,oye=Sn,aye=Fg;function sye(t,e,n){var r=oye(t)?nye:rye;return n&&aye(t,e,n)&&(e=void 0),r(t,iye(e))}var lye=sye;const a4=$e(lye);var uye=["x","y"];function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function xw(){return xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xw.apply(this,arguments)}function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){cye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cye(t,e,n){return e=fye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fye(t){var e=hye(t,"string");return If(e)=="symbol"?e:e+""}function hye(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dye(t,e){if(t==null)return{};var n=pye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mye(t,e){var n=t.x,r=t.y,i=dye(t,uye),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),d=parseInt(f,10);return Fu(Fu(Fu(Fu(Fu({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:d,name:e.name,radius:e.radius})}function TO(t){return V.createElement(Jme,xw({shapeType:"rectangle",propTransformer:mye,activeClassName:"recharts-active-bar"},t))}var gye=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ee(r)||RX(r);return o?e(r,i):(o||$a(!1),n)}},yye=["value","background"],s4;function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function vye(t,e){if(t==null)return{};var n=_ye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _ye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _m(){return _m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_m.apply(this,arguments)}function AO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(n),!0).forEach(function(r){so(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u4(r.key),r)}}function bye(t,e,n){return e&&IO(t.prototype,e),n&&IO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xye(t,e,n){return e=wm(e),Eye(t,l4()?Reflect.construct(e,n||[],wm(t).constructor):e.apply(t,n))}function Eye(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sye(t)}function Sye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l4=function(){return!!t})()}function wm(t){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wm(t)}function Tye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ew(t,e)}function Ew(t,e){return Ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ew(t,e)}function so(t,e,n){return e=u4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u4(t){var e=Aye(t,"string");return wl(e)=="symbol"?e:e+""}function Aye(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lh=function(t){function e(){var n;wye(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=xye(this,e,[].concat(i)),so(n,"state",{isAnimationFinished:!1}),so(n,"id",th("recharts-bar-")),so(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),so(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return Tye(e,t),bye(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Se(this.props,!1);return r&&r.map(function(f,d){var p=d===l,m=p?u:a,g=yt(yt(yt({},c),f),{},{isActive:p,option:m,index:d,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return V.createElement(pt,_m({className:"recharts-bar-rectangle"},kp(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),V.createElement(TO,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state.prevData;return V.createElement(yl,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=o.map(function(b,y){var v=d&&d[y];if(v){var x=mr(v.x,b.x),O=mr(v.y,b.y),S=mr(v.width,b.width),A=mr(v.height,b.height);return yt(yt({},b),{},{x:x(m),y:O(m),width:S(m),height:A(m)})}if(a==="horizontal"){var E=mr(0,b.height),T=E(m);return yt(yt({},b),{},{y:b.y+b.height-T,height:T})}var P=mr(0,b.width),N=P(m);return yt(yt({},b),{},{width:N})});return V.createElement(pt,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Yg(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Se(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,d=vye(u,yye);if(!f)return null;var p=yt(yt(yt(yt(yt({},d),{},{fill:"#eee"},f),l),kp(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return V.createElement(TO,_m({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=nr(c,sh);if(!f)return null;var d=u==="vertical"?a[0].height/2:a[0].width/2,p=function(b,y){var v=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:v,errorVal:Dn(b,y)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return V.createElement(pt,m,f.map(function(g){return V.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,d=r.height,p=r.isAnimationActive,m=r.background,g=r.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,y=Ae("recharts-bar",a),v=s&&s.allowDataOverflow,x=l&&l.allowDataOverflow,O=v||x,S=_e(g)?this.id:g;return V.createElement(pt,{className:y},v||x?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(S)},V.createElement("rect",{x:v?u:u-f/2,y:x?c:c-d/2,width:v?f:f*2,height:x?d:d*2}))):null,V.createElement(pt,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(S,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,S),(!p||b)&&xo.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(j.PureComponent);s4=lh;so(lh,"displayName","Bar");so(lh,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!_i.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});so(lh,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,d=t.offset,p=Zfe(r,n);if(!p)return null;var m=e.layout,g=n.type.defaultProps,b=g!==void 0?yt(yt({},g),n.props):n.props,y=b.dataKey,v=b.children,x=b.minPointSize,O=m==="horizontal"?a:o,S=u?O.scale.domain():null,A=she({numericAxis:O}),E=nr(v,D$),T=f.map(function(P,N){var R,C,k,$,L,U;u?R=ehe(u[c+N],S):(R=Dn(P,y),Array.isArray(R)||(R=[A,R]));var F=gye(x,s4.defaultProps.minPointSize)(R[1],N);if(m==="horizontal"){var D,B=[a.scale(R[0]),a.scale(R[1])],W=B[0],Q=B[1];C=PC({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:P,index:N}),k=(D=Q??W)!==null&&D!==void 0?D:void 0,$=p.size;var X=W-Q;if(L=Number.isNaN(X)?0:X,U={x:C,y:a.y,width:$,height:a.height},Math.abs(F)>0&&Math.abs(L)<Math.abs(F)){var re=vr(L||F)*(Math.abs(F)-Math.abs(L));k-=re,L+=re}}else{var ye=[o.scale(R[0]),o.scale(R[1])],Ne=ye[0],Be=ye[1];if(C=Ne,k=PC({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:P,index:N}),$=Be-Ne,L=p.size,U={x:o.x,y:k,width:o.width,height:L},Math.abs(F)>0&&Math.abs($)<Math.abs(F)){var Gt=vr($||F)*(Math.abs(F)-Math.abs($));$+=Gt}}return yt(yt(yt({},P),{},{x:C,y:k,width:$,height:L,value:u?R:R[1],payload:P,background:U},E&&E[N]&&E[N].props),{},{tooltipPayload:[BL(n,P)],tooltipPosition:{x:C+$/2,y:k+L/2}})});return yt({data:T,layout:m},d)});function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function Iye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c4(r.key),r)}}function Pye(t,e,n){return e&&PO(t.prototype,e),n&&PO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(n),!0).forEach(function(r){ty(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ty(t,e,n){return e=c4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c4(t){var e=Cye(t,"string");return Pf(e)=="symbol"?e:e+""}function Cye(t,e){if(Pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oye=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!Cn(u,lh);return c.reduce(function(p,m){var g=n[m],b=g.orientation,y=g.domain,v=g.padding,x=v===void 0?{}:v,O=g.mirror,S=g.reversed,A="".concat(b).concat(O?"Mirror":""),E,T,P,N,R;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var C=y[1]-y[0],k=1/0,$=g.categoricalDomain.sort(jX);if($.forEach(function(ye,Ne){Ne>0&&(k=Math.min((ye||0)-($[Ne-1]||0),k))}),Number.isFinite(k)){var L=k/C,U=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(E=L*U/2),g.padding==="no-gap"){var F=ja(e.barCategoryGap,L*U),D=L*U/2;E=D-F-(D-F)/U*F}}}i==="xAxis"?T=[r.left+(x.left||0)+(E||0),r.left+r.width-(x.right||0)-(E||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(E||0),r.top+r.height-(x.bottom||0)-(E||0)]:T=g.range,S&&(T=[T[1],T[0]]);var B=Qfe(g,o,d),W=B.scale,Q=B.realScaleType;W.domain(y).range(T),Jfe(W);var X=ahe(W,hr(hr({},g),{},{realScaleType:Q}));i==="xAxis"?(R=b==="top"&&!O||b==="bottom"&&O,P=r.left,N=f[A]-R*g.height):i==="yAxis"&&(R=b==="left"&&!O||b==="right"&&O,P=f[A]-R*g.width,N=r.top);var re=hr(hr(hr({},g),X),{},{realScaleType:Q,x:P,y:N,scale:W,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return re.bandSize=am(re,X),!g.hide&&i==="xAxis"?f[A]+=(R?-1:1)*re.height:g.hide||(f[A]+=(R?-1:1)*re.width),hr(hr({},p),{},ty({},m,re))},{})},f4=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},kye=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return f4({x:n,y:r},{x:i,y:o})},h4=function(){function t(e){Iye(this,t),this.scale=e}return Pye(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();ty(h4,"EPS",1e-4);var Zx=function(e){var n=Object.keys(e).reduce(function(r,i){return hr(hr({},r),{},ty({},i,h4.create(e[i])))},{});return hr(hr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Xge(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return a4(i,function(o,a){return n[a].isInRange(o)})}})};function Rye(t){return(t%180+180)%180}var Nye=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Rye(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Mye=zo,jye=nh,Dye=Lg;function $ye(t){return function(e,n,r){var i=Object(e);if(!jye(e)){var o=Mye(n);e=Dye(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var Lye=$ye,Vye=n4;function Fye(t){var e=Vye(t),n=e%1;return e===e?n?e-n:e:0}var Bye=Fye,Uye=b$,zye=zo,Hye=Bye,Wye=Math.max;function qye(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Hye(n);return i<0&&(i=Wye(r+i,0)),Uye(t,zye(e),i)}var Gye=qye,Kye=Lye,Yye=Gye,Xye=Kye(Yye),Qye=Xye;const Jye=$e(Qye);var Zye=DY(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),eE=j.createContext(void 0),tE=j.createContext(void 0),d4=j.createContext(void 0),p4=j.createContext({}),m4=j.createContext(void 0),g4=j.createContext(0),y4=j.createContext(0),OO=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=Zye(o);return V.createElement(eE.Provider,{value:r},V.createElement(tE.Provider,{value:i},V.createElement(p4.Provider,{value:o},V.createElement(d4.Provider,{value:c},V.createElement(m4.Provider,{value:a},V.createElement(g4.Provider,{value:u},V.createElement(y4.Provider,{value:l},s)))))))},eve=function(){return j.useContext(m4)},v4=function(e){var n=j.useContext(eE);n==null&&$a(!1);var r=n[e];return r==null&&$a(!1),r},tve=function(){var e=j.useContext(eE);return ro(e)},nve=function(){var e=j.useContext(tE),n=Jye(e,function(r){return a4(r.domain,Number.isFinite)});return n||ro(e)},_4=function(e){var n=j.useContext(tE);n==null&&$a(!1);var r=n[e];return r==null&&$a(!1),r},rve=function(){var e=j.useContext(d4);return e},ive=function(){return j.useContext(p4)},nE=function(){return j.useContext(y4)},rE=function(){return j.useContext(g4)};function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function ove(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b4(r.key),r)}}function ave(t,e,n){return e&&kO(t.prototype,e),n&&kO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sve(t,e,n){return e=bm(e),lve(t,w4()?Reflect.construct(e,n||[],bm(t).constructor):e.apply(t,n))}function lve(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uve(t)}function uve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w4=function(){return!!t})()}function bm(t){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bm(t)}function cve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sw(t,e)}function Sw(t,e){return Sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sw(t,e)}function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){iE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iE(t,e,n){return e=b4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b4(t){var e=fve(t,"string");return bl(e)=="symbol"?e:e+""}function fve(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hve(t,e){return gve(t)||mve(t,e)||pve(t,e)||dve()}function dve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pve(t,e){if(t){if(typeof t=="string")return MO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MO(t,e)}}function MO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function gve(t){if(Array.isArray(t))return t}function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tw.apply(this,arguments)}var yve=function(e,n){var r;return V.isValidElement(e)?r=V.cloneElement(e,n):ge(e)?r=e(n):r=V.createElement("line",Tw({},n,{className:"recharts-reference-line-line"})),r},vve=function(e,n,r,i,o,a,s,l,u){var c=o.x,f=o.y,d=o.width,p=o.height;if(r){var m=u.y,g=e.y.apply(m,{position:a});if(Xr(u,"discard")&&!e.y.isInRange(g))return null;var b=[{x:c+d,y:g},{x:c,y:g}];return l==="left"?b.reverse():b}if(n){var y=u.x,v=e.x.apply(y,{position:a});if(Xr(u,"discard")&&!e.x.isInRange(v))return null;var x=[{x:v,y:f+p},{x:v,y:f}];return s==="top"?x.reverse():x}if(i){var O=u.segment,S=O.map(function(A){return e.apply(A,{position:a})});return Xr(u,"discard")&&Uge(S,function(A){return!e.isInRange(A)})?null:S}return null};function _ve(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=eve(),c=v4(i),f=_4(o),d=rve();if(!u||!d)return null;vi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Zx({x:c.scale,y:f.scale}),m=It(e),g=It(n),b=r&&r.length===2,y=vve(p,m,g,b,d,t.position,c.orientation,f.orientation,t);if(!y)return null;var v=hve(y,2),x=v[0],O=x.x,S=x.y,A=v[1],E=A.x,T=A.y,P=Xr(t,"hidden")?"url(#".concat(u,")"):void 0,N=NO(NO({clipPath:P},Se(t,!0)),{},{x1:O,y1:S,x2:E,y2:T});return V.createElement(pt,{className:Ae("recharts-reference-line",s)},yve(a,N),tn.renderCallByParent(t,kye({x1:O,y1:S,x2:E,y2:T})))}var oE=function(t){function e(){return ove(this,e),sve(this,e,arguments)}return cve(e,t),ave(e,[{key:"render",value:function(){return V.createElement(_ve,this.props)}}])}(V.Component);iE(oE,"displayName","ReferenceLine");iE(oE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Aw(){return Aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aw.apply(this,arguments)}function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function jO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(n),!0).forEach(function(r){ny(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E4(r.key),r)}}function bve(t,e,n){return e&&$O(t.prototype,e),n&&$O(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xve(t,e,n){return e=xm(e),Eve(t,x4()?Reflect.construct(e,n||[],xm(t).constructor):e.apply(t,n))}function Eve(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sve(t)}function Sve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x4=function(){return!!t})()}function xm(t){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xm(t)}function Tve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iw(t,e)}function Iw(t,e){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Iw(t,e)}function ny(t,e,n){return e=E4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E4(t){var e=Ave(t,"string");return xl(e)=="symbol"?e:e+""}function Ave(t,e){if(xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ive=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=Zx({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Xr(e,"discard")&&!a.isInRange(s)?null:s},ry=function(t){function e(){return wve(this,e),xve(this,e,arguments)}return Tve(e,t),bve(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=It(i),c=It(o);if(vi(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=Ive(this.props);if(!f)return null;var d=f.x,p=f.y,m=this.props,g=m.shape,b=m.className,y=Xr(this.props,"hidden")?"url(#".concat(l,")"):void 0,v=DO(DO({clipPath:y},Se(this.props,!0)),{},{cx:d,cy:p});return V.createElement(pt,{className:Ae("recharts-reference-dot",b)},e.renderDot(g,v),tn.renderCallByParent(this.props,{x:d-a,y:p-a,width:2*a,height:2*a}))}}])}(V.Component);ny(ry,"displayName","ReferenceDot");ny(ry,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ny(ry,"renderDot",function(t,e){var n;return V.isValidElement(t)?n=V.cloneElement(t,e):ge(t)?n=t(e):n=V.createElement(Jx,Aw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pw.apply(this,arguments)}function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function LO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(n),!0).forEach(function(r){iy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T4(r.key),r)}}function Cve(t,e,n){return e&&FO(t.prototype,e),n&&FO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ove(t,e,n){return e=Em(e),kve(t,S4()?Reflect.construct(e,n||[],Em(t).constructor):e.apply(t,n))}function kve(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rve(t)}function Rve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S4=function(){return!!t})()}function Em(t){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Em(t)}function Nve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cw(t,e)}function Cw(t,e){return Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cw(t,e)}function iy(t,e,n){return e=T4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T4(t){var e=Mve(t,"string");return El(e)=="symbol"?e:e+""}function Mve(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jve=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var d=Zx({x:c.scale,y:f.scale}),p={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},m={x:n?d.x.apply(s,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(u,{position:"end"}):d.y.rangeMax};return Xr(o,"discard")&&(!d.isInRange(p)||!d.isInRange(m))?null:f4(p,m)},oy=function(t){function e(){return Pve(this,e),Ove(this,e,arguments)}return Nve(e,t),Cve(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;vi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=It(i),d=It(o),p=It(a),m=It(s),g=this.props.shape;if(!f&&!d&&!p&&!m&&!g)return null;var b=jve(f,d,p,m,this.props);if(!b&&!g)return null;var y=Xr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return V.createElement(pt,{className:Ae("recharts-reference-area",l)},e.renderRect(g,VO(VO({clipPath:y},Se(this.props,!0)),b)),tn.renderCallByParent(this.props,b))}}])}(V.Component);iy(oy,"displayName","ReferenceArea");iy(oy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});iy(oy,"renderRect",function(t,e){var n;return V.isValidElement(t)?n=V.cloneElement(t,e):ge(t)?n=t(e):n=V.createElement(Qx,Pw({},e,{className:"recharts-reference-area-rect"})),n});function A4(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function Dve(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Nye(r,n)}function $ve(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Sm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Lve(t,e){return A4(t,e+1)}function Vve(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:A4(r,u)};var g=l,b,y=function(){return b===void 0&&(b=n(m,g)),b},v=m.coordinate,x=l===0||Sm(t,v,y,c,s);x||(l=0,c=a,u+=1),x&&(c=v+t*(y()/2+i),l+=u)},d;u<=o.length;)if(d=f(),d)return d.v;return[]}function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function BO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(n),!0).forEach(function(r){Fve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fve(t,e,n){return e=Bve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bve(t){var e=Uve(t,"string");return Cf(e)=="symbol"?e:e+""}function Uve(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zve(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(d){var p=o[d],m,g=function(){return m===void 0&&(m=n(p,d)),m};if(d===a-1){var b=t*(p.coordinate+t*g()/2-l);o[d]=p=Qt(Qt({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate})}else o[d]=p=Qt(Qt({},p),{},{tickCoord:p.coordinate});var y=Sm(t,p.tickCoord,g,s,l);y&&(l=p.tickCoord-t*(g()/2+i),o[d]=Qt(Qt({},p),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function Hve(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],f=n(c,s-1),d=t*(c.coordinate+t*f/2-u);a[s-1]=c=Qt(Qt({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var p=Sm(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),a[s-1]=Qt(Qt({},c),{},{isShow:!0}))}for(var m=o?s-1:s,g=function(v){var x=a[v],O,S=function(){return O===void 0&&(O=n(x,v)),O};if(v===0){var A=t*(x.coordinate-t*S()/2-l);a[v]=x=Qt(Qt({},x),{},{tickCoord:A<0?x.coordinate-A*t:x.coordinate})}else a[v]=x=Qt(Qt({},x),{},{tickCoord:x.coordinate});var E=Sm(t,x.tickCoord,S,l,u);E&&(l=x.tickCoord+t*(S()/2+i),a[v]=Qt(Qt({},x),{},{isShow:!0}))},b=0;b<m;b++)g(b);return a}function aE(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ee(l)||_i.isSsr)return Lve(i,typeof l=="number"&&ee(l)?l:0);var d=[],p=s==="top"||s==="bottom"?"width":"height",m=c&&p==="width"?gc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(x,O){var S=ge(u)?u(x.value,O):x.value;return p==="width"?Dve(gc(S,{fontSize:e,letterSpacing:n}),m,f):gc(S,{fontSize:e,letterSpacing:n})[p]},b=i.length>=2?vr(i[1].coordinate-i[0].coordinate):1,y=$ve(o,b,p);return l==="equidistantPreserveStart"?Vve(b,y,g,i,a):(l==="preserveStart"||l==="preserveStartEnd"?d=Hve(b,y,g,i,a,l==="preserveStartEnd"):d=zve(b,y,g,i,a),d.filter(function(v){return v.isShow}))}var Wve=["viewBox"],qve=["viewBox"],Gve=["ticks"];function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function As(){return As=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},As.apply(this,arguments)}function UO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(n),!0).forEach(function(r){sE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hv(t,e){if(t==null)return{};var n=Kve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Yve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P4(r.key),r)}}function Xve(t,e,n){return e&&zO(t.prototype,e),n&&zO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qve(t,e,n){return e=Tm(e),Jve(t,I4()?Reflect.construct(e,n||[],Tm(t).constructor):e.apply(t,n))}function Jve(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zve(t)}function Zve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I4=function(){return!!t})()}function Tm(t){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tm(t)}function e0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ow(t,e)}function Ow(t,e){return Ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ow(t,e)}function sE(t,e,n){return e=P4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P4(t){var e=t0e(t,"string");return Sl(e)=="symbol"?e:e+""}function t0e(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tu=function(t){function e(n){var r;return Yve(this,e),r=Qve(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return e0e(e,t),Xve(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Hv(r,Wve),s=this.props,l=s.viewBox,u=Hv(s,qve);return!Us(o,l)||!Us(a,u)||!Us(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,d=i.tickMargin,p,m,g,b,y,v,x=f?-1:1,O=r.tickSize||c,S=ee(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=m=r.coordinate,b=a+ +!f*l,g=b-x*O,v=g-x*d,y=S;break;case"left":g=b=r.coordinate,m=o+ +!f*s,p=m-x*O,y=p-x*d,v=S;break;case"right":g=b=r.coordinate,m=o+ +f*s,p=m+x*O,y=p+x*d,v=S;break;default:p=m=r.coordinate,b=a+ +f*l,g=b+x*O,v=g+x*d,y=S;break}return{line:{x1:p,y1:g,x2:m,y2:b},tick:{x:y,y:v}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=Et(Et(Et({},Se(this.props,!1)),Se(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!u||l==="bottom"&&u);f=Et(Et({},f),{},{x1:i,y1:o+d*s,x2:i+a,y2:o+d*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=Et(Et({},f),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return V.createElement("line",As({},f,{className:Ae("recharts-cartesian-axis-line",tr(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,d=s.unit,p=aE(Et(Et({},this.props),{},{ticks:r}),i,o),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),b=Se(this.props,!1),y=Se(c,!1),v=Et(Et({},b),{},{fill:"none"},Se(l,!1)),x=p.map(function(O,S){var A=a.getTickLineCoord(O),E=A.line,T=A.tick,P=Et(Et(Et(Et({textAnchor:m,verticalAnchor:g},b),{},{stroke:"none",fill:u},y),T),{},{index:S,payload:O,visibleTicksCount:p.length,tickFormatter:f});return V.createElement(pt,As({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},kp(a.props,O,S)),l&&V.createElement("line",As({},v,E,{className:Ae("recharts-cartesian-axis-tick-line",tr(l,"className"))})),c&&e.renderTickItem(c,P,"".concat(ge(f)?f(O.value,S):O.value).concat(d||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,d=f.ticks,p=Hv(f,Gve),m=d;return ge(l)&&(m=d&&d.length>0?l(this.props):l(p)),a<=0||s<=0||!m||!m.length?null:V.createElement(pt,{className:Ae("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),tn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=Ae(i.className,"recharts-cartesian-axis-tick-value");return V.isValidElement(r)?a=V.cloneElement(r,Et(Et({},i),{},{className:s})):ge(r)?a=r(Et(Et({},i),{},{className:s})):a=V.createElement(Wp,As({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(j.Component);sE(tu,"displayName","CartesianAxis");sE(tu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var n0e=["x1","y1","x2","y2","key"],r0e=["offset"];function La(t){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},La(t)}function HO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(n),!0).forEach(function(r){i0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i0e(t,e,n){return e=o0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o0e(t){var e=a0e(t,"string");return La(e)=="symbol"?e:e+""}function a0e(t,e){if(La(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(La(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ma(){return ma=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ma.apply(this,arguments)}function WO(t,e){if(t==null)return{};var n=s0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function s0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var l0e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return V.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function C4(t,e){var n;if(V.isValidElement(t))n=V.cloneElement(t,e);else if(ge(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=WO(e,n0e),u=Se(l,!1);u.offset;var c=WO(u,r0e);n=V.createElement("line",ma({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function u0e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=nn(nn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return C4(i,u)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function c0e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=nn(nn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return C4(i,u)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function f0e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var m=!c[p+1],g=m?i+a-d:c[p+1]-d;if(g<=0)return null;var b=p%e.length;return V.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:g,width:o,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function h0e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(d){return Math.round(d+o-o)}).sort(function(d,p){return d-p});o!==c[0]&&c.unshift(0);var f=c.map(function(d,p){var m=!c[p+1],g=m?o+s-d:c[p+1]-d;if(g<=0)return null;var b=p%r.length;return V.createElement("rect",{key:"react-".concat(p),x:d,y:a,width:g,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var d0e=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return VL(aE(nn(nn(nn({},tu.defaultProps),r),{},{ticks:hi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},p0e=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return VL(aE(nn(nn(nn({},tu.defaultProps),r),{},{ticks:hi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},os={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function O4(t){var e,n,r,i,o,a,s=nE(),l=rE(),u=ive(),c=nn(nn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:os.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:os.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:os.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:os.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:os.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:os.verticalFill,x:ee(t.x)?t.x:u.left,y:ee(t.y)?t.y:u.top,width:ee(t.width)?t.width:u.width,height:ee(t.height)?t.height:u.height}),f=c.x,d=c.y,p=c.width,m=c.height,g=c.syncWithTicks,b=c.horizontalValues,y=c.verticalValues,v=tve(),x=nve();if(!ee(p)||p<=0||!ee(m)||m<=0||!ee(f)||f!==+f||!ee(d)||d!==+d)return null;var O=c.verticalCoordinatesGenerator||d0e,S=c.horizontalCoordinatesGenerator||p0e,A=c.horizontalPoints,E=c.verticalPoints;if((!A||!A.length)&&ge(S)){var T=b&&b.length,P=S({yAxis:x?nn(nn({},x),{},{ticks:T?b:x.ticks}):void 0,width:s,height:l,offset:u},T?!0:g);vi(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(La(P),"]")),Array.isArray(P)&&(A=P)}if((!E||!E.length)&&ge(O)){var N=y&&y.length,R=O({xAxis:v?nn(nn({},v),{},{ticks:N?y:v.ticks}):void 0,width:s,height:l,offset:u},N?!0:g);vi(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(La(R),"]")),Array.isArray(R)&&(E=R)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(l0e,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),V.createElement(u0e,ma({},c,{offset:u,horizontalPoints:A,xAxis:v,yAxis:x})),V.createElement(c0e,ma({},c,{offset:u,verticalPoints:E,xAxis:v,yAxis:x})),V.createElement(f0e,ma({},c,{horizontalPoints:A})),V.createElement(h0e,ma({},c,{verticalPoints:E})))}O4.displayName="CartesianGrid";var m0e=["type","layout","connectNulls","ref"],g0e=["key"];function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function qO(t,e){if(t==null)return{};var n=y0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function y0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wc(){return wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wc.apply(this,arguments)}function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){dr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function as(t){return b0e(t)||w0e(t)||_0e(t)||v0e()}function v0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _0e(t,e){if(t){if(typeof t=="string")return kw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kw(t,e)}}function w0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function b0e(t){if(Array.isArray(t))return kw(t)}function kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function x0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R4(r.key),r)}}function E0e(t,e,n){return e&&KO(t.prototype,e),n&&KO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function S0e(t,e,n){return e=Am(e),T0e(t,k4()?Reflect.construct(e,n||[],Am(t).constructor):e.apply(t,n))}function T0e(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A0e(t)}function A0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k4=function(){return!!t})()}function Am(t){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Am(t)}function I0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rw(t,e)}function Rw(t,e){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rw(t,e)}function dr(t,e,n){return e=R4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R4(t){var e=P0e(t,"string");return Tl(e)=="symbol"?e:e+""}function P0e(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uh=function(t){function e(){var n;x0e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=S0e(this,e,[].concat(i)),dr(n,"state",{isAnimationFinished:!0,totalLength:0}),dr(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),dr(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(y,v){return y+v});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/u),f=a%u,d=s-a,p=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>f){p=[].concat(as(l.slice(0,m)),[f-g]);break}var b=p.length%2===0?[0,d]:[d];return[].concat(as(e.repeat(l,c)),as(p),b).map(function(y){return"".concat(y,"px")}).join(", ")}),dr(n,"id",th("recharts-line-")),dr(n,"pathRef",function(a){n.mainCurve=a}),dr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),dr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return I0e(e,t),E0e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=nr(c,sh);if(!f)return null;var d=function(g,b){return{x:g.x,y:g.y,value:g.value,errorVal:Dn(g.payload,b)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return V.createElement(pt,p,f.map(function(m){return V.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,f=Se(this.props,!1),d=Se(l,!0),p=u.map(function(g,b){var y=An(An(An({key:"dot-".concat(b),r:3},f),d),{},{index:b,cx:g.x,cy:g.y,value:g.value,dataKey:c,payload:g.payload,points:u});return e.renderDotItem(l,y)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return V.createElement(pt,wc({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var f=qO(s,m0e),d=An(An(An({},Se(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:c});return V.createElement(uw,wc({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,c=a.animationBegin,f=a.animationDuration,d=a.animationEasing,p=a.animationId,m=a.animateNewValues,g=a.width,b=a.height,y=this.state,v=y.prevPoints,x=y.totalLength;return V.createElement(yl,{begin:c,duration:f,isActive:u,easing:d,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var S=O.t;if(v){var A=v.length/s.length,E=s.map(function(C,k){var $=Math.floor(k*A);if(v[$]){var L=v[$],U=mr(L.x,C.x),F=mr(L.y,C.y);return An(An({},C),{},{x:U(S),y:F(S)})}if(m){var D=mr(g*2,C.x),B=mr(b/2,C.y);return An(An({},C),{},{x:D(S),y:B(S)})}return An(An({},C),{},{x:C.x,y:C.y})});return o.renderCurveStatically(E,r,i)}var T=mr(0,x),P=T(S),N;if(l){var R="".concat(l).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});N=o.getStrokeDasharray(P,x,R)}else N=o.generateSimpleStrokeDasharray(x,P);return o.renderCurveStatically(s,r,i,{strokeDasharray:N})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&a&&a.length&&(!u&&c>0||!Yg(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,d=i.left,p=i.width,m=i.height,g=i.isAnimationActive,b=i.id;if(o||!s||!s.length)return null;var y=this.state.isAnimationFinished,v=s.length===1,x=Ae("recharts-line",l),O=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,A=O||S,E=_e(b)?this.id:b,T=(r=Se(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=T.r,N=P===void 0?3:P,R=T.strokeWidth,C=R===void 0?2:R,k=HX(a)?a:{},$=k.clipDot,L=$===void 0?!0:$,U=N*2+C;return V.createElement(pt,{className:x},O||S?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(E)},V.createElement("rect",{x:O?d:d-p/2,y:S?f:f-m/2,width:O?p:p*2,height:S?m:m*2})),!L&&V.createElement("clipPath",{id:"clipPath-dots-".concat(E)},V.createElement("rect",{x:d-U/2,y:f-U/2,width:p+U,height:m+U}))):null,!v&&this.renderCurve(A,E),this.renderErrorBar(A,E),(v||a)&&this.renderDots(A,L,E),(!g||y)&&xo.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(as(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(as(a),as(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(V.isValidElement(r))o=V.cloneElement(r,i);else if(ge(r))o=r(i);else{var a=i.key,s=qO(i,g0e),l=Ae("recharts-line-dot",typeof r!="boolean"?r.className:"");o=V.createElement(Jx,wc({key:a},s,{className:l}))}return o}}])}(j.PureComponent);dr(uh,"displayName","Line");dr(uh,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!_i.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});dr(uh,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(d,p){var m=Dn(d,a);return c==="horizontal"?{x:IC({axis:n,ticks:i,bandSize:s,entry:d,index:p}),y:_e(m)?null:r.scale(m),value:m,payload:d}:{x:_e(m)?null:n.scale(m),y:IC({axis:r,ticks:o,bandSize:s,entry:d,index:p}),value:m,payload:d}});return An({points:f,layout:c},u)});function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function C0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j4(r.key),r)}}function O0e(t,e,n){return e&&YO(t.prototype,e),n&&YO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function k0e(t,e,n){return e=Im(e),R0e(t,N4()?Reflect.construct(e,n||[],Im(t).constructor):e.apply(t,n))}function R0e(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N0e(t)}function N0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N4=function(){return!!t})()}function Im(t){return Im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Im(t)}function M0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nw(t,e)}function Nw(t,e){return Nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Nw(t,e)}function M4(t,e,n){return e=j4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j4(t){var e=j0e(t,"string");return Al(e)=="symbol"?e:e+""}function j0e(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mw.apply(this,arguments)}function D0e(t){var e=t.xAxisId,n=nE(),r=rE(),i=v4(e);return i==null?null:j.createElement(tu,Mw({},i,{className:Ae("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return hi(a,!0)}}))}var ay=function(t){function e(){return C0e(this,e),k0e(this,e,arguments)}return M0e(e,t),O0e(e,[{key:"render",value:function(){return j.createElement(D0e,this.props)}}])}(j.Component);M4(ay,"displayName","XAxis");M4(ay,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function $0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L4(r.key),r)}}function L0e(t,e,n){return e&&XO(t.prototype,e),n&&XO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function V0e(t,e,n){return e=Pm(e),F0e(t,D4()?Reflect.construct(e,n||[],Pm(t).constructor):e.apply(t,n))}function F0e(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B0e(t)}function B0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D4=function(){return!!t})()}function Pm(t){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pm(t)}function U0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jw(t,e)}function jw(t,e){return jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jw(t,e)}function $4(t,e,n){return e=L4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L4(t){var e=z0e(t,"string");return Il(e)=="symbol"?e:e+""}function z0e(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dw.apply(this,arguments)}var H0e=function(e){var n=e.yAxisId,r=nE(),i=rE(),o=_4(n);return o==null?null:j.createElement(tu,Dw({},o,{className:Ae("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return hi(s,!0)}}))},sy=function(t){function e(){return $0e(this,e),V0e(this,e,arguments)}return U0e(e,t),L0e(e,[{key:"render",value:function(){return j.createElement(H0e,this.props)}}])}(j.Component);$4(sy,"displayName","YAxis");$4(sy,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function QO(t){return K0e(t)||G0e(t)||q0e(t)||W0e()}function W0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q0e(t,e){if(t){if(typeof t=="string")return $w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $w(t,e)}}function G0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function K0e(t){if(Array.isArray(t))return $w(t)}function $w(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Lw=function(e,n,r,i,o){var a=nr(e,oE),s=nr(e,ry),l=[].concat(QO(a),QO(s)),u=nr(e,oy),c="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(g,b){if(b.props[c]===r&&Xr(b.props,"extendDomain")&&ee(b.props[f])){var y=b.props[f];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},d)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");d=u.reduce(function(g,b){if(b.props[c]===r&&Xr(b.props,"extendDomain")&&ee(b.props[p])&&ee(b.props[m])){var y=b.props[p],v=b.props[m];return[Math.min(g[0],y,v),Math.max(g[1],y,v)]}return g},d)}return o&&o.length&&(d=o.reduce(function(g,b){return ee(b)?[Math.min(g[0],b),Math.max(g[1],b)]:g},d)),d},V4={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,d),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,m=new Array(p);d<p;d++)m[d]=f[d].fn;return m},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,d,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var b=this._events[g],y=arguments.length,v,x;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,f),!0;case 4:return b.fn.call(b.context,c,f,d),!0;case 5:return b.fn.call(b.context,c,f,d,p),!0;case 6:return b.fn.call(b.context,c,f,d,p,m),!0}for(x=1,v=new Array(y-1);x<y;x++)v[x-1]=arguments[x];b.fn.apply(b.context,v)}else{var O=b.length,S;for(x=0;x<O;x++)switch(b[x].once&&this.removeListener(u,b[x].fn,void 0,!0),y){case 1:b[x].fn.call(b[x].context);break;case 2:b[x].fn.call(b[x].context,c);break;case 3:b[x].fn.call(b[x].context,c,f);break;case 4:b[x].fn.call(b[x].context,c,f,d);break;default:if(!v)for(S=1,v=new Array(y-1);S<y;S++)v[S-1]=arguments[S];b[x].fn.apply(b[x].context,v)}}return!0},s.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!d||m.once)&&(!f||m.context===f)&&a(this,p);else{for(var g=0,b=[],y=m.length;g<y;g++)(m[g].fn!==c||d&&!m[g].once||f&&m[g].context!==f)&&b.push(m[g]);b.length?this._events[p]=b.length===1?b[0]:b:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(V4);var Y0e=V4.exports;const X0e=$e(Y0e);var Wv=new X0e,qv="recharts.syncMouseEvents";function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function Q0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F4(r.key),r)}}function J0e(t,e,n){return e&&JO(t.prototype,e),n&&JO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gv(t,e,n){return e=F4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F4(t){var e=Z0e(t,"string");return Of(e)=="symbol"?e:e+""}function Z0e(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e_e=function(){function t(){Q0e(this,t),Gv(this,"activeIndex",0),Gv(this,"coordinateList",[]),Gv(this,"layout","horizontal")}return J0e(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,d=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function t_e(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ee(r)&&ee(i))return!0}return!1}function n_e(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function B4(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=zt(e,n,r,i),s=zt(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function r_e(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,d=zt(s,l,u,f),p=zt(s,l,c,f);r=d.x,i=d.y,o=p.x,a=p.y}else return B4(e);return[{x:r,y:i},{x:o,y:a}]}function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){i_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i_e(t,e,n){return e=o_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o_e(t){var e=a_e(t,"string");return kf(e)=="symbol"?e:e+""}function a_e(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s_e(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||d!=="ScatterChart"&&i!=="axis")return null;var m,g=uw;if(d==="ScatterChart")m=a,g=hme;else if(d==="BarChart")m=n_e(f,a,l,c),g=Qx;else if(f==="radial"){var b=B4(a),y=b.cx,v=b.cy,x=b.radius,O=b.startAngle,S=b.endAngle;m={cx:y,cy:v,startAngle:O,endAngle:S,innerRadius:x,outerRadius:x},g=HL}else m={points:r_e(f,a,l)},g=uw;var A=sd(sd(sd(sd({stroke:"#ccc",pointerEvents:"none"},l),m),Se(p,!1)),{},{payload:s,payloadIndex:u,className:Ae("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,A):j.createElement(g,A)}var l_e=["item"],u_e=["children","className","width","height","style","compact","title","desc"];function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function Is(){return Is=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Is.apply(this,arguments)}function ek(t,e){return h_e(t)||f_e(t,e)||z4(t,e)||c_e()}function c_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function h_e(t){if(Array.isArray(t))return t}function tk(t,e){if(t==null)return{};var n=d_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function d_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function p_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H4(r.key),r)}}function m_e(t,e,n){return e&&nk(t.prototype,e),n&&nk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function g_e(t,e,n){return e=Cm(e),y_e(t,U4()?Reflect.construct(e,n||[],Cm(t).constructor):e.apply(t,n))}function y_e(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v_e(t)}function v_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U4=function(){return!!t})()}function Cm(t){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cm(t)}function __e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vw(t,e)}function Vw(t,e){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vw(t,e)}function Cl(t){return x_e(t)||b_e(t)||z4(t)||w_e()}function w_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z4(t,e){if(t){if(typeof t=="string")return Fw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fw(t,e)}}function b_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x_e(t){if(Array.isArray(t))return Fw(t)}function Fw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(n),!0).forEach(function(r){le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function le(t,e,n){return e=H4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H4(t){var e=E_e(t,"string");return Pl(e)=="symbol"?e:e+""}function E_e(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S_e={xAxis:["bottom","top"],yAxis:["left","right"]},T_e={width:"100%",height:"100%"},W4={x:0,y:0};function ld(t){return t}var A_e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},I_e=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return q(q(q({},i),zt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return q(q(q({},i),zt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return W4},ly=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Cl(s),Cl(u)):s},[]);return a.length>0?a:e&&e.length&&ee(i)&&ee(o)?e.slice(i,o+1):[]};function q4(t){return t==="number"?[0,"auto"]:void 0}var Bw=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=ly(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?s:f;d=Cp(p,a.dataKey,i)}else d=f&&f[r]||s[r];return d?[].concat(Cl(l),[BL(u,d)]):l},[])},ik=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=A_e(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Wfe(a,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,d=Bw(e,n,c,f),p=I_e(r,s,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:p}}return null},P_e=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=e.stackOffset,p=LL(c,o);return r.reduce(function(m,g){var b,y=g.type.defaultProps!==void 0?q(q({},g.type.defaultProps),g.props):g.props,v=y.type,x=y.dataKey,O=y.allowDataOverflow,S=y.allowDuplicatedCategory,A=y.scale,E=y.ticks,T=y.includeHidden,P=y[a];if(m[P])return m;var N=ly(e.data,{graphicalItems:i.filter(function(X){var re,ye=a in X.props?X.props[a]:(re=X.type.defaultProps)===null||re===void 0?void 0:re[a];return ye===P}),dataStartIndex:l,dataEndIndex:u}),R=N.length,C,k,$;t_e(y.domain,O,v)&&(C=iw(y.domain,null,O),p&&(v==="number"||A!=="auto")&&($=vc(N,x,"category")));var L=q4(v);if(!C||C.length===0){var U,F=(U=y.domain)!==null&&U!==void 0?U:L;if(x){if(C=vc(N,x,v),v==="category"&&p){var D=MX(C);S&&D?(k=C,C=gm(0,R)):S||(C=kC(F,C,g).reduce(function(X,re){return X.indexOf(re)>=0?X:[].concat(Cl(X),[re])},[]))}else if(v==="category")S?C=C.filter(function(X){return X!==""&&!_e(X)}):C=kC(F,C,g).reduce(function(X,re){return X.indexOf(re)>=0||re===""||_e(re)?X:[].concat(Cl(X),[re])},[]);else if(v==="number"){var B=Xfe(N,i.filter(function(X){var re,ye,Ne=a in X.props?X.props[a]:(re=X.type.defaultProps)===null||re===void 0?void 0:re[a],Be="hide"in X.props?X.props.hide:(ye=X.type.defaultProps)===null||ye===void 0?void 0:ye.hide;return Ne===P&&(T||!Be)}),x,o,c);B&&(C=B)}p&&(v==="number"||A!=="auto")&&($=vc(N,x,"category"))}else p?C=gm(0,R):s&&s[P]&&s[P].hasStack&&v==="number"?C=d==="expand"?[0,1]:FL(s[P].stackGroups,l,u):C=$L(N,i.filter(function(X){var re=a in X.props?X.props[a]:X.type.defaultProps[a],ye="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return re===P&&(T||!ye)}),v,c,!0);if(v==="number")C=Lw(f,C,P,o,E),F&&(C=iw(F,C,O));else if(v==="category"&&F){var W=F,Q=C.every(function(X){return W.indexOf(X)>=0});Q&&(C=W)}}return q(q({},m),{},le({},P,q(q({},y),{},{axisType:o,domain:C,categoricalDomain:$,duplicateDomain:k,originalDomain:(b=y.domain)!==null&&b!==void 0?b:L,isCategorical:p,layout:c})))},{})},C_e=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,d=ly(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=d.length,m=LL(c,o),g=-1;return r.reduce(function(b,y){var v=y.type.defaultProps!==void 0?q(q({},y.type.defaultProps),y.props):y.props,x=v[a],O=q4("number");if(!b[x]){g++;var S;return m?S=gm(0,p):s&&s[x]&&s[x].hasStack?(S=FL(s[x].stackGroups,l,u),S=Lw(f,S,x,o)):(S=iw(O,$L(d,r.filter(function(A){var E,T,P=a in A.props?A.props[a]:(E=A.type.defaultProps)===null||E===void 0?void 0:E[a],N="hide"in A.props?A.props.hide:(T=A.type.defaultProps)===null||T===void 0?void 0:T.hide;return P===x&&!N}),"number",c),i.defaultProps.allowDataOverflow),S=Lw(f,S,x,o)),q(q({},b),{},le({},x,q(q({axisType:o},i.defaultProps),{},{hide:!0,orientation:tr(S_e,"".concat(o,".").concat(g%2),null),domain:S,originalDomain:O,isCategorical:m,layout:c})))}return b},{})},O_e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),d=nr(c,o),p={};return d&&d.length?p=P_e(e,{axes:d,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=C_e(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},k_e=function(e){var n=ro(e),r=hi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Sx(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:am(n,r)}},ok=function(e){var n=e.children,r=e.defaultShowTooltip,i=Cn(n,_l),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},R_e=function(e){return!e||!e.length?!1:e.some(function(n){var r=yi(n&&n.type);return r&&r.indexOf("Bar")>=0})},ak=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},N_e=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,d=r.margin||{},p=Cn(f,_l),m=Cn(f,zs),g=Object.keys(l).reduce(function(S,A){var E=l[A],T=E.orientation;return!E.mirror&&!E.hide?q(q({},S),{},le({},T,S[T]+E.width)):S},{left:d.left||0,right:d.right||0}),b=Object.keys(a).reduce(function(S,A){var E=a[A],T=E.orientation;return!E.mirror&&!E.hide?q(q({},S),{},le({},T,tr(S,"".concat(T))+E.height)):S},{top:d.top||0,bottom:d.bottom||0}),y=q(q({},b),g),v=y.bottom;p&&(y.bottom+=p.props.height||_l.defaultProps.height),m&&n&&(y=Kfe(y,i,r,n));var x=u-y.left-y.right,O=c-y.top-y.bottom;return q(q({brushBottom:v},y),{},{width:Math.max(x,0),height:Math.max(O,0)})},M_e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},j_e=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,d=function(y,v){var x=v.graphicalItems,O=v.stackGroups,S=v.offset,A=v.updateId,E=v.dataStartIndex,T=v.dataEndIndex,P=y.barSize,N=y.layout,R=y.barGap,C=y.barCategoryGap,k=y.maxBarSize,$=ak(N),L=$.numericAxisName,U=$.cateAxisName,F=R_e(x),D=[];return x.forEach(function(B,W){var Q=ly(y.data,{graphicalItems:[B],dataStartIndex:E,dataEndIndex:T}),X=B.type.defaultProps!==void 0?q(q({},B.type.defaultProps),B.props):B.props,re=X.dataKey,ye=X.maxBarSize,Ne=X["".concat(L,"Id")],Be=X["".concat(U,"Id")],Gt={},Ot=l.reduce(function(Je,Bn){var nu=v["".concat(Bn.axisType,"Map")],ru=X["".concat(Bn.axisType,"Id")];nu&&nu[ru]||Bn.axisType==="zAxis"||$a(!1);var fh=nu[ru];return q(q({},Je),{},le(le({},Bn.axisType,fh),"".concat(Bn.axisType,"Ticks"),hi(fh)))},Gt),ne=Ot[U],he=Ot["".concat(U,"Ticks")],pe=O&&O[Ne]&&O[Ne].hasStack&&lhe(B,O[Ne].stackGroups),Y=yi(B.type).indexOf("Bar")>=0,Ue=am(ne,he),ve=[],it=F&&qfe({barSize:P,stackGroups:O,totalSize:M_e(Ot,U)});if(Y){var ut,kt,Fn=_e(ye)?k:ye,Or=(ut=(kt=am(ne,he,!0))!==null&&kt!==void 0?kt:Fn)!==null&&ut!==void 0?ut:0;ve=Gfe({barGap:R,barCategoryGap:C,bandSize:Or!==Ue?Or:Ue,sizeList:it[Be],maxBarSize:Fn}),Or!==Ue&&(ve=ve.map(function(Je){return q(q({},Je),{},{position:q(q({},Je.position),{},{offset:Je.position.offset-Or/2})})}))}var ct=B&&B.type&&B.type.getComposedData;ct&&D.push({props:q(q({},ct(q(q({},Ot),{},{displayedData:Q,props:y,dataKey:re,item:B,bandSize:Ue,barPosition:ve,offset:S,stackedData:pe,layout:N,dataStartIndex:E,dataEndIndex:T}))),{},le(le(le({key:B.key||"item-".concat(W)},L,Ot[L]),U,Ot[U]),"animationId",A)),childIndex:GX(B,y.children),item:B})}),D},p=function(y,v){var x=y.props,O=y.dataStartIndex,S=y.dataEndIndex,A=y.updateId;if(!wI({props:x}))return null;var E=x.children,T=x.layout,P=x.stackOffset,N=x.data,R=x.reverseStackOrder,C=ak(T),k=C.numericAxisName,$=C.cateAxisName,L=nr(E,r),U=ohe(N,L,"".concat(k,"Id"),"".concat($,"Id"),P,R),F=l.reduce(function(X,re){var ye="".concat(re.axisType,"Map");return q(q({},X),{},le({},ye,O_e(x,q(q({},re),{},{graphicalItems:L,stackGroups:re.axisType===k&&U,dataStartIndex:O,dataEndIndex:S}))))},{}),D=N_e(q(q({},F),{},{props:x,graphicalItems:L}),v==null?void 0:v.legendBBox);Object.keys(F).forEach(function(X){F[X]=c(x,F[X],D,X.replace("Map",""),n)});var B=F["".concat($,"Map")],W=k_e(B),Q=d(x,q(q({},F),{},{dataStartIndex:O,dataEndIndex:S,updateId:A,graphicalItems:L,stackGroups:U,offset:D}));return q(q({formattedGraphicalItems:Q,graphicalItems:L,offset:D,stackGroups:U},W),F)},m=function(b){function y(v){var x,O,S;return p_e(this,y),S=g_e(this,y,[v]),le(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),le(S,"accessibilityManager",new e_e),le(S,"handleLegendBBoxUpdate",function(A){if(A){var E=S.state,T=E.dataStartIndex,P=E.dataEndIndex,N=E.updateId;S.setState(q({legendBBox:A},p({props:S.props,dataStartIndex:T,dataEndIndex:P,updateId:N},q(q({},S.state),{},{legendBBox:A}))))}}),le(S,"handleReceiveSyncEvent",function(A,E,T){if(S.props.syncId===A){if(T===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(E)}}),le(S,"handleBrushChange",function(A){var E=A.startIndex,T=A.endIndex;if(E!==S.state.dataStartIndex||T!==S.state.dataEndIndex){var P=S.state.updateId;S.setState(function(){return q({dataStartIndex:E,dataEndIndex:T},p({props:S.props,dataStartIndex:E,dataEndIndex:T,updateId:P},S.state))}),S.triggerSyncEvent({dataStartIndex:E,dataEndIndex:T})}}),le(S,"handleMouseEnter",function(A){var E=S.getMouseInfo(A);if(E){var T=q(q({},E),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var P=S.props.onMouseEnter;ge(P)&&P(T,A)}}),le(S,"triggeredAfterMouseMove",function(A){var E=S.getMouseInfo(A),T=E?q(q({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var P=S.props.onMouseMove;ge(P)&&P(T,A)}),le(S,"handleItemMouseEnter",function(A){S.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),le(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),le(S,"handleMouseMove",function(A){A.persist(),S.throttleTriggeredAfterMouseMove(A)}),le(S,"handleMouseLeave",function(A){S.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var T=S.props.onMouseLeave;ge(T)&&T(E,A)}),le(S,"handleOuterEvent",function(A){var E=qX(A),T=tr(S.props,"".concat(E));if(E&&ge(T)){var P,N;/.*touch.*/i.test(E)?N=S.getMouseInfo(A.changedTouches[0]):N=S.getMouseInfo(A),T((P=N)!==null&&P!==void 0?P:{},A)}}),le(S,"handleClick",function(A){var E=S.getMouseInfo(A);if(E){var T=q(q({},E),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var P=S.props.onClick;ge(P)&&P(T,A)}}),le(S,"handleMouseDown",function(A){var E=S.props.onMouseDown;if(ge(E)){var T=S.getMouseInfo(A);E(T,A)}}),le(S,"handleMouseUp",function(A){var E=S.props.onMouseUp;if(ge(E)){var T=S.getMouseInfo(A);E(T,A)}}),le(S,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),le(S,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.handleMouseDown(A.changedTouches[0])}),le(S,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&S.handleMouseUp(A.changedTouches[0])}),le(S,"handleDoubleClick",function(A){var E=S.props.onDoubleClick;if(ge(E)){var T=S.getMouseInfo(A);E(T,A)}}),le(S,"handleContextMenu",function(A){var E=S.props.onContextMenu;if(ge(E)){var T=S.getMouseInfo(A);E(T,A)}}),le(S,"triggerSyncEvent",function(A){S.props.syncId!==void 0&&Wv.emit(qv,S.props.syncId,A,S.eventEmitterSymbol)}),le(S,"applySyncEvent",function(A){var E=S.props,T=E.layout,P=E.syncMethod,N=S.state.updateId,R=A.dataStartIndex,C=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)S.setState(q({dataStartIndex:R,dataEndIndex:C},p({props:S.props,dataStartIndex:R,dataEndIndex:C,updateId:N},S.state)));else if(A.activeTooltipIndex!==void 0){var k=A.chartX,$=A.chartY,L=A.activeTooltipIndex,U=S.state,F=U.offset,D=U.tooltipTicks;if(!F)return;if(typeof P=="function")L=P(D,A);else if(P==="value"){L=-1;for(var B=0;B<D.length;B++)if(D[B].value===A.activeLabel){L=B;break}}var W=q(q({},F),{},{x:F.left,y:F.top}),Q=Math.min(k,W.x+W.width),X=Math.min($,W.y+W.height),re=D[L]&&D[L].value,ye=Bw(S.state,S.props.data,L),Ne=D[L]?{x:T==="horizontal"?D[L].coordinate:Q,y:T==="horizontal"?X:D[L].coordinate}:W4;S.setState(q(q({},A),{},{activeLabel:re,activeCoordinate:Ne,activePayload:ye,activeTooltipIndex:L}))}else S.setState(A)}),le(S,"renderCursor",function(A){var E,T=S.state,P=T.isTooltipActive,N=T.activeCoordinate,R=T.activePayload,C=T.offset,k=T.activeTooltipIndex,$=T.tooltipAxisBandSize,L=S.getTooltipEventType(),U=(E=A.props.active)!==null&&E!==void 0?E:P,F=S.props.layout,D=A.key||"_recharts-cursor";return V.createElement(s_e,{key:D,activeCoordinate:N,activePayload:R,activeTooltipIndex:k,chartName:n,element:A,isActive:U,layout:F,offset:C,tooltipAxisBandSize:$,tooltipEventType:L})}),le(S,"renderPolarAxis",function(A,E,T){var P=tr(A,"type.axisType"),N=tr(S.state,"".concat(P,"Map")),R=A.type.defaultProps,C=R!==void 0?q(q({},R),A.props):A.props,k=N&&N[C["".concat(P,"Id")]];return j.cloneElement(A,q(q({},k),{},{className:Ae(P,k.className),key:A.key||"".concat(E,"-").concat(T),ticks:hi(k,!0)}))}),le(S,"renderPolarGrid",function(A){var E=A.props,T=E.radialLines,P=E.polarAngles,N=E.polarRadius,R=S.state,C=R.radiusAxisMap,k=R.angleAxisMap,$=ro(C),L=ro(k),U=L.cx,F=L.cy,D=L.innerRadius,B=L.outerRadius;return j.cloneElement(A,{polarAngles:Array.isArray(P)?P:hi(L,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(N)?N:hi($,!0).map(function(W){return W.coordinate}),cx:U,cy:F,innerRadius:D,outerRadius:B,key:A.key||"polar-grid",radialLines:T})}),le(S,"renderLegend",function(){var A=S.state.formattedGraphicalItems,E=S.props,T=E.children,P=E.width,N=E.height,R=S.props.margin||{},C=P-(R.left||0)-(R.right||0),k=jL({children:T,formattedGraphicalItems:A,legendWidth:C,legendContent:u});if(!k)return null;var $=k.item,L=tk(k,l_e);return j.cloneElement($,q(q({},L),{},{chartWidth:P,chartHeight:N,margin:R,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),le(S,"renderTooltip",function(){var A,E=S.props,T=E.children,P=E.accessibilityLayer,N=Cn(T,$r);if(!N)return null;var R=S.state,C=R.isTooltipActive,k=R.activeCoordinate,$=R.activePayload,L=R.activeLabel,U=R.offset,F=(A=N.props.active)!==null&&A!==void 0?A:C;return j.cloneElement(N,{viewBox:q(q({},U),{},{x:U.left,y:U.top}),active:F,label:L,payload:F?$:[],coordinate:k,accessibilityLayer:P})}),le(S,"renderBrush",function(A){var E=S.props,T=E.margin,P=E.data,N=S.state,R=N.offset,C=N.dataStartIndex,k=N.dataEndIndex,$=N.updateId;return j.cloneElement(A,{key:A.key||"_recharts-brush",onChange:rd(S.handleBrushChange,A.props.onChange),data:P,x:ee(A.props.x)?A.props.x:R.left,y:ee(A.props.y)?A.props.y:R.top+R.height+R.brushBottom-(T.bottom||0),width:ee(A.props.width)?A.props.width:R.width,startIndex:C,endIndex:k,updateId:"brush-".concat($)})}),le(S,"renderReferenceElement",function(A,E,T){if(!A)return null;var P=S,N=P.clipPathId,R=S.state,C=R.xAxisMap,k=R.yAxisMap,$=R.offset,L=A.type.defaultProps||{},U=A.props,F=U.xAxisId,D=F===void 0?L.xAxisId:F,B=U.yAxisId,W=B===void 0?L.yAxisId:B;return j.cloneElement(A,{key:A.key||"".concat(E,"-").concat(T),xAxis:C[D],yAxis:k[W],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:N})}),le(S,"renderActivePoints",function(A){var E=A.item,T=A.activePoint,P=A.basePoint,N=A.childIndex,R=A.isRange,C=[],k=E.props.key,$=E.item.type.defaultProps!==void 0?q(q({},E.item.type.defaultProps),E.item.props):E.item.props,L=$.activeDot,U=$.dataKey,F=q(q({index:N,dataKey:U,cx:T.x,cy:T.y,r:4,fill:Xx(E.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Se(L,!1)),Op(L));return C.push(y.renderActiveDot(L,F,"".concat(k,"-activePoint-").concat(N))),P?C.push(y.renderActiveDot(L,q(q({},F),{},{cx:P.x,cy:P.y}),"".concat(k,"-basePoint-").concat(N))):R&&C.push(null),C}),le(S,"renderGraphicChild",function(A,E,T){var P=S.filterFormatItem(A,E,T);if(!P)return null;var N=S.getTooltipEventType(),R=S.state,C=R.isTooltipActive,k=R.tooltipAxis,$=R.activeTooltipIndex,L=R.activeLabel,U=S.props.children,F=Cn(U,$r),D=P.props,B=D.points,W=D.isRange,Q=D.baseLine,X=P.item.type.defaultProps!==void 0?q(q({},P.item.type.defaultProps),P.item.props):P.item.props,re=X.activeDot,ye=X.hide,Ne=X.activeBar,Be=X.activeShape,Gt=!!(!ye&&C&&F&&(re||Ne||Be)),Ot={};N!=="axis"&&F&&F.props.trigger==="click"?Ot={onClick:rd(S.handleItemMouseEnter,A.props.onClick)}:N!=="axis"&&(Ot={onMouseLeave:rd(S.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:rd(S.handleItemMouseEnter,A.props.onMouseEnter)});var ne=j.cloneElement(A,q(q({},P.props),Ot));function he(Bn){return typeof k.dataKey=="function"?k.dataKey(Bn.payload):null}if(Gt)if($>=0){var pe,Y;if(k.dataKey&&!k.allowDuplicatedCategory){var Ue=typeof k.dataKey=="function"?he:"payload.".concat(k.dataKey.toString());pe=Cp(B,Ue,L),Y=W&&Q&&Cp(Q,Ue,L)}else pe=B==null?void 0:B[$],Y=W&&Q&&Q[$];if(Be||Ne){var ve=A.props.activeIndex!==void 0?A.props.activeIndex:$;return[j.cloneElement(A,q(q(q({},P.props),Ot),{},{activeIndex:ve})),null,null]}if(!_e(pe))return[ne].concat(Cl(S.renderActivePoints({item:P,activePoint:pe,basePoint:Y,childIndex:$,isRange:W})))}else{var it,ut=(it=S.getItemByXY(S.state.activeCoordinate))!==null&&it!==void 0?it:{graphicalItem:ne},kt=ut.graphicalItem,Fn=kt.item,Or=Fn===void 0?A:Fn,ct=kt.childIndex,Je=q(q(q({},P.props),Ot),{},{activeIndex:ct});return[j.cloneElement(Or,Je),null,null]}return W?[ne,null,null]:[ne,null]}),le(S,"renderCustomized",function(A,E,T){return j.cloneElement(A,q(q({key:"recharts-customized-".concat(T)},S.props),S.state))}),le(S,"renderMap",{CartesianGrid:{handler:ld,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:ld},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:ld},YAxis:{handler:ld},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((x=v.id)!==null&&x!==void 0?x:th("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=j$(S.triggeredAfterMouseMove,(O=v.throttleDelay)!==null&&O!==void 0?O:1e3/60),S.state={},S}return __e(y,b),m_e(y,[{key:"componentDidMount",value:function(){var x,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,O=x.children,S=x.data,A=x.height,E=x.layout,T=Cn(O,$r);if(T){var P=T.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,R=Bw(this.state,S,P,N),C=this.state.tooltipTicks[P].coordinate,k=(this.state.offset.top+A)/2,$=E==="horizontal",L=$?{x:C,y:k}:{y:C,x:k},U=this.state.formattedGraphicalItems.find(function(D){var B=D.item;return B.type.name==="Scatter"});U&&(L=q(q({},L),U.props.points[P].tooltipPosition),R=U.props.points[P].tooltipPayload);var F={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:N,activePayload:R,activeCoordinate:L};this.setState(F),this.renderCursor(T),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var S,A;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(x){__([Cn(x.children,$r)],[Cn(this.props.children,$r)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=Cn(this.props.children,$r);if(x&&typeof x.props.shared=="boolean"){var O=x.props.shared?"axis":"item";return s.indexOf(O)>=0?O:o}return o}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var O=this.container,S=O.getBoundingClientRect(),A=yse(S),E={chartX:Math.round(x.pageX-A.left),chartY:Math.round(x.pageY-A.top)},T=S.width/O.offsetWidth||1,P=this.inRange(E.chartX,E.chartY,T);if(!P)return null;var N=this.state,R=N.xAxisMap,C=N.yAxisMap,k=this.getTooltipEventType(),$=ik(this.state,this.props.data,this.props.layout,P);if(k!=="axis"&&R&&C){var L=ro(R).scale,U=ro(C).scale,F=L&&L.invert?L.invert(E.chartX):null,D=U&&U.invert?U.invert(E.chartY):null;return q(q({},E),{},{xValue:F,yValue:D},$)}return $?q(q({},E),$):null}},{key:"inRange",value:function(x,O){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,E=x/S,T=O/S;if(A==="horizontal"||A==="vertical"){var P=this.state.offset,N=E>=P.left&&E<=P.left+P.width&&T>=P.top&&T<=P.top+P.height;return N?{x:E,y:T}:null}var R=this.state,C=R.angleAxisMap,k=R.radiusAxisMap;if(C&&k){var $=ro(C);return MC({x:E,y:T},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,O=this.getTooltipEventType(),S=Cn(x,$r),A={};S&&O==="axis"&&(S.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Op(this.props,this.handleOuterEvent);return q(q({},E),A)}},{key:"addListener",value:function(){Wv.on(qv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Wv.removeListener(qv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,O,S){for(var A=this.state.formattedGraphicalItems,E=0,T=A.length;E<T;E++){var P=A[E];if(P.item===x||P.props.key===x.key||O===yi(P.item.type)&&S===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,O=this.state.offset,S=O.left,A=O.top,E=O.height,T=O.width;return V.createElement("defs",null,V.createElement("clipPath",{id:x},V.createElement("rect",{x:S,y:A,height:E,width:T})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(O,S){var A=ek(S,2),E=A[0],T=A[1];return q(q({},O),{},le({},E,T.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(O,S){var A=ek(S,2),E=A[0],T=A[1];return q(q({},O),{},le({},E,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[x])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(x){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[x])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(x){var O=this.state,S=O.formattedGraphicalItems,A=O.activeItem;if(S&&S.length)for(var E=0,T=S.length;E<T;E++){var P=S[E],N=P.props,R=P.item,C=R.type.defaultProps!==void 0?q(q({},R.type.defaultProps),R.props):R.props,k=yi(R.type);if(k==="Bar"){var $=(N.data||[]).find(function(D){return nme(x,D)});if($)return{graphicalItem:P,payload:$}}else if(k==="RadialBar"){var L=(N.data||[]).find(function(D){return MC(x,D)});if(L)return{graphicalItem:P,payload:L}}else if(Zg(P,A)||ey(P,A)||Tf(P,A)){var U=oge({graphicalItem:P,activeTooltipItem:A,itemData:C.data}),F=C.activeIndex===void 0?U:C.activeIndex;return{graphicalItem:q(q({},P),{},{childIndex:F}),payload:Tf(P,A)?C.data[U]:P.props.data[U]}}}return null}},{key:"render",value:function(){var x=this;if(!wI(this))return null;var O=this.props,S=O.children,A=O.className,E=O.width,T=O.height,P=O.style,N=O.compact,R=O.title,C=O.desc,k=tk(O,u_e),$=Se(k,!1);if(N)return V.createElement(OO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(b_,Is({},$,{width:E,height:T,title:R,desc:C}),this.renderClipPath(),xI(S,this.renderMap)));if(this.props.accessibilityLayer){var L,U;$.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,$.role=(U=this.props.role)!==null&&U!==void 0?U:"application",$.onKeyDown=function(D){x.accessibilityManager.keyboardEvent(D)},$.onFocus=function(){x.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return V.createElement(OO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",Is({className:Ae("recharts-wrapper",A),style:q({position:"relative",cursor:"default",width:E,height:T},P)},F,{ref:function(B){x.container=B}}),V.createElement(b_,Is({},$,{width:E,height:T,title:R,desc:C,style:T_e}),this.renderClipPath(),xI(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);le(m,"displayName",n),le(m,"defaultProps",q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),le(m,"getDerivedStateFromProps",function(b,y){var v=b.dataKey,x=b.data,O=b.children,S=b.width,A=b.height,E=b.layout,T=b.stackOffset,P=b.margin,N=y.dataStartIndex,R=y.dataEndIndex;if(y.updateId===void 0){var C=ok(b);return q(q(q({},C),{},{updateId:0},p(q(q({props:b},C),{},{updateId:0}),y)),{},{prevDataKey:v,prevData:x,prevWidth:S,prevHeight:A,prevLayout:E,prevStackOffset:T,prevMargin:P,prevChildren:O})}if(v!==y.prevDataKey||x!==y.prevData||S!==y.prevWidth||A!==y.prevHeight||E!==y.prevLayout||T!==y.prevStackOffset||!Us(P,y.prevMargin)){var k=ok(b),$={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},L=q(q({},ik(y,x,E)),{},{updateId:y.updateId+1}),U=q(q(q({},k),$),L);return q(q(q({},U),p(q({props:b},U),y)),{},{prevDataKey:v,prevData:x,prevWidth:S,prevHeight:A,prevLayout:E,prevStackOffset:T,prevMargin:P,prevChildren:O})}if(!__(O,y.prevChildren)){var F,D,B,W,Q=Cn(O,_l),X=Q&&(F=(D=Q.props)===null||D===void 0?void 0:D.startIndex)!==null&&F!==void 0?F:N,re=Q&&(B=(W=Q.props)===null||W===void 0?void 0:W.endIndex)!==null&&B!==void 0?B:R,ye=X!==N||re!==R,Ne=!_e(x),Be=Ne&&!ye?y.updateId:y.updateId+1;return q(q({updateId:Be},p(q(q({props:b},y),{},{updateId:Be,dataStartIndex:X,dataEndIndex:re}),y)),{},{prevChildren:O,dataStartIndex:X,dataEndIndex:re})}return null}),le(m,"renderActiveDot",function(b,y,v){var x;return j.isValidElement(b)?x=j.cloneElement(b,y):ge(b)?x=b(y):x=V.createElement(Jx,y),V.createElement(pt,{className:"recharts-active-dot",key:v},x)});var g=j.forwardRef(function(y,v){return V.createElement(m,Is({},y,{ref:v}))});return g.displayName=m.displayName,g},D_e=j_e({chartName:"LineChart",GraphicalChild:uh,axisComponents:[{axisType:"xAxis",AxisComp:ay},{axisType:"yAxis",AxisComp:sy}],formatAxisMap:Oye});const sk=({title:t,data:e,dataKey:n,color:r,unit:i,averageValue:o,status:a="typical",onNotifyCaretaker:s})=>_.jsxs("div",{className:"glass-panel",style:{padding:"1rem",height:"100%",display:"flex",flexDirection:"column",position:"relative"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[_.jsx("h3",{style:{margin:0,opacity:.8},children:t}),a==="atypical"&&_.jsxs("div",{className:"atypical-badge",title:"Atypical readings detected",style:{display:"flex",alignItems:"center",gap:"0.25rem",background:"var(--color-danger-light)",color:"var(--color-danger)",padding:"0.25rem 0.5rem",borderRadius:"999px",fontSize:"0.75rem",fontWeight:600,cursor:"pointer"},onClick:s,children:[_.jsx(vg,{size:14}),_.jsx("span",{children:"Warning"})]})]}),_.jsxs("div",{style:{textAlign:"right"},children:[_.jsxs("div",{style:{fontSize:"2rem",fontWeight:700,color:r},children:[o?Math.round(o):"-"," ",_.jsx("span",{style:{fontSize:"1rem",opacity:.6},children:i})]}),_.jsx("div",{style:{fontSize:"0.8rem",opacity:.5},children:"Average"})]})]}),_.jsx("div",{style:{flex:1,width:"100%",minHeight:0},children:_.jsx(cse,{width:"100%",height:"100%",children:_.jsxs(D_e,{data:e,margin:{top:5,right:30,left:30,bottom:0},children:[_.jsx(O4,{strokeDasharray:"3 3",opacity:.1,vertical:!1}),_.jsx(ay,{dataKey:"time",stroke:"var(--text-secondary)",tick:{fontSize:12,fill:"var(--text-secondary)"},interval:0,angle:0,textAnchor:"middle"}),_.jsx(sy,{domain:["auto","auto"],hide:!0}),_.jsx($r,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid var(--glass-border)",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",color:"var(--text-main)"},itemStyle:{color:r,fontWeight:600},labelStyle:{color:"var(--text-secondary)"}}),_.jsx(uh,{type:"monotone",dataKey:n,stroke:r,strokeWidth:3,dot:!1,activeDot:{r:6,strokeWidth:0},animationDuration:500,connectNulls:!0})]})})})]}),$_e=({onClose:t,onNotify:e,atypicalStats:n,hasCaretaker:r=!0})=>_.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",backdropFilter:"blur(5px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100,animation:"fadeIn 0.3s ease-out"},children:_.jsxs("div",{className:"glass-panel",style:{width:"400px",padding:"2rem",border:"1px solid #ef4444",boxShadow:"0 0 50px rgba(239, 68, 68, 0.3)",background:"rgba(255, 255, 255, 0.95)"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",color:"#ef4444"},children:[_.jsx(Lq,{size:24}),_.jsx("h2",{style:{margin:0,fontSize:"1.25rem"},children:"Health Alert"})]}),_.jsx("button",{onClick:t,style:{background:"transparent",padding:"0.5rem",color:"var(--text-main)"},children:_.jsx(_D,{size:20})})]}),_.jsxs("p",{style:{marginBottom:"1.5rem",lineHeight:1.6},children:["We have detected atypical readings in the following metrics:",_.jsx("br",{}),_.jsx("strong",{style:{color:"#ef4444"},children:n.join(", ")})]}),_.jsx("p",{style:{fontSize:"0.9rem",opacity:.7,marginBottom:"2rem"},children:r?"Would you like to notify your listed caretaker immediately?":"You have not added a caretaker contact yet. Would you like to add one now?"}),_.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[_.jsx("button",{className:"primary-btn",style:{flex:1,background:"#ef4444",color:"white",display:"flex",justifyContent:"center",gap:"0.5rem"},onClick:e,children:r?_.jsxs(_.Fragment,{children:[_.jsx(vg,{size:18}),"Notify Caretaker"]}):_.jsxs(_.Fragment,{children:[_.jsx(Jq,{size:18}),"Add Caretaker"]})}),_.jsx("button",{onClick:t,style:{flex:1,background:"rgba(0,0,0,0.05)",color:"var(--text-main)"},children:"Dismiss"})]})]})}),L_e=()=>{const{schedule:t,takenRecords:e,toggleTaken:n,medicationDetails:r}=$o(),i=new Date,a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][i.getDay()],s=i.toLocaleDateString("en-CA"),l=j.useMemo(()=>{const u=r.filter(d=>d.name?d.frequency==="daily"?!0:!d.reminder||!d.frequency||!d.time?!1:d.frequency==="weekly"||d.frequency==="as-needed":!1).map(d=>d.name),c=t[a]||[],f=new Set([...u,...c]);return Array.from(f)},[r,t,a]);return _.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem",height:"100%",display:"flex",flexDirection:"column"},children:[_.jsxs("h3",{style:{marginTop:0,marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem",color:"#f59e0b"},children:[_.jsx(g_,{size:20}),"Daily Medications"]}),_.jsxs("p",{style:{margin:0,marginBottom:"1rem",fontSize:"0.9rem",opacity:.7},children:[a,", ",i.toLocaleDateString()]}),_.jsx("div",{style:{flex:1,overflowY:"auto"},children:l.length===0?_.jsx("div",{style:{padding:"1rem",textAlign:"center",opacity:.6,fontStyle:"italic",background:"rgba(0,0,0,0.05)",borderRadius:"8px"},children:"No medications to take today."}):_.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:l.map((u,c)=>{const f=`${s}_${u}_${c}`,d=!!e[f],p=r.find(m=>m.name===u);return _.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.75rem",padding:"0.75rem",background:d?"rgba(16, 185, 129, 0.1)":"var(--input-bg)",border:`1px solid ${d?"rgba(16, 185, 129, 0.3)":"var(--input-border)"}`,borderRadius:"8px",transition:"all 0.2s ease",opacity:d?.7:1},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",flex:1},children:[_.jsx("button",{onClick:()=>n(f),style:{background:"transparent",border:"none",cursor:"pointer",padding:0,display:"flex",color:d?"#10b981":"var(--text-main)"},children:d?_.jsx(g_,{size:20}):_.jsx(Qq,{size:20})}),_.jsx("span",{style:{textDecoration:d?"line-through":"none",fontWeight:500,fontSize:"1rem"},children:u})]}),p&&p.time&&_.jsx("span",{style:{fontSize:"0.9rem",opacity:.7,color:"var(--text-secondary)",whiteSpace:"nowrap"},children:p.time})]},c)})})})]})},V_e=({activeTab:t,setActiveTab:e,atypicalMetrics:n,onShowWarning:r})=>{const{medications:i,medicationDetails:o,addMedication:a,schedule:s,addToSchedule:l,removeFromSchedule:u}=$o(),[c,f]=j.useState(""),d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],m=d[new Date().getDay()],g=j.useMemo(()=>{const S=o.map(E=>E.name).filter(Boolean),A=i.filter(Boolean);return Array.from(new Set([...S,...A]))},[o,i]),b=j.useMemo(()=>{const S={};return d.forEach(A=>{S[A]=[...s[A]||[]]}),o.forEach(A=>{A.name&&A.frequency==="daily"&&d.forEach(E=>{S[E].includes(A.name)||S[E].push(A.name)})}),S},[s,o,d]),y=(S,A)=>{S.dataTransfer.setData("med",A),S.dataTransfer.effectAllowed="copy"},v=S=>{S.preventDefault(),S.dataTransfer.dropEffect="copy"},x=(S,A)=>{S.preventDefault();const E=S.dataTransfer.getData("med");E&&l(A,E)},O=async()=>{if(c.trim()){if(g.includes(c.trim())){alert("This medication already exists");return}await a(c.trim()),f("")}};return _.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column",gap:"2rem",width:"100%"},children:[_.jsxs("div",{className:"glass-panel",style:{padding:"1.5rem",width:"100%"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[_.jsxs("div",{children:[_.jsx("h3",{style:{marginTop:0,marginBottom:"0.5rem",color:"#3b82f6"},children:"Available Medications"}),_.jsx("p",{style:{fontSize:"0.9rem",margin:0,opacity:.7},children:"Drag these medications into the daily slots below."})]}),_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[_.jsxs("button",{onClick:r,disabled:n.length===0,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:n.length>0?"rgba(239, 68, 68, 0.1)":"rgba(16, 185, 129, 0.1)",color:n.length>0?"var(--color-danger)":"#10b981",border:`1px solid ${n.length>0?"rgba(239, 68, 68, 0.2)":"rgba(16, 185, 129, 0.2)"}`,borderRadius:"8px",fontSize:"0.8rem",fontWeight:600,cursor:n.length>0?"pointer":"default",opacity:n.length>0?1:.8,width:"auto",minWidth:"100px"},children:[_.jsx(vg,{size:14}),n.length>0?"Show Alerts":"No Alerts"]}),_.jsxs("div",{className:"glass-panel",style:{display:"flex",padding:"0.25rem",gap:"0.25rem"},children:[_.jsx("button",{className:t==="overview"?"primary-btn":"",onClick:()=>e("overview"),style:{fontSize:"0.75rem",padding:"0.35rem 0.9rem",display:"flex",gap:"0.4rem",alignItems:"center",justifyContent:"center"},children:"Widget View"}),_.jsx("div",{style:{width:"1px",background:"#e5e7eb",margin:"0 0.5rem"}}),_.jsxs("button",{className:t==="medications"?"primary-btn":"",onClick:()=>e("medications"),style:{fontSize:"0.75rem",padding:"0.35rem 0.9rem",display:"flex",gap:"0.4rem",alignItems:"center",justifyContent:"center"},children:[_.jsx(ex,{size:12}),"Schedule"]})]})]})]}),_.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem",alignItems:"center"},children:[g.map((S,A)=>{const E=o.find(T=>T.name===S);return _.jsxs("div",{draggable:!0,onDragStart:T=>y(T,S),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:"white",border:"1px solid #e5e7eb",borderRadius:"8px",cursor:"grab",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},title:E!=null&&E.time?`${E.frequency||""} at ${E.time}`:void 0,children:[_.jsx(Uq,{size:14,color:"#9ca3af"}),_.jsx("span",{style:{fontWeight:500,color:"#374151"},children:S}),(E==null?void 0:E.time)&&_.jsx("span",{style:{fontSize:"0.75rem",opacity:.6,color:"#6b7280"},children:E.time})]},A)}),_.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginLeft:"1rem"},children:[_.jsx("input",{type:"text",value:c,onChange:S=>f(S.target.value),placeholder:"Add new medication...",onKeyDown:S=>S.key==="Enter"&&O(),style:{padding:"0.5rem",borderRadius:"6px",border:"1px solid var(--input-border)",fontSize:"0.9rem"}}),_.jsx("button",{onClick:O,style:{background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",padding:"0.5rem",cursor:"pointer",display:"flex",alignItems:"center"},children:_.jsx(Wq,{size:16})})]})]})]}),_.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"1rem",flex:1,width:"100%"},children:d.map(S=>_.jsxs("div",{onDragOver:v,onDrop:A=>x(A,S),className:"glass-panel",style:{padding:"1rem",display:"flex",flexDirection:"column",minHeight:"200px",background:"rgba(255, 255, 255, 0.5)"},children:[_.jsx("h4",{style:{textAlign:"center",marginTop:0,marginBottom:"1rem",paddingBottom:"0.5rem",borderBottom:S===m?"3px solid var(--color-primary)":"1px solid rgba(0,0,0,0.1)",color:S===m?"var(--color-primary)":"#4b5563",fontWeight:S===m?600:400},children:S}),_.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",flex:1},children:[b[S].map((A,E)=>{const T=o.find(N=>N.name===A),P=(T==null?void 0:T.frequency)==="daily";return _.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.5rem",background:P?"rgba(59, 130, 246, 0.1)":"white",border:P?"1px solid rgba(59, 130, 246, 0.3)":"none",borderRadius:"6px",fontSize:"0.85rem",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flex:1},children:[_.jsx("span",{children:A}),(T==null?void 0:T.time)&&_.jsx("span",{style:{fontSize:"0.75rem",opacity:.6,color:"#6b7280"},children:T.time})]}),_.jsx("button",{onClick:()=>{const R=(s[S]||[]).indexOf(A);u(S,A,R!==-1?R:0)},style:{background:"none",border:"none",padding:2,cursor:"pointer",opacity:.5},title:"Remove from schedule",children:_.jsx(_D,{size:12})})]},E)}),b[S].length===0&&_.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",opacity:.3,fontSize:"0.8rem",border:"1px dashed #cbd5e1",borderRadius:"6px",margin:"0.5rem 0"},children:"Drop here"})]})]},S))})]})};var lk;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(lk||(lk={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uk;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(uk||(uk={}));var ck;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(ck||(ck={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=["user","model","function","system"];var Fr;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Fr||(Fr={}));var Br;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Br||(Br={}));var hk;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(hk||(hk={}));var dk;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(dk||(dk={}));var bc;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(bc||(bc={}));var pk;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(pk||(pk={}));var mk;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(mk||(mk={}));var gk;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(gk||(gk={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class ss extends rn{constructor(e,n){super(e),this.response=n}}class G4 extends rn{constructor(e,n,r,i){super(e),this.status=n,this.statusText=r,this.errorDetails=i}}class Eo extends rn{}class K4 extends rn{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_e="https://generativelanguage.googleapis.com",B_e="v1beta",U_e="0.24.1",z_e="genai-js";var Va;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Va||(Va={}));class H_e{constructor(e,n,r,i,o){this.model=e,this.task=n,this.apiKey=r,this.stream=i,this.requestOptions=o}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||B_e;let o=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||F_e}/${r}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function W_e(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${z_e}/${U_e}`),e.join(" ")}async function q_e(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",W_e(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Eo(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,o]of r.entries()){if(i==="x-goog-api-key")throw new Eo(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Eo(`Header name ${i} can only be set using the apiClient field`);n.append(i,o)}}return n}async function G_e(t,e,n,r,i,o){const a=new H_e(t,e,n,r,o);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},Q_e(o)),{method:"POST",headers:await q_e(a),body:i})}}async function ch(t,e,n,r,i,o={},a=fetch){const{url:s,fetchOptions:l}=await G_e(t,e,n,r,i,o);return K_e(s,l,a)}async function K_e(t,e,n=fetch){let r;try{r=await n(t,e)}catch(i){Y_e(i,t)}return r.ok||await X_e(r,t),r}function Y_e(t,e){let n=t;throw n.name==="AbortError"?(n=new K4(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof G4||t instanceof Eo||(n=new rn(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function X_e(t,e){let n="",r;try{const i=await t.json();n=i.error.message,i.error.details&&(n+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new G4(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function Q_e(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),jd(t.candidates[0]))throw new ss(`${Xi(t)}`,t);return J_e(t)}else if(t.promptFeedback)throw new ss(`Text not available. ${Xi(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),jd(t.candidates[0]))throw new ss(`${Xi(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),yk(t)[0]}else if(t.promptFeedback)throw new ss(`Function call not available. ${Xi(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),jd(t.candidates[0]))throw new ss(`${Xi(t)}`,t);return yk(t)}else if(t.promptFeedback)throw new ss(`Function call not available. ${Xi(t)}`,t)},t}function J_e(t){var e,n,r,i;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const a of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)a.text&&o.push(a.text),a.executableCode&&o.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&o.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}function yk(t){var e,n,r,i;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const a of(i=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)a.functionCall&&o.push(a.functionCall);if(o.length>0)return o}const Z_e=[bc.RECITATION,bc.SAFETY,bc.LANGUAGE];function jd(t){return!!t.finishReason&&Z_e.includes(t.finishReason)}function Xi(t){var e,n,r;let i="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)i+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(i+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const o=t.candidates[0];jd(o)&&(i+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(i+=`: ${o.finishMessage}`))}return i}function Rf(t){return this instanceof Rf?(this.v=t,this):new Rf(t)}function ewe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(d){r[d]&&(i[d]=function(p){return new Promise(function(m,g){o.push([d,p,m,g])>1||s(d,p)})})}function s(d,p){try{l(r[d](p))}catch(m){f(o[0][3],m)}}function l(d){d.value instanceof Rf?Promise.resolve(d.value.v).then(u,c):f(o[0][2],d)}function u(d){s("next",d)}function c(d){s("throw",d)}function f(d,p){d(p),o.shift(),o.length&&s(o[0][0],o[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function twe(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=iwe(e),[r,i]=n.tee();return{stream:rwe(r),response:nwe(i)}}async function nwe(t){const e=[],n=t.getReader();for(;;){const{done:r,value:i}=await n.read();if(r)return lE(owe(e));e.push(i)}}function rwe(t){return ewe(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:i}=yield Rf(n.read());if(i)break;yield yield Rf(lE(r))}})}function iwe(t){const e=t.getReader();return new ReadableStream({start(r){let i="";return o();function o(){return e.read().then(({value:a,done:s})=>{if(s){if(i.trim()){r.error(new rn("Failed to parse stream"));return}r.close();return}i+=a;let l=i.match(vk),u;for(;l;){try{u=JSON.parse(l[1])}catch{r.error(new rn(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(u),i=i.substring(l[0].length),l=i.match(vk)}return o()}).catch(a=>{let s=a;throw s.stack=a.stack,s.name==="AbortError"?s=new K4("Request aborted when reading from the stream"):s=new rn("Error reading from the stream"),s})}}})}function owe(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates){let i=0;for(const o of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:i}),n.candidates[i].citationMetadata=o.citationMetadata,n.candidates[i].groundingMetadata=o.groundingMetadata,n.candidates[i].finishReason=o.finishReason,n.candidates[i].finishMessage=o.finishMessage,n.candidates[i].safetyRatings=o.safetyRatings,o.content&&o.content.parts){n.candidates[i].content||(n.candidates[i].content={role:o.content.role||"user",parts:[]});const a={};for(const s of o.content.parts)s.text&&(a.text=s.text),s.functionCall&&(a.functionCall=s.functionCall),s.executableCode&&(a.executableCode=s.executableCode),s.codeExecutionResult&&(a.codeExecutionResult=s.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),n.candidates[i].content.parts.push(a)}i++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(t,e,n,r){const i=await ch(e,Va.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return twe(i)}async function X4(t,e,n,r){const o=await(await ch(e,Va.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:lE(o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Nf(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return awe(e)}function awe(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,i=!1;for(const o of t)"functionResponse"in o?(n.parts.push(o),i=!0):(e.parts.push(o),r=!0);if(r&&i)throw new rn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new rn("No content is provided for sending chat message.");return r?e:n}function swe(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const i=t.generateContentRequest!=null;if(t.contents){if(i)throw new Eo("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(i)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const o=Nf(t);r.contents=[o]}return{generateContentRequest:r}}function _k(t){let e;return t.contents?e=t:e={contents:[Nf(t)]},t.systemInstruction&&(e.systemInstruction=Q4(t.systemInstruction)),e}function lwe(t){return typeof t=="string"||Array.isArray(t)?{content:Nf(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],uwe={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function cwe(t){let e=!1;for(const n of t){const{role:r,parts:i}=n;if(!e&&r!=="user")throw new rn(`First content should be with role 'user', got ${r}`);if(!fk.includes(r))throw new rn(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(fk)}`);if(!Array.isArray(i))throw new rn("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new rn("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const s of i)for(const l of wk)l in s&&(o[l]+=1);const a=uwe[r];for(const s of wk)if(!a.includes(s)&&o[s]>0)throw new rn(`Content with role '${r}' can't contain '${s}' part`);e=!0}}function bk(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="SILENT_ERROR";class fwe{constructor(e,n,r,i={}){this.model=n,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(cwe(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,i,o,a,s,l;await this._sendPromise;const u=Nf(e),c={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(s=this.params)===null||s===void 0?void 0:s.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},f=Object.assign(Object.assign({},this._requestOptions),n);let d;return this._sendPromise=this._sendPromise.then(()=>X4(this._apiKey,this.model,c,f)).then(p=>{var m;if(bk(p.response)){this._history.push(u);const g=Object.assign({parts:[],role:"model"},(m=p.response.candidates)===null||m===void 0?void 0:m[0].content);this._history.push(g)}else{const g=Xi(p.response);g&&console.warn(`sendMessage() was unsuccessful. ${g}. Inspect response object for details.`)}d=p}).catch(p=>{throw this._sendPromise=Promise.resolve(),p}),await this._sendPromise,d}async sendMessageStream(e,n={}){var r,i,o,a,s,l;await this._sendPromise;const u=Nf(e),c={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(s=this.params)===null||s===void 0?void 0:s.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,u]},f=Object.assign(Object.assign({},this._requestOptions),n),d=Y4(this._apiKey,this.model,c,f);return this._sendPromise=this._sendPromise.then(()=>d).catch(p=>{throw new Error(xk)}).then(p=>p.response).then(p=>{if(bk(p)){this._history.push(u);const m=Object.assign({},p.candidates[0].content);m.role||(m.role="model"),this._history.push(m)}else{const m=Xi(p);m&&console.warn(`sendMessageStream() was unsuccessful. ${m}. Inspect response object for details.`)}}).catch(p=>{p.message!==xk&&console.error(p)}),d}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hwe(t,e,n,r){return(await ch(e,Va.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dwe(t,e,n,r){return(await ch(e,Va.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function pwe(t,e,n,r){const i=n.requests.map(a=>Object.assign(Object.assign({},a),{model:e}));return(await ch(e,Va.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=Q4(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const i=_k(e),o=Object.assign(Object.assign({},this._requestOptions),n);return X4(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),o)}async generateContentStream(e,n={}){var r;const i=_k(e),o=Object.assign(Object.assign({},this._requestOptions),n);return Y4(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),o)}startChat(e){var n;return new fwe(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=swe(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),n);return hwe(this.apiKey,this.model,r,i)}async embedContent(e,n={}){const r=lwe(e),i=Object.assign(Object.assign({},this._requestOptions),n);return dwe(this.apiKey,this.model,r,i)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return pwe(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mwe{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new rn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Ek(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new Eo("Cached content must contain a `name` field.");if(!e.model)throw new Eo("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const a of i)if(n!=null&&n[a]&&e[a]&&(n==null?void 0:n[a])!==e[a]){if(a==="model"){const s=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(s===l)continue}throw new Eo(`Different value for "${a}" specified in modelParams (${n[a]}) and cachedContent (${e[a]})`)}const o=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new Ek(this.apiKey,o,r)}}const J4=()=>{const t="AIzaSyDw24Hs56_6oEoXkXy6peRgyS2APEyC2w0";return new mwe(t)};let Uw=!0,zw=null,Sk=0;const Tk=2e3;function gwe(t){const{statName:e,statValue:n,age:r}=t;switch(e){case"heartbeat":return r<12?n>=70&&n<=120:(r<18,n>=60&&n<=100);case"respiration rate":return r<12?n>=18&&n<=30:n>=12&&n<=20;default:return!0}}function ywe(t){return`${t.sex.toLowerCase()}_${t.age}_${t.weight}_${t.height}_${t.statName}_${t.statValue}`}async function vwe(t,e){try{const n=await J1(gn(ft,"health_analysis_cache",`${t}_${e}`));if(n.exists())return n.data().isTypical}catch(n){console.error("Error checking cache (likely Firestore rules or Ad-blocker):",n)}return null}async function Ak(t,e,n){try{await al(gn(ft,"health_analysis_cache",`${t}_${e}`),{userId:t,isTypical:n,timestamp:new Date().toISOString(),cacheKey:e})}catch(r){console.error("Error saving to cache:",r)}}async function Ik(t,e){var o,a;const n=ywe(t);if(e){const s=await vwe(e,n);if(s!==null)return{isTypical:s,statName:t.statName}}const r=J4();if(r&&Uw){const s=["gemini-2.5-flash"];for(const l of s)try{const u=r.getGenerativeModel({model:l,safetySettings:[{category:Fr.HARM_CATEGORY_HARASSMENT,threshold:Br.BLOCK_NONE},{category:Fr.HARM_CATEGORY_HATE_SPEECH,threshold:Br.BLOCK_NONE},{category:Fr.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:Br.BLOCK_NONE},{category:Fr.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:Br.BLOCK_NONE}],generationConfig:{temperature:.1,maxOutputTokens:5}}),c=`Act as a clinical data analyzer. 
        User Profile: ${t.sex}, ${t.age}yo, ${t.weight}kg, ${t.height}cm, conditions: ${t.conditions}.
        Question: Is a ${t.statName} of ${t.statValue} ${t.unit} within the typical statistical range for this profile?
        Answer only with "true" or "false".`,p=(await u.generateContent(c)).response.text().trim().toLowerCase().includes("true");return e&&await Ak(e,n,p),{isTypical:p,statName:t.statName}}catch(u){if(console.warn(`[Gemini Error] ${l} failed:`,u.message),(o=u.message)!=null&&o.includes("API_KEY_INVALID")||(a=u.message)!=null&&a.includes("BLOCKED_BY_CLIENT")){console.error("[Gemini Critical] API key is invalid or blocked. Switching to threshold fallback."),Uw=!1;break}}}const i=gwe(t);return e&&await Ak(e,n,i),{isTypical:i,statName:t.statName}}async function _we(t,e,n,r){return console.log(" Starting Health Analysis..."),Promise.all([Ik({sex:t.sex,age:t.age,weight:t.weight,height:t.height,conditions:t.conditions,statValue:e,statName:"heartbeat",unit:"bpm"},r),Ik({sex:t.sex,age:t.age,weight:t.weight,height:t.height,conditions:t.conditions,statValue:n,statName:"respiration rate",unit:"breaths/min"},r)])}const Z4="session_analyses";function wwe(t,e,n){const r=`${e.sex.toLowerCase()}_${e.age}_${e.weight}_${e.height}_${e.conditions.toLowerCase()}`,i=`${Math.round(n.breathing.average)}_${Math.round(n.breathing.max)}_${Math.round(n.breathing.min)}_${Math.round(n.pulse.average)}_${Math.round(n.pulse.max)}_${Math.round(n.pulse.min)}`;return`${t}_${r}_${i}`}async function bwe(t,e){try{const n=gn(ft,Z4,t),r=await J1(n);if(r.exists()){const i=r.data();if(i.userId===e)return console.log("[Gemini] Using cached session analysis from database"),i.analysis}}catch(n){console.error("Error checking cached session analysis:",n)}return null}async function xwe(t,e,n,r,i){try{await al(gn(ft,Z4,t),{userId:e,cacheKey:t,profile:{sex:n.sex,age:n.age,weight:n.weight,height:n.height,conditions:n.conditions},stats:{breathing:{average:Math.round(r.breathing.average),max:Math.round(r.breathing.max),min:Math.round(r.breathing.min)},pulse:{average:Math.round(r.pulse.average),max:Math.round(r.pulse.max),min:Math.round(r.pulse.min)}},analysis:i,timestamp:new Date().toISOString()}),console.log("[Gemini] Saved session analysis to database")}catch(o){console.error("Error saving session analysis:",o)}}function Pk(t){return new Promise(e=>setTimeout(e,t))}function Ewe(){return zw===null?!1:Date.now()<zw}function Swe(t){const e=t.match(/Please retry in ([\d.]+)s/);return e?Math.ceil(parseFloat(e[1])*1e3):6e4}function Bu(t,e){const n=t.age,r=t.sex.toLowerCase(),i=Math.round(e.breathing.average),o=Math.round(e.breathing.min),a=Math.round(e.breathing.max),s=Math.round(e.pulse.average),l=Math.round(e.pulse.min),u=Math.round(e.pulse.max);let c=12,f=20,d=60,p=100;n<12?(c=18,f=30,d=70,p=120):n<18?(c=12,f=20,d=60,p=100):n>=65&&(c=12,f=18,d=60,p=100);let m="";i>=c&&i<=f?m="within the normal resting range":i<c?m="below the normal resting range":m="above the normal resting range";let g="";s>=d&&s<=p?(g="within normal range",s>p-10&&(g="on the higher end of normal")):s<d?g="below normal range":g="above normal range";const b=a-o,v=u-l>40||b>10;let x="",O="";v?(x=` However, your pulse data shows significant fluctuations. While an average of ${s} BPM is ${g} (${d}${p} BPM), the minimum of ${l} BPM and maximum of ${u} BPM indicate high variability.`,l<50&&(x+=` The drop to ${l} BPM is notably low, unless occurring during deep sleep or athletic conditioning.`),O=" It is recommended to contact a caretaker."):(s<d||s>p||i<c||i>f)&&(O=" It is recommended to contact a caretaker.");const S=o===a?`${i} bpm`:`${o}${a} bpm`;return`For a ${n}-year-old ${r}, your breathing rate (${S}) is ${m}.${x}${O}`}async function Ck(t,e,n){const r=n?wwe(n,t,e):null;if(r&&n){const s=await bwe(r,n);if(s)return s}const i=J4();if(!i||!Uw)return console.log("[Gemini] API unavailable, using fallback analysis"),Bu(t,e);if(Ewe())return console.log("[Gemini] Rate limited, using fallback analysis"),Bu(t,e);const o=Date.now()-Sk;o<Tk&&await Pk(Tk-o);const a=0;for(let s=0;s<=a;s++)try{Sk=Date.now();const l=i.getGenerativeModel({model:"gemini-2.5-flash",safetySettings:[{category:Fr.HARM_CATEGORY_HARASSMENT,threshold:Br.BLOCK_NONE},{category:Fr.HARM_CATEGORY_HATE_SPEECH,threshold:Br.BLOCK_NONE},{category:Fr.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:Br.BLOCK_NONE},{category:Fr.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:Br.BLOCK_NONE}],generationConfig:{temperature:.2,maxOutputTokens:250}}),u=`Act as a clinical data analyzer. 
        User Profile: ${t.sex}, ${t.age}yo, ${t.weight}kg, ${t.height}cm, conditions: ${t.conditions}.

Given the following stats: 
breathing rate in bpm {
	average: ${Math.round(e.breathing.average)}
	max: ${Math.round(e.breathing.max)}
	min: ${Math.round(e.breathing.min)}
},
pulse in BPM {
	average: ${Math.round(e.pulse.average)}
	max: ${Math.round(e.pulse.max)}
	min: ${Math.round(e.pulse.min)}
}

Summarize the data and make general observations. Do not provide a medical diagnosis. If anything seems abnormal, mention it in the response and add at the end "It is recommended to contact a caretaker."
        Answer only with max 500 characters.`,f=(await l.generateContent(u)).response.text().trim();return r&&n&&await xwe(r,n,t,e,f),f}catch(l){const u=l.message||"";if(u.includes("429")||u.includes("quota")||u.includes("rate limit")){const c=Swe(u);if(zw=Date.now()+c,console.warn(`[Gemini] Rate limited. Will retry after ${Math.ceil(c/1e3)} seconds.`),s===a)return console.log("[Gemini] All retries exhausted due to rate limit, using fallback analysis"),Bu(t,e);await Pk(Math.min(c,6e4));continue}if(console.warn("[Gemini Session Analysis Error]:",u),s===a)return console.log("[Gemini] All retries exhausted, using fallback analysis"),Bu(t,e);break}return Bu(t,e)}const Twe="health_data",ud="analytics_sessions";async function Awe(t,e=20){try{const n=oa(Ki(ft,Twe),Mr("userId","==",t),dD(e)),r=await aa(n),i=[];return r.forEach(o=>{i.push(o.data())}),i.sort((o,a)=>new Date(o.timestamp).getTime()-new Date(a.timestamp).getTime())}catch(n){return console.error("Error fetching health readings:",n),[]}}async function Iwe(){console.log(`[HealthService] Attempting to fetch from collection: ${ud}`);try{const t=oa(Ki(ft,ud),Pq("processedAt","desc"),dD(1)),e=await aa(t);if(e.empty)return console.log(`[HealthService] Collection '${ud}' is empty or does not exist.`),null;const n=e.docs[0],r=n.data();return console.log(`[HealthService] Successfully fetched doc: ${n.id}`),(!r.pulse||!r.breathing)&&console.warn("[HealthService] Found analytics doc but pulse/breathing maps are missing!",r),{id:n.id,...r}}catch(t){return console.error(`[HealthService] CRITICAL Error fetching from '${ud}':`,t),null}}const Pwe=()=>{const{profile:t,user:e}=$o(),n=Do(),[r,i]=j.useState("overview"),[o,a]=j.useState([]),[s,l]=j.useState([]),[u,c]=j.useState(!1),[f,d]=j.useState([]),[p,m]=j.useState(!0);j.useEffect(()=>{(async()=>{if(!(!t.age||!t.sex||!(e!=null&&e.uid)))try{console.log(`[Dashboard] Fetching data for user: ${e.uid}...`);let S=await Awe(e.uid,100);if(console.log(`[Dashboard] Found ${S.length} readings.`),S.length===0)return;const A=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],E={};S.forEach(U=>{const D=(new Date(U.timestamp).getDay()+6)%7,B=A[D];E[B]||(E[B]=[]),E[B].push(U)});const T=A.map(U=>{const F=E[U]||[];if(F.length===0)return{time:U,value:null,status:"typical"};const D=F.reduce((B,W)=>B+W.data.heartRate,0)/F.length;return{time:U,value:Math.round(D),status:"typical"}}),P=A.map(U=>{const F=E[U]||[];if(F.length===0)return{time:U,value:null,status:"typical"};const D=F.reduce((B,W)=>B+W.data.breathing,0)/F.length;return{time:U,value:Math.round(D),status:"typical"}});console.log(`[Dashboard] Mapped data points: HR=${T.length}, BR=${P.length}`),a(T),l(P);const N=T.filter(U=>U.value!==null).map(U=>U.value),R=N.length>0?N.reduce((U,F)=>U+F,0)/N.length:75,C=P.filter(U=>U.value!==null).map(U=>U.value),k=C.length>0?C.reduce((U,F)=>U+F,0)/C.length:18;m(!0);const $=await _we(t,Math.round(R),Math.round(k),e.uid),L=[];$.forEach(U=>{U.isTypical||(U.statName==="heartbeat"&&L.push("Heart Rate"),U.statName==="respiration rate"&&L.push("Respiration Rate"))}),d(L),console.log("Analysis complete. Atypical metrics:",L)}catch(S){console.error("Error loading or analyzing health stats:",S),d([])}finally{m(!1)}})()},[t,e]);const g=ti(),[b,y]=j.useState(!1);j.useEffect(()=>{var O;(O=g.state)!=null&&O.justLoggedIn&&!p&&!b&&o.length>0&&(f.length>0?(console.log("[Dashboard] Initial login alert triggered for metrics:",f),c(!0)):console.log("[Dashboard] No atypical metrics found on login. Skipping alert."),y(!0),window.history.replaceState({},document.title))},[g,f,p,b,o]);const v=O=>{if(!t.caretakerName||!t.caretakerPhone){window.confirm("No caretaker contact found. Would you like to add one now?")&&n("/settings"),c(!1);return}const S=O?`Notifying caretaker ${t.caretakerName} about atypical ${O} readings...`:`Notifying caretaker ${t.caretakerName} about health alerts...`;alert(S),c(!1)},x=O=>{if(O.length===0)return 0;const S=O.filter(E=>E.value!==null&&E.value!==void 0);return S.length===0?0:S.reduce((E,T)=>E+T.value,0)/S.length};return _.jsxs("div",{children:[u&&_.jsx($_e,{atypicalStats:f,onNotify:v,onClose:()=>c(!1),hasCaretaker:!!(t.caretakerName&&t.caretakerPhone)}),p&&_.jsx("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginBottom:"1.5rem"},children:_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:"rgba(59, 130, 246, 0.1)",color:"#3b82f6",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"8px",fontSize:"0.9rem",fontWeight:600},children:[_.jsx("div",{className:"spinner",style:{width:"14px",height:"14px",border:"2px solid rgba(59, 130, 246, 0.3)",borderTop:"2px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Analyzing health stats..."]})}),r==="overview"?_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"70% 30%",gap:"2rem",marginBottom:"2rem",marginRight:"2rem",alignItems:"stretch"},children:[_.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[_.jsx("div",{style:{height:"320px"},children:_.jsx(sk,{title:"Heart Rate",data:o,dataKey:"value",color:"#ef4444",unit:"BPM",averageValue:x(o),status:f.includes("Heart Rate")?"atypical":"typical",onNotifyCaretaker:()=>v("Heart Rate")})}),_.jsx("div",{style:{height:"320px"},children:_.jsx(sk,{title:"Respiration Rate",data:s,dataKey:"value",color:"#3b82f6",unit:"Breaths/min",averageValue:x(s),status:f.includes("Respiration Rate")?"atypical":"typical",onNotifyCaretaker:()=>v("Respiration Rate")})})]}),_.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",height:"calc(320px + 2rem + 320px)"},children:[_.jsxs("button",{onClick:()=>f.length>0&&c(!0),disabled:f.length===0,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:f.length>0?"rgba(239, 68, 68, 0.1)":"rgba(16, 185, 129, 0.1)",color:f.length>0?"var(--color-danger)":"#10b981",border:`1px solid ${f.length>0?"rgba(239, 68, 68, 0.2)":"rgba(16, 185, 129, 0.2)"}`,borderRadius:"8px",fontSize:"0.9rem",fontWeight:600,cursor:f.length>0?"pointer":"default",opacity:f.length>0?1:.8,width:"100%"},children:[_.jsx(vg,{size:16}),f.length>0?"Show Alerts":"No Alerts"]}),_.jsxs("div",{className:"glass-panel",style:{display:"flex",padding:"0.25rem",gap:"0.25rem",width:"100%"},children:[_.jsx("button",{className:r==="overview"?"primary-btn":"",onClick:()=>i("overview"),style:{fontSize:"0.8rem",padding:"0.4rem 1rem",display:"flex",gap:"0.4rem",alignItems:"center",flex:1,justifyContent:"center"},children:"Widget View"}),_.jsx("div",{style:{width:"1px",background:"#e5e7eb",margin:"0 0.5rem"}}),_.jsxs("button",{className:"",onClick:()=>i("medications"),style:{fontSize:"0.8rem",padding:"0.4rem 1rem",display:"flex",gap:"0.4rem",alignItems:"center",flex:1,justifyContent:"center"},children:[_.jsx(ex,{size:14}),"Schedule"]})]}),_.jsx("div",{style:{flex:1,minHeight:0},children:_.jsx(L_e,{})})]})]}):_.jsx("div",{style:{height:"calc(100vh - 200px)",width:"100%",marginRight:"2rem"},children:_.jsx(V_e,{activeTab:r,setActiveTab:i,atypicalMetrics:f,onShowWarning:()=>c(!0)})})]})},Cwe=()=>{const{profile:t,user:e,loading:n}=$o(),[r,i]=j.useState(null),[o,a]=j.useState(!0),[s,l]=j.useState(!0),[u,c]=j.useState(""),[f,d]=j.useState(!1),p=j.useRef(null),m=j.useRef(!1);j.useEffect(()=>{(async()=>{if(!n&&e!=null&&e.uid&&!(!t.age||!t.sex)&&!m.current){a(!0);try{const v=await Iwe();if(v&&v.processedAt){const x=v.processedAt.toDate(),O=new Date;if(x.getDate()===O.getDate()&&x.getMonth()===O.getMonth()&&x.getFullYear()===O.getFullYear()){const A=v.sessionId||`${v.processedAt.toMillis()}_${v.pulse.average}_${v.breathing.average}`;if(p.current!==A&&!m.current){i(v),p.current=A,m.current=!0,d(!0);try{const E=await Ck(t,v,e.uid);c(E)}finally{d(!1),m.current=!1}}else i(v)}else i(null),p.current=null}}catch(v){console.error("Error loading daily session:",v)}finally{a(!1)}}})()},[e==null?void 0:e.uid,n,t.age,t.sex]);const g=()=>{alert(`Session Report sent to Caretaker.
Auto-notify is ${s?"ON":"OFF"}.`)},b=async()=>{if(!(!r||m.current||!(e!=null&&e.uid))){m.current=!0,d(!0),c("");try{const y=await Ck(t,r,e.uid);c(y)}catch(y){console.error("Error refreshing analysis:",y),c("Unable to generate AI analysis at this time. Please try again later.")}finally{d(!1),m.current=!1}}};return o?_.jsxs("div",{className:"glass-panel",style:{padding:"3rem",textAlign:"center",marginTop:"2rem"},children:[_.jsx("div",{className:"spinner",style:{margin:"0 auto 1rem auto"}}),_.jsx("p",{children:"Loading session data..."})]}):r?_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"2rem",marginTop:"2rem"},children:[_.jsxs("div",{className:"glass-panel",style:{padding:"2rem"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[_.jsx("h2",{style:{margin:0},children:"Daily Session Report"}),_.jsx("div",{style:{fontSize:"0.9rem",opacity:.6},children:r.processedAt.toDate().toLocaleString()})]}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1.5rem",marginBottom:"3rem"},children:[_.jsxs("div",{style:{background:"rgba(255,255,255,0.5)",padding:"1.5rem",borderRadius:"12px",border:"1px solid rgba(80,80,80,0.05)"},children:[_.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#ef4444"},children:"Heart Rate (Pulse)"}),_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[_.jsx("span",{style:{opacity:.7},children:"Average"}),_.jsxs("strong",{children:[Math.round(r.pulse.average)," BPM"]})]}),_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[_.jsx("span",{style:{opacity:.7},children:"Highest"}),_.jsxs("strong",{children:[Math.round(r.pulse.max)," BPM"]})]}),_.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[_.jsx("span",{style:{opacity:.7},children:"Lowest"}),_.jsxs("strong",{children:[Math.round(r.pulse.min)," BPM"]})]})]}),_.jsxs("div",{style:{background:"rgba(255,255,255,0.5)",padding:"1.5rem",borderRadius:"12px",border:"1px solid rgba(80,80,80,0.05)"},children:[_.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#3b82f6"},children:"Breathing"}),_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[_.jsx("span",{style:{opacity:.7},children:"Average"}),_.jsxs("strong",{children:[Math.round(r.breathing.average)," bpm"]})]}),_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[_.jsx("span",{style:{opacity:.7},children:"Highest"}),_.jsxs("strong",{children:[Math.round(r.breathing.max)," bpm"]})]}),_.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[_.jsx("span",{style:{opacity:.7},children:"Lowest"}),_.jsxs("strong",{children:[Math.round(r.breathing.min)," bpm"]})]})]})]}),_.jsxs("div",{style:{borderTop:"1px solid rgba(0,0,0,0.1)",paddingTop:"1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[_.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer"},children:[_.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"4px",border:"2px solid rgba(0,0,0,0.2)",display:"flex",alignItems:"center",justifyContent:"center",background:s?"#3b82f6":"transparent",borderColor:s?"#3b82f6":"rgba(0,0,0,0.2)"},onClick:()=>l(!s),children:s&&_.jsx(g_,{size:14,color:"white"})}),_.jsx("span",{children:"Always notify caretaker of session results"})]}),_.jsxs("button",{className:"primary-btn",onClick:g,style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[_.jsx(Kq,{size:18}),"Share Results"]})]})]}),_.jsxs("div",{className:"glass-panel",style:{padding:"2rem",display:"flex",flexDirection:"column"},children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[_.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.75rem",margin:0},children:[_.jsx("div",{style:{background:"linear-gradient(135deg, #3b82f6 0%, #2dd4bf 100%)",color:"white",padding:"0.5rem",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.2)"},children:_.jsx(Xq,{size:20})}),"AI Session Analysis"]}),_.jsx("button",{onClick:b,disabled:f||!r,style:{background:"transparent",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"8px",padding:"0.5rem",cursor:f||!r?"not-allowed":"pointer",opacity:f||!r?.5:1,display:"flex",alignItems:"center",justifyContent:"center",color:"#3b82f6",transition:"all 0.2s"},title:"Refresh AI analysis",children:_.jsx(qq,{size:18,style:{animation:f?"spin 1s linear infinite":void 0}})})]}),f?_.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem",opacity:.6},children:[_.jsx("div",{className:"spinner"}),_.jsx("p",{style:{fontWeight:500},children:"Baymax is analyzing your session..."})]}):_.jsx("div",{style:{flex:1,lineHeight:"1.7",fontSize:"1.05rem",color:"var(--color-text)",background:"rgba(255, 255, 255, 0.3)",padding:"1.5rem",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.4)"},children:u||"Complete a session to see your AI insights."}),_.jsx("div",{style:{marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid rgba(0,0,0,0.05)",fontSize:"0.8rem",opacity:.5,fontStyle:"italic"},children:"*Baymax uses artificial intelligence to summarize statistical data. This is not a medical diagnosis. If you have concerns, please consult a healthcare professional."})]})]}):_.jsxs("div",{className:"glass-panel",style:{padding:"3rem",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",marginTop:"2rem"},children:[_.jsx("div",{style:{background:"rgba(59, 130, 246, 0.1)",padding:"1.5rem",borderRadius:"50%",marginBottom:"1.5rem"},children:_.jsx(Yq,{size:48,color:"#3b82f6"})}),_.jsx("h2",{children:"No Session Data for Today"}),_.jsx("p",{style:{opacity:.7,maxWidth:"400px"},children:"You haven't completed your daily check-in yet. Please open the HomeCare Mobile App on your phone to start recording your session."})]})};const Owe=()=>{const{profile:t,updateProfile:e}=$o(),[n,r]=j.useState(t);j.useEffect(()=>{r(t)},[t]);const i=s=>{r({...n,[s.target.name]:s.target.value})},o=async()=>{await e(n),alert("Settings saved successfully!")},a=({label:s,name:l,type:u="text",value:c,placeholder:f})=>_.jsxs("div",{className:"form-group settings-form-group",style:{marginBottom:"1rem"},children:[_.jsx("label",{style:{display:"block",marginTop:"0rem",fontSize:"0.875rem",fontWeight:600,color:"var(--text-main)"},children:s}),_.jsx("input",{type:u,name:l,value:c,onChange:i,placeholder:f,className:"form-input",style:{width:"100%",padding:"0.875rem 1rem",border:"1.5px solid rgba(0, 0, 0, 0.1)",borderRadius:"0.75rem",fontSize:"0.95rem",background:"rgba(255, 255, 255, 0.7)",color:"var(--text-main)",fontFamily:"inherit",boxSizing:"border-box",outline:"none",transition:"all 0.2s ease"},onFocus:d=>{d.target.style.borderColor="var(--color-primary)",d.target.style.background="#fff",d.target.style.boxShadow="0 0 0 4px var(--color-primary-light)"},onBlur:d=>{d.target.style.borderColor="rgba(0, 0, 0, 0.1)",d.target.style.background="rgba(255, 255, 255, 0.7)",d.target.style.boxShadow="none"},onMouseEnter:d=>{document.activeElement!==d.currentTarget&&(d.currentTarget.style.borderColor="var(--color-primary)",d.currentTarget.style.background="rgba(255, 255, 255, 0.9)")},onMouseLeave:d=>{document.activeElement!==d.currentTarget&&(d.currentTarget.style.borderColor="rgba(0, 0, 0, 0.1)",d.currentTarget.style.background="rgba(255, 255, 255, 0.7)")}})]});return _.jsxs("div",{className:"glass-panel settings-container",style:{padding:"2rem",maxWidth:"1200px",margin:"2rem auto"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"2rem",borderBottom:"1px solid rgba(0, 0, 0, 0.1)",paddingBottom:"1rem"},children:[_.jsx(vD,{size:32,color:"var(--color-primary)"}),_.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"var(--text-main)",letterSpacing:"-0.025em"},children:"User Settings"})]}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[_.jsxs("section",{children:[_.jsx("h3",{style:{marginTop:0,marginBottom:"1.5rem",color:"var(--color-primary)",fontSize:"1.25rem",fontWeight:700,letterSpacing:"-0.025em"},children:"Account Information"}),_.jsx(a,{label:"Full Name",name:"name",value:n.name}),_.jsx(a,{label:"Email Address",name:"email",value:n.email,type:"email"}),_.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[_.jsx("label",{style:{display:"block",marginTop:"0rem",fontSize:"0.875rem",fontWeight:600,color:"var(--text-main)"},children:"Password"}),_.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[_.jsx("input",{type:"password",value:"********",readOnly:!0,className:"form-input",style:{flex:1,padding:"0.875rem 1rem",border:"1.5px solid rgba(0, 0, 0, 0.1)",borderRadius:"0.75rem",fontSize:"0.95rem",background:"rgba(255, 255, 255, 0.7)",color:"var(--text-main)",fontFamily:"inherit",opacity:.5,cursor:"not-allowed"}}),_.jsxs("button",{className:"primary-btn",style:{whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.875rem 1.25rem",fontSize:"0.95rem",fontWeight:600},children:[_.jsx(zq,{size:16})," Change"]})]})]})]}),_.jsxs("section",{children:[_.jsx("h3",{style:{marginTop:0,marginBottom:"1.5rem",color:"var(--color-success)",fontSize:"1.25rem",fontWeight:700,letterSpacing:"-0.025em"},children:"Physical Statistics"}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.25rem"},children:[_.jsx(a,{label:"Age",name:"age",value:n.age,type:"number"}),_.jsx(a,{label:"Sex",name:"sex",value:n.sex}),_.jsx(a,{label:"Height",name:"height",value:n.height}),_.jsx(a,{label:"Weight",name:"weight",value:n.weight})]})]})]}),_.jsxs("section",{style:{marginTop:"2rem"},children:[_.jsx("h3",{style:{marginTop:0,marginBottom:"1.5rem",color:"var(--color-danger)",fontSize:"1.25rem",fontWeight:700,letterSpacing:"-0.025em"},children:"Caretaker Contact"}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.25rem"},children:[_.jsx(a,{label:"Caretaker Name",name:"caretakerName",value:n.caretakerName}),_.jsx(a,{label:"Phone Number",name:"caretakerPhone",value:n.caretakerPhone})]})]}),_.jsx("div",{style:{marginTop:"3rem",textAlign:"right"},children:_.jsxs("button",{className:"primary-btn",onClick:o,style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.875rem 2rem",fontSize:"0.95rem",fontWeight:600,borderRadius:"0.75rem"},children:[_.jsx(yD,{size:20}),"Save Changes"]})})]})};const kwe=()=>{const{profile:t,updateProfile:e,medicationDetails:n,addMedicationWithDetails:r,removeMedicationByIndex:i,updateMedicationReminder:o,updateMedicationDetails:a}=$o(),[s,l]=j.useState(t),[u,c]=j.useState([]),[f,d]=j.useState(""),[p,m]=j.useState(!1),[g,b]=j.useState(!1);j.useEffect(()=>{l(t),t.conditions&&t.conditions!=="None"?c(t.conditions.split(",").map(C=>C.trim()).filter(C=>C.length>0)):c([])},[t]);const[y,v]=j.useState({name:"",frequency:"",time:"",reminder:!1}),x=async()=>{const C={...s,conditions:u.length>0?u.join(", "):"None"};await e(C),alert("Medical information saved successfully!")},O=()=>{if(f.trim()){if(u.includes(f.trim())){alert("This condition is already added");return}c([...u,f.trim()]),d(""),b(!1)}},S=C=>{c(u.filter((k,$)=>$!==C))},A=async()=>{if(!y.name.trim()){alert("Please fill in medication name");return}await r(y),v({name:"",frequency:"",time:"",reminder:!1}),m(!1)},E=async C=>{await i(C)},T=C=>{const k=C.target,$=k.type==="checkbox"?k.checked:k.value,L={...y,[k.name]:$};(k.name==="frequency"||k.name==="time")&&!$&&(L.reminder=!1),v(L)},P=async C=>{const k=n[C];!k||!k.frequency||!k.time||await o(C,!k.reminder)},N=async(C,k)=>{await a(C,{frequency:k})},R=({children:C})=>_.jsxs("span",{children:[C," ",_.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]});return _.jsxs("div",{className:"glass-panel settings-container",style:{padding:"2rem",maxWidth:"1200px",margin:"2rem auto"},children:[_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"2rem",borderBottom:"1px solid rgba(0, 0, 0, 0.1)",paddingBottom:"1rem"},children:[_.jsx(gD,{size:32,color:"var(--color-primary)"}),_.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"var(--text-main)",letterSpacing:"-0.025em"},children:"Medical Information"})]}),_.jsxs("section",{children:[_.jsx("h3",{style:{marginTop:0,marginBottom:"1.5rem",color:"var(--color-warning)",fontSize:"1.25rem",fontWeight:700,letterSpacing:"-0.025em"},children:"Diagnosed Conditions"}),u.length>0&&_.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"1rem"},children:u.map((C,k)=>_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"var(--color-primary-light)",color:"var(--color-primary)",padding:"0.25rem 0.75rem",borderRadius:"16px",fontSize:"0.875rem",fontWeight:500},children:[C,_.jsx("button",{type:"button",onClick:()=>S(k),style:{background:"transparent",border:"none",color:"var(--color-primary)",cursor:"pointer",padding:0,display:"flex",alignItems:"center",fontSize:"1rem",lineHeight:1,opacity:.7},title:"Remove condition",children:""})]},k))}),!g&&_.jsx("button",{type:"button",onClick:()=>b(!0),style:{padding:"0.5rem 1rem",background:"var(--color-primary)",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:500,cursor:"pointer",marginTop:"0.5rem",transition:"all 0.2s ease",display:"inline-flex",alignItems:"center",gap:"0.375rem"},onMouseEnter:C=>{C.currentTarget.style.background="#2563eb",C.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:C=>{C.currentTarget.style.background="var(--color-primary)",C.currentTarget.style.transform="translateY(0)"},children:"+ Add Diagnosis"}),g&&_.jsxs("div",{className:"add-medication-form",children:[_.jsx("div",{className:"add-medication-title",children:"Add Diagnosis"}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"currentCondition",children:_.jsx(R,{children:"Condition Name"})}),_.jsx("input",{type:"text",id:"currentCondition",value:f,onChange:C=>d(C.target.value),onKeyDown:C=>{C.key==="Enter"&&(C.preventDefault(),O())},placeholder:"e.g. Diabetes, Hypertension",className:"form-input"})]}),_.jsx("button",{type:"button",onClick:O,className:"add-medication-btn",children:"+ Add Diagnosis"})]})]}),_.jsxs("section",{style:{marginTop:"2rem"},children:[_.jsx("h3",{style:{marginTop:0,marginBottom:"1.5rem",color:"var(--color-warning)",fontSize:"1.25rem",fontWeight:700,letterSpacing:"-0.025em"},children:"Medications"}),n.length>0&&_.jsx("div",{className:"medication-table-wrapper",children:_.jsxs("table",{className:"medication-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Medication"}),_.jsx("th",{children:"Frequency"}),_.jsx("th",{children:"Time"}),_.jsx("th",{children:"Notify"}),_.jsx("th",{})]})}),_.jsx("tbody",{children:n.map((C,k)=>_.jsxs("tr",{className:"medication-row",children:[_.jsx("td",{children:C.name||"--"}),_.jsx("td",{children:_.jsxs("select",{value:C.frequency||"",onChange:$=>N(k,$.target.value),className:"form-select",style:{padding:"0.25rem 0.5rem",fontSize:"0.875rem",border:"1px solid var(--input-border)",borderRadius:"4px",background:"white",cursor:"pointer"},children:[_.jsx("option",{value:"",children:"Select frequency"}),_.jsx("option",{value:"daily",children:"Daily"}),_.jsx("option",{value:"weekly",children:"Weekly"}),_.jsx("option",{value:"as-needed",children:"As Needed"})]})}),_.jsx("td",{children:C.time||"--"}),_.jsx("td",{className:"notify-cell",children:_.jsx("label",{className:"notify-checkbox-label",children:_.jsx("input",{type:"checkbox",checked:C.reminder,onChange:()=>P(k),disabled:!C.frequency||!C.time,className:"notify-checkbox"})})}),_.jsx("td",{className:"delete-cell",children:_.jsx("button",{type:"button",onClick:()=>E(k),className:"delete-medication-btn-row",title:"Delete medication",children:""})})]},k))})]})}),!p&&_.jsx("button",{type:"button",onClick:()=>m(!0),style:{padding:"0.5rem 1rem",background:"var(--color-primary)",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:500,cursor:"pointer",marginTop:"0.5rem",transition:"all 0.2s ease",display:"inline-flex",alignItems:"center",gap:"0.375rem"},onMouseEnter:C=>{C.currentTarget.style.background="#2563eb",C.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:C=>{C.currentTarget.style.background="var(--color-primary)",C.currentTarget.style.transform="translateY(0)"},children:"+ Add Medication"}),p&&_.jsxs("div",{className:"add-medication-form",children:[_.jsx("div",{className:"add-medication-title",children:"Add Medication"}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"currentMedicationName",children:_.jsx(R,{children:"Medication Name"})}),_.jsx("input",{type:"text",id:"currentMedicationName",name:"name",value:y.name,onChange:T,placeholder:"e.g. Aspirin",className:"form-input"})]}),_.jsxs("div",{className:"form-grid",children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"currentMedicationFrequency",children:"Frequency"}),_.jsxs("select",{id:"currentMedicationFrequency",name:"frequency",value:y.frequency,onChange:T,className:`form-select ${y.frequency?"":"placeholder-selected"}`,children:[_.jsx("option",{value:"",className:"placeholder-option",children:"Select frequency"}),_.jsx("option",{value:"daily",children:"Daily"}),_.jsx("option",{value:"weekly",children:"Weekly"}),_.jsx("option",{value:"as-needed",children:"As Needed"})]})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"currentMedicationTime",children:"Time"}),_.jsx("div",{className:"input-wrapper",children:_.jsx("input",{type:"time",id:"currentMedicationTime",name:"time",value:y.time,onChange:T,className:`form-input ${y.time?"":"placeholder-time"}`})})]})]}),_.jsxs("div",{className:"notify-form-group",children:[_.jsx("input",{type:"checkbox",name:"reminder",id:"medication-reminder",checked:y.reminder,onChange:T,disabled:!y.frequency||!y.time,className:"notify-checkbox"}),_.jsx("label",{htmlFor:"medication-reminder",className:"notify-checkbox-label-form",children:"Notify me to take this medication"})]}),_.jsx("button",{type:"button",onClick:A,className:"add-medication-btn",children:"+ Add Medication"})]})]}),_.jsx("div",{style:{marginTop:"3rem",textAlign:"right"},children:_.jsxs("button",{className:"primary-btn",onClick:x,style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.875rem 2rem",fontSize:"0.95rem",fontWeight:600,borderRadius:"0.75rem"},children:[_.jsx(yD,{size:20}),"Save Changes"]})})]})},Rwe=j.createContext({}),e3=Rwe,Nwe={aliceblue:"9ehhb",antiquewhite:"9sgk7",aqua:"1ekf",aquamarine:"4zsno",azure:"9eiv3",beige:"9lhp8",bisque:"9zg04",black:"0",blanchedalmond:"9zhe5",blue:"73",blueviolet:"5e31e",brown:"6g016",burlywood:"8ouiv",cadetblue:"3qba8",chartreuse:"4zshs",chocolate:"87k0u",coral:"9yvyo",cornflowerblue:"3xael",cornsilk:"9zjz0",crimson:"8l4xo",cyan:"1ekf",darkblue:"3v",darkcyan:"rkb",darkgoldenrod:"776yz",darkgray:"6mbhl",darkgreen:"jr4",darkgrey:"6mbhl",darkkhaki:"7ehkb",darkmagenta:"5f91n",darkolivegreen:"3bzfz",darkorange:"9yygw",darkorchid:"5z6x8",darkred:"5f8xs",darksalmon:"9441m",darkseagreen:"5lwgf",darkslateblue:"2th1n",darkslategray:"1ugcv",darkslategrey:"1ugcv",darkturquoise:"14up",darkviolet:"5rw7n",deeppink:"9yavn",deepskyblue:"11xb",dimgray:"442g9",dimgrey:"442g9",dodgerblue:"16xof",firebrick:"6y7tu",floralwhite:"9zkds",forestgreen:"1cisi",fuchsia:"9y70f",gainsboro:"8m8kc",ghostwhite:"9pq0v",goldenrod:"8j4f4",gold:"9zda8",gray:"50i2o",green:"pa8",greenyellow:"6senj",grey:"50i2o",honeydew:"9eiuo",hotpink:"9yrp0",indianred:"80gnw",indigo:"2xcoy",ivory:"9zldc",khaki:"9edu4",lavenderblush:"9ziet",lavender:"90c8q",lawngreen:"4vk74",lemonchiffon:"9zkct",lightblue:"6s73a",lightcoral:"9dtog",lightcyan:"8s1rz",lightgoldenrodyellow:"9sjiq",lightgray:"89jo3",lightgreen:"5nkwg",lightgrey:"89jo3",lightpink:"9z6wx",lightsalmon:"9z2ii",lightseagreen:"19xgq",lightskyblue:"5arju",lightslategray:"4nwk9",lightslategrey:"4nwk9",lightsteelblue:"6wau6",lightyellow:"9zlcw",lime:"1edc",limegreen:"1zcxe",linen:"9shk6",magenta:"9y70f",maroon:"4zsow",mediumaquamarine:"40eju",mediumblue:"5p",mediumorchid:"79qkz",mediumpurple:"5r3rv",mediumseagreen:"2d9ip",mediumslateblue:"4tcku",mediumspringgreen:"1di2",mediumturquoise:"2uabw",mediumvioletred:"7rn9h",midnightblue:"z980",mintcream:"9ljp6",mistyrose:"9zg0x",moccasin:"9zfzp",navajowhite:"9zest",navy:"3k",oldlace:"9wq92",olive:"50hz4",olivedrab:"472ub",orange:"9z3eo",orangered:"9ykg0",orchid:"8iu3a",palegoldenrod:"9bl4a",palegreen:"5yw0o",paleturquoise:"6v4ku",palevioletred:"8k8lv",papayawhip:"9zi6t",peachpuff:"9ze0p",peru:"80oqn",pink:"9z8wb",plum:"8nba5",powderblue:"6wgdi",purple:"4zssg",rebeccapurple:"3zk49",red:"9y6tc",rosybrown:"7cv4f",royalblue:"2jvtt",saddlebrown:"5fmkz",salmon:"9rvci",sandybrown:"9jn1c",seagreen:"1tdnb",seashell:"9zje6",sienna:"6973h",silver:"7ir40",skyblue:"5arjf",slateblue:"45e4t",slategray:"4e100",slategrey:"4e100",snow:"9zke2",springgreen:"1egv",steelblue:"2r1kk",tan:"87yx8",teal:"pds",thistle:"8ggk8",tomato:"9yqfb",turquoise:"2j4r4",violet:"9b10u",wheat:"9ld4j",white:"9zldr",whitesmoke:"9lhpx",yellow:"9zl6o",yellowgreen:"61fzm"},Nt=Math.round;function Kv(t,e){const n=t.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)r[i]=e(r[i]||0,n[i]||"",i);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const Ok=(t,e,n)=>n===0?t:t/100;function Uu(t,e){const n=e||255;return t>n?n:t<0?0:t}class Ps{constructor(e){pn(this,"isValid",!0);pn(this,"r",0);pn(this,"g",0);pn(this,"b",0);pn(this,"a",1);pn(this,"_h");pn(this,"_hsl_s");pn(this,"_hsv_s");pn(this,"_l");pn(this,"_v");pn(this,"_max");pn(this,"_min");pn(this,"_brightness");function n(i){return i[0]in e&&i[1]in e&&i[2]in e}if(e)if(typeof e=="string"){let o=function(a){return i.startsWith(a)};var r=o;const i=e.trim();if(/^#?[A-F\d]{3,8}$/i.test(i))this.fromHexString(i);else if(o("rgb"))this.fromRgbString(i);else if(o("hsl"))this.fromHslString(i);else if(o("hsv")||o("hsb"))this.fromHsvString(i);else{const a=Nwe[i.toLowerCase()];a&&this.fromHexString(parseInt(a,36).toString(16).padStart(6,"0"))}}else if(e instanceof Ps)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._hsl_s=e._hsl_s,this._hsv_s=e._hsv_s,this._l=e._l,this._v=e._v;else if(n("rgb"))this.r=Uu(e.r),this.g=Uu(e.g),this.b=Uu(e.b),this.a=typeof e.a=="number"?Uu(e.a,1):1;else if(n("hsl"))this.fromHsl(e);else if(n("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const n=this.toHsv();return n.h=e,this._c(n)}getLuminance(){function e(o){const a=o/255;return a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)}const n=e(this.r),r=e(this.g),i=e(this.b);return .2126*n+.7152*r+.0722*i}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=Nt(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){return this.getHSVSaturation()}getHSVSaturation(){if(typeof this._hsv_s>"u"){const e=this.getMax()-this.getMin();e===0?this._hsv_s=0:this._hsv_s=e/this.getMax()}return this._hsv_s}getHSLSaturation(){if(typeof this._hsl_s>"u"){const e=this.getMax()-this.getMin();if(e===0)this._hsl_s=0;else{const n=this.getLightness();this._hsl_s=e/255/(1-Math.abs(2*n-1))}}return this._hsl_s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()-e/100;return i<0&&(i=0),this._c({h:n,s:r,l:i,a:this.a})}lighten(e=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()+e/100;return i>1&&(i=1),this._c({h:n,s:r,l:i,a:this.a})}mix(e,n=50){const r=this._c(e),i=n/100,o=s=>(r[s]-this[s])*i+this[s],a={r:Nt(o("r")),g:Nt(o("g")),b:Nt(o("b")),a:Nt(o("a")*100)/100};return this._c(a)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const n=this._c(e),r=this.a+n.a*(1-this.a),i=o=>Nt((this[o]*this.a+n[o]*n.a*(1-this.a))/r);return this._c({r:i("r"),g:i("g"),b:i("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const n=(this.r||0).toString(16);e+=n.length===2?n:"0"+n;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const i=(this.b||0).toString(16);if(e+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){const o=Nt(this.a*255).toString(16);e+=o.length===2?o:"0"+o}return e}toHsl(){return{h:this.getHue(),s:this.getHSLSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),n=Nt(this.getHSLSaturation()*100),r=Nt(this.getLightness()*100);return this.a!==1?`hsla(${e},${n}%,${r}%,${this.a})`:`hsl(${e},${n}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getHSVSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,n,r){const i=this.clone();return i[e]=Uu(n,r),i}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const n=e.replace("#","");function r(i,o){return parseInt(n[i]+n[o||i],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:e,s:n,l:r,a:i}){const o=(e%360+360)%360;if(this._h=o,this._hsl_s=n,this._l=r,this.a=typeof i=="number"?i:1,n<=0){const p=Nt(r*255);this.r=p,this.g=p,this.b=p;return}let a=0,s=0,l=0;const u=o/60,c=(1-Math.abs(2*r-1))*n,f=c*(1-Math.abs(u%2-1));u>=0&&u<1?(a=c,s=f):u>=1&&u<2?(a=f,s=c):u>=2&&u<3?(s=c,l=f):u>=3&&u<4?(s=f,l=c):u>=4&&u<5?(a=f,l=c):u>=5&&u<6&&(a=c,l=f);const d=r-c/2;this.r=Nt((a+d)*255),this.g=Nt((s+d)*255),this.b=Nt((l+d)*255)}fromHsv({h:e,s:n,v:r,a:i}){const o=(e%360+360)%360;this._h=o,this._hsv_s=n,this._v=r,this.a=typeof i=="number"?i:1;const a=Nt(r*255);if(this.r=a,this.g=a,this.b=a,n<=0)return;const s=o/60,l=Math.floor(s),u=s-l,c=Nt(r*(1-n)*255),f=Nt(r*(1-n*u)*255),d=Nt(r*(1-n*(1-u))*255);switch(l){case 0:this.g=d,this.b=c;break;case 1:this.r=f,this.b=c;break;case 2:this.r=c,this.b=d;break;case 3:this.r=c,this.g=f;break;case 4:this.r=d,this.g=c;break;case 5:default:this.g=c,this.b=f;break}}fromHsvString(e){const n=Kv(e,Ok);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(e){const n=Kv(e,Ok);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(e){const n=Kv(e,(r,i)=>i.includes("%")?Nt(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}}const cd=2,kk=.16,Mwe=.05,jwe=.05,Dwe=.15,t3=5,n3=4,$we=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function Rk(t,e,n){let r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-cd*e:Math.round(t.h)+cd*e:r=n?Math.round(t.h)+cd*e:Math.round(t.h)-cd*e,r<0?r+=360:r>=360&&(r-=360),r}function Nk(t,e,n){if(t.h===0&&t.s===0)return t.s;let r;return n?r=t.s-kk*e:e===n3?r=t.s+kk:r=t.s+Mwe*e,r>1&&(r=1),n&&e===t3&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function Mk(t,e,n){let r;return n?r=t.v+jwe*e:r=t.v-Dwe*e,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function Lwe(t,e={}){const n=[],r=new Ps(t),i=r.toHsv();for(let o=t3;o>0;o-=1){const a=new Ps({h:Rk(i,o,!0),s:Nk(i,o,!0),v:Mk(i,o,!0)});n.push(a)}n.push(r);for(let o=1;o<=n3;o+=1){const a=new Ps({h:Rk(i,o),s:Nk(i,o),v:Mk(i,o)});n.push(a)}return e.theme==="dark"?$we.map(({index:o,amount:a})=>new Ps(e.backgroundColor||"#141414").mix(n[o],a).toHexString()):n.map(o=>o.toHexString())}const Hw=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Hw.primary=Hw[5];function Vwe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Fwe(t,e){if(!t)return!1;if(t.contains)return t.contains(e);let n=e;for(;n;){if(n===t)return!0;n=n.parentNode}return!1}const jk="data-rc-order",Dk="data-rc-priority",Bwe="rc-util-key",Ww=new Map;function r3({mark:t}={}){return t?t.startsWith("data-")?t:`data-${t}`:Bwe}function uE(t){return t.attachTo?t.attachTo:document.querySelector("head")||document.body}function Uwe(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function cE(t){return Array.from((Ww.get(t)||t).children).filter(e=>e.tagName==="STYLE")}function i3(t,e={}){if(!Vwe())return null;const{csp:n,prepend:r,priority:i=0}=e,o=Uwe(r),a=o==="prependQueue",s=document.createElement("style");s.setAttribute(jk,o),a&&i&&s.setAttribute(Dk,`${i}`),n!=null&&n.nonce&&(s.nonce=n==null?void 0:n.nonce),s.innerHTML=t;const l=uE(e),{firstChild:u}=l;if(r){if(a){const c=(e.styles||cE(l)).filter(f=>{if(!["prepend","prependQueue"].includes(f.getAttribute(jk)))return!1;const d=Number(f.getAttribute(Dk)||0);return i>=d});if(c.length)return l.insertBefore(s,c[c.length-1].nextSibling),s}l.insertBefore(s,u)}else l.appendChild(s);return s}function zwe(t,e={}){let{styles:n}=e;return n||(n=cE(uE(e))),n.find(r=>r.getAttribute(r3(e))===t)}function Hwe(t,e){const n=Ww.get(t);if(!n||!Fwe(document,n)){const r=i3("",e),{parentNode:i}=r;Ww.set(t,i),t.removeChild(r)}}function Wwe(t,e,n={}){var l,u,c;const r=uE(n),i=cE(r),o={...n,styles:i};Hwe(r,o);const a=zwe(e,o);if(a)return(l=o.csp)!=null&&l.nonce&&a.nonce!==((u=o.csp)==null?void 0:u.nonce)&&(a.nonce=(c=o.csp)==null?void 0:c.nonce),a.innerHTML!==t&&(a.innerHTML=t),a;const s=i3(t,o);return s.setAttribute(r3(o),e),s}function o3(t){var e;return(e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t)}function qwe(t){return o3(t)instanceof ShadowRoot}function Gwe(t){return qwe(t)?o3(t):null}let qw={};const Kwe=t=>{};function Ywe(t,e){}function Xwe(t,e){}function Qwe(){qw={}}function a3(t,e,n){!e&&!qw[n]&&(t(!1,n),qw[n]=!0)}function uy(t,e){a3(Ywe,t,e)}function Jwe(t,e){a3(Xwe,t,e)}uy.preMessage=Kwe;uy.resetWarned=Qwe;uy.noteOnce=Jwe;function Zwe(t){return t.replace(/-(.)/g,(e,n)=>n.toUpperCase())}function ebe(t,e){uy(t,`[@ant-design/icons] ${e}`)}function $k(t){return typeof t=="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(typeof t.icon=="object"||typeof t.icon=="function")}function Lk(t={}){return Object.keys(t).reduce((e,n)=>{const r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:delete e[n],e[Zwe(n)]=r}return e},{})}function Gw(t,e,n){return n?V.createElement(t.tag,{key:e,...Lk(t.attrs),...n},(t.children||[]).map((r,i)=>Gw(r,`${e}-${t.tag}-${i}`))):V.createElement(t.tag,{key:e,...Lk(t.attrs)},(t.children||[]).map((r,i)=>Gw(r,`${e}-${t.tag}-${i}`)))}function s3(t){return Lwe(t)[0]}function l3(t){return t?Array.isArray(t)?t:[t]:[]}const tbe=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
  vertical-align: inherit;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,nbe=t=>{const{csp:e,prefixCls:n,layer:r}=j.useContext(e3);let i=tbe;n&&(i=i.replace(/anticon/g,n)),r&&(i=`@layer ${r} {
${i}
}`),j.useEffect(()=>{const o=t.current,a=Gwe(o);Wwe(i,"@ant-design-icons",{prepend:!r,csp:e,attachTo:a})},[])},xc={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function rbe({primaryColor:t,secondaryColor:e}){xc.primaryColor=t,xc.secondaryColor=e||s3(t),xc.calculated=!!e}function ibe(){return{...xc}}const cy=t=>{const{icon:e,className:n,onClick:r,style:i,primaryColor:o,secondaryColor:a,...s}=t,l=j.useRef(null);let u=xc;if(o&&(u={primaryColor:o,secondaryColor:a||s3(o)}),nbe(l),ebe($k(e),`icon should be icon definiton, but got ${e}`),!$k(e))return null;let c=e;return c&&typeof c.icon=="function"&&(c={...c,icon:c.icon(u.primaryColor,u.secondaryColor)}),Gw(c.icon,`svg-${c.name}`,{className:n,onClick:r,style:i,"data-icon":c.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",...s,ref:l})};cy.displayName="IconReact";cy.getTwoToneColors=ibe;cy.setTwoToneColors=rbe;const fE=cy;function u3(t){const[e,n]=l3(t);return fE.setTwoToneColors({primaryColor:e,secondaryColor:n})}function obe(){const t=fE.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kw.apply(this,arguments)}u3(Hw.primary);const hE=j.forwardRef((t,e)=>{const{className:n,icon:r,spin:i,rotate:o,tabIndex:a,onClick:s,twoToneColor:l,...u}=t,{prefixCls:c="anticon",rootClassName:f}=j.useContext(e3),d=Ae(f,c,{[`${c}-${r.name}`]:!!r.name,[`${c}-spin`]:!!i||r.name==="loading"},n);let p=a;p===void 0&&s&&(p=-1);const m=o?{msTransform:`rotate(${o}deg)`,transform:`rotate(${o}deg)`}:void 0,[g,b]=l3(l);return j.createElement("span",Kw({role:"img","aria-label":r.name},u,{ref:e,tabIndex:p,onClick:s,className:d}),j.createElement(fE,{icon:r,primaryColor:g,secondaryColor:b,style:m}))});hE.getTwoToneColor=obe;hE.setTwoToneColor=u3;const dE=hE;var abe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};const sbe=abe;function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yw.apply(this,arguments)}const lbe=(t,e)=>j.createElement(dE,Yw({},t,{ref:e,icon:sbe})),ube=j.forwardRef(lbe),Xw=ube;var cbe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"};const fbe=cbe;function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(this,arguments)}const hbe=(t,e)=>j.createElement(dE,Qw({},t,{ref:e,icon:fbe})),dbe=j.forwardRef(hbe),c3=dbe;var pbe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};const mbe=pbe;function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jw.apply(this,arguments)}const gbe=(t,e)=>j.createElement(dE,Jw({},t,{ref:e,icon:mbe})),ybe=j.forwardRef(gbe),vbe=ybe;const _be=()=>{const[t,e]=j.useState({email:"",password:""}),[n,r]=j.useState(""),i=Do(),o=s=>{e({...t,[s.target.name]:s.target.value}),r("")},a=async s=>{if(s.preventDefault(),r(""),!t.email||!t.password){r("Please fill in all fields");return}try{await Gz(Jf,t.email,t.password),i("/dashboard",{state:{justLoggedIn:!0}})}catch(l){console.error("Login error:",l),r("Failed to login. Please check your credentials.")}};return _.jsxs("div",{className:"auth-container",children:[_.jsx("div",{className:"auth-image-section",children:_.jsxs("div",{className:"auth-image-overlay",children:[_.jsxs("h2",{children:["Your Health,",_.jsx("br",{}),"Our Priority"]}),_.jsx("p",{children:"Access your medical records, schedule appointments, and connect with healthcare professionals all in one place."})]})}),_.jsx("div",{className:"auth-form-section",children:_.jsxs("div",{className:"auth-card",children:[_.jsxs("div",{className:"auth-header",children:[_.jsx("div",{className:"logo-container",children:_.jsx("img",{src:"/logo.png",alt:"HomeCare",className:"logo-icon"})}),_.jsx("h2",{children:"Welcome Back"}),_.jsx("p",{className:"welcome-text",children:"Please enter your details to sign in."})]}),_.jsxs("form",{onSubmit:a,className:"auth-form",children:[n&&_.jsx("div",{className:"error-message",children:n}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"email",children:"Email Address"}),_.jsxs("div",{className:"input-wrapper",children:[_.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:o,placeholder:"Enter your email",required:!0}),_.jsx(c3,{className:"input-icon"})]})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"password",children:"Password"}),_.jsxs("div",{className:"input-wrapper",children:[_.jsx("input",{type:"password",id:"password",name:"password",value:t.password,onChange:o,placeholder:"",required:!0}),_.jsx(Xw,{className:"input-icon"})]})]}),_.jsxs("div",{className:"form-options",children:[_.jsxs("label",{className:"checkbox-label",children:[_.jsx("input",{type:"checkbox"}),_.jsx("span",{children:"Remember me"})]}),_.jsx(Aa,{to:"/forgot-password",className:"forgot-link",children:"Forgot password?"})]}),_.jsx("button",{type:"submit",className:"auth-button",children:"Sign In"})]}),_.jsx("div",{className:"auth-footer",children:_.jsxs("p",{children:["Don't have an account?",_.jsx(Aa,{to:"/create-account",className:"auth-link",children:"Sign Up"})]})})]})})]})},wbe=()=>{const[t,e]=j.useState({fullName:"",email:"",password:"",confirmPassword:""}),[n,r]=j.useState(""),i=Do(),o=s=>{e({...t,[s.target.name]:s.target.value}),r("")},a=async s=>{if(s.preventDefault(),r(""),!t.fullName||!t.email||!t.password||!t.confirmPassword){r("Please fill in all fields");return}if(t.password!==t.confirmPassword){r("Passwords do not match");return}if(t.password.length<6){r("Password must be at least 6 characters");return}try{const l=await qz(Jf,t.email,t.password);await Yz(l.user,{displayName:t.fullName}),i("/onboarding")}catch(l){console.error("Registration error:",l),l.code==="auth/email-already-in-use"?r("Email already in use"):l.code==="auth/weak-password"?r("Password is too weak"):r("Failed to create account. Please try again.")}};return _.jsxs("div",{className:"auth-container",children:[_.jsx("div",{className:"auth-image-section",children:_.jsxs("div",{className:"auth-image-overlay",children:[_.jsxs("h2",{children:["Join Our",_.jsx("br",{}),"Community"]}),_.jsx("p",{children:"Start your journey towards better health management today. It only takes a minute to get started."})]})}),_.jsx("div",{className:"auth-form-section",children:_.jsxs("div",{className:"auth-card",children:[_.jsxs("div",{className:"auth-header",children:[_.jsx("div",{className:"logo-container",children:_.jsx("img",{src:"/logo.png",alt:"HomeCare",className:"logo-icon"})}),_.jsx("h2",{children:"Create Account"}),_.jsx("p",{className:"welcome-text",children:"Fill in your details to create your account."})]}),_.jsxs("form",{onSubmit:a,className:"auth-form",children:[n&&_.jsx("div",{className:"error-message",children:n}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.25rem"},children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"fullName",children:"Full Name"}),_.jsxs("div",{className:"input-wrapper",children:[_.jsx("input",{type:"text",id:"fullName",name:"fullName",value:t.fullName,onChange:o,placeholder:"John Doe",required:!0}),_.jsx(vbe,{className:"input-icon"})]})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"email",children:"Email"}),_.jsxs("div",{className:"input-wrapper",children:[_.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:o,placeholder:"john@example.com",required:!0}),_.jsx(c3,{className:"input-icon"})]})]})]}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.25rem"},children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"password",children:"Password"}),_.jsxs("div",{className:"input-wrapper",children:[_.jsx("input",{type:"password",id:"password",name:"password",value:t.password,onChange:o,placeholder:"Password",required:!0}),_.jsx(Xw,{className:"input-icon"})]})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"confirmPassword",children:"Confirm"}),_.jsxs("div",{className:"input-wrapper",children:[_.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:o,placeholder:"Confirm",required:!0}),_.jsx(Xw,{className:"input-icon"})]})]})]}),_.jsx("div",{className:"form-options",children:_.jsxs("label",{className:"checkbox-label",children:[_.jsx("input",{type:"checkbox",required:!0}),_.jsxs("span",{children:["I agree to the ",_.jsx("a",{href:"#",style:{color:"var(--color-primary)",textDecoration:"none"},children:"Terms & Conditions"})]})]})}),_.jsx("button",{type:"submit",className:"auth-button",children:"Create Account"})]}),_.jsx("div",{className:"auth-footer",children:_.jsxs("p",{children:["Already have an account?",_.jsx(Aa,{to:"/login",className:"auth-link",children:"Sign In"})]})})]})})]})},bbe=()=>{const[t,e]=j.useState(""),[n,r]=j.useState(!1),[i,o]=j.useState(""),a=s=>{if(s.preventDefault(),o(""),!t){o("Please enter your email address");return}console.log("Reset password requested for:",t),r(!0)};return _.jsxs("div",{className:"auth-container",children:[_.jsx("div",{className:"auth-image-section",children:_.jsxs("div",{className:"auth-image-overlay",children:[_.jsxs("h2",{children:["Recover Your",_.jsx("br",{}),"Account"]}),_.jsx("p",{children:"Don't worry, it happens to the best of us. We'll help you get back to your account in no time."})]})}),_.jsx("div",{className:"auth-form-section",children:_.jsxs("div",{className:"auth-card",children:[_.jsxs("div",{className:"auth-header",children:[_.jsxs("div",{className:"logo-container",children:[_.jsx("img",{src:"/logo.png",alt:"HomeCare",className:"logo-icon"}),_.jsx("span",{className:"logo-text",style:{fontWeight:"bold",fontSize:"1.2rem",color:"var(--text-main)"},children:"HomeCare"})]}),_.jsx("h2",{children:"Forgot Password?"}),_.jsx("p",{className:"welcome-text",children:"Enter your email address to receive a password reset link."})]}),n?_.jsxs("div",{className:"success-message",children:[_.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),_.jsx("h3",{style:{fontSize:"18px",fontWeight:"bold",marginBottom:"8px"},children:"Check your email"}),_.jsxs("p",{style:{marginBottom:"24px",color:"var(--text-main)"},children:["We've sent a password reset link to ",_.jsx("strong",{children:t})]}),_.jsx("button",{onClick:()=>r(!1),className:"auth-button",style:{backgroundColor:"transparent",color:"var(--color-primary)",border:"1px solid var(--color-primary)",boxShadow:"none"},children:"Try another email"})]}):_.jsxs("form",{onSubmit:a,className:"auth-form",children:[i&&_.jsx("div",{className:"error-message",children:i}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"email",children:"Email Address"}),_.jsxs("div",{className:"input-wrapper",children:[_.jsx("input",{type:"email",id:"email",value:t,onChange:s=>e(s.target.value),placeholder:"Enter your email",required:!0}),_.jsx("span",{className:"input-icon",children:""})]})]}),_.jsx("button",{type:"submit",className:"auth-button",children:"Send Reset Link"})]}),_.jsx("div",{className:"auth-footer",children:_.jsxs("p",{children:["Remember your password?",_.jsx(Aa,{to:"/login",className:"auth-link",children:"Sign In"})]})})]})})]})},xbe=()=>{const[t,e]=j.useState({password:"",confirmPassword:""}),[n,r]=j.useState(""),i=Do(),o=s=>{e({...t,[s.target.name]:s.target.value}),r("")},a=s=>{if(s.preventDefault(),r(""),!t.password||!t.confirmPassword){r("Please fill in all fields");return}if(t.password!==t.confirmPassword){r("Passwords do not match");return}if(t.password.length<6){r("Password must be at least 6 characters");return}console.log("Password reset submitted"),alert("Password reset successfully! You can now login."),i("/login")};return _.jsxs("div",{className:"auth-container",children:[_.jsx("div",{className:"auth-image-section",children:_.jsxs("div",{className:"auth-image-overlay",children:[_.jsxs("h2",{children:["Secure Your",_.jsx("br",{}),"Account"]}),_.jsx("p",{children:"Choose a strong password to keep your health data safe and secure."})]})}),_.jsx("div",{className:"auth-form-section",children:_.jsxs("div",{className:"auth-card",children:[_.jsxs("div",{className:"auth-header",children:[_.jsxs("div",{className:"logo-container",children:[_.jsx("img",{src:"/logo.png",alt:"HomeCare",className:"logo-icon"}),_.jsx("span",{className:"logo-text",style:{fontWeight:"bold",fontSize:"1.2rem",color:"var(--text-main)"},children:"HomeCare"})]}),_.jsx("h2",{children:"Reset Password"}),_.jsx("p",{className:"welcome-text",children:"Create a new password for your account."})]}),_.jsxs("form",{onSubmit:a,className:"auth-form",children:[n&&_.jsx("div",{className:"error-message",children:n}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"password",children:"New Password"}),_.jsxs("div",{className:"input-wrapper",children:[_.jsx("input",{type:"password",id:"password",name:"password",value:t.password,onChange:o,placeholder:"Enter new password",required:!0}),_.jsx("span",{className:"input-icon",children:""})]})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),_.jsxs("div",{className:"input-wrapper",children:[_.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:o,placeholder:"Confirm new password",required:!0}),_.jsx("span",{className:"input-icon",children:""})]})]}),_.jsx("button",{type:"submit",className:"auth-button",children:"Reset Password"})]}),_.jsx("div",{className:"auth-footer",children:_.jsxs("p",{children:["Remember your password?",_.jsx(Aa,{to:"/login",className:"auth-link",children:"Sign In"})]})})]})})]})},Ebe=()=>{const t=Do(),{refreshUserData:e}=$o(),[n,r]=j.useState(1),[i,o]=j.useState({age:"",sex:"",height:"",weight:"",hasConditions:"",conditionDetails:"",takesMedication:"",hasCaretaker:"",caretakerName:"",caretakerPhone:""}),[a,s]=j.useState([]),[l,u]=j.useState({name:"",frequency:"",time:"",reminder:!1}),[c,f]=j.useState([]),[d,p]=j.useState(""),[m,g]=j.useState(""),[b,y]=j.useState(!1),[v,x]=j.useState(null);j.useEffect(()=>{g(""),y(!1),x(null)},[]);const O=4;j.useEffect(()=>{g(""),y(!1),x(null)},[n]);const S=F=>{o({...i,[F.target.name]:F.target.value}),m&&b&&v===n&&(g(""),x(null),y(!1))},A=()=>{if(y(!0),n===1&&(!i.age||!i.sex||!i.height||!i.weight)){g("Please fill out all required fields"),x(n);return}if(n===2){if(!i.hasConditions){g("Please fill out all required fields"),x(n);return}if(i.hasConditions==="yes"&&c.length===0){g("Please add at least one diagnosed condition"),x(n);return}}if(n===3){if(!i.takesMedication){g("Please fill out all required fields"),x(n);return}if(i.takesMedication==="yes"&&a.length===0){g("Please add at least one medication"),x(n);return}}g(""),y(!1),x(null),n<O&&r(n+1)},E=()=>{g(""),y(!1),x(null),n>1&&r(n-1)},T=async F=>{if(F.preventDefault(),n===4){if(y(!0),!i.hasCaretaker){g("Please fill out all required fields"),x(4);return}if(i.hasCaretaker==="yes"&&(!i.caretakerName||!i.caretakerPhone)){g("Please fill out all required fields"),x(4);return}g(""),y(!1),x(null);try{const D=Jf.currentUser;if(!D){g("Not authenticated. Please log in again.");return}if(await al(gn(ft,"users",D.uid),{name:D.displayName||"",age:parseInt(i.age)||0,height:i.height,weight:i.weight,sex:i.sex,conditions:i.hasConditions==="yes"?c.join(", "):"None",caretakerName:i.hasCaretaker==="yes"?i.caretakerName:"",caretakerPhone:i.hasCaretaker==="yes"?i.caretakerPhone:"",email:D.email||""}),i.takesMedication==="yes"&&a.length>0)for(const B of a)await al(gn(ft,"medications",`${D.uid}_${B.name}`),{userId:D.uid,name:B.name,frequency:B.frequency||"",time:B.time||"",reminder:B.reminder||!1,schedule:[],takenHistory:{}});await e(),t("/dashboard",{state:{justLoggedIn:!0}})}catch(D){console.error("Error saving onboarding data:",D),g("Failed to save your information. Please try again.")}}},P=n/O*100,N=({children:F})=>_.jsxs("span",{children:[F," ",_.jsx("span",{style:{color:"var(--color-danger)"},children:"*"})]}),R=()=>{if(!l.name){g("Please fill in medication name"),x(n),y(!0);return}s([...a,l]),u({name:"",frequency:"",time:"",reminder:!1}),g(""),x(null),y(!1)},C=F=>{s(a.filter((D,B)=>B!==F))},k=F=>{const D=F.target,B=D.type==="checkbox"?D.checked:D.value,W={...l,[D.name]:B};(D.name==="frequency"||D.name==="time")&&!B&&(W.reminder=!1),u(W),m&&(g(""),x(null),y(!1))},$=F=>{const D=a[F];if(!D.frequency||!D.time)return;const B=a.map((W,Q)=>Q===F?{...W,reminder:!W.reminder}:W);s(B)},L=()=>{if(!d.trim()){g("Please enter a condition name"),x(n),y(!0);return}if(c.includes(d.trim())){g("This condition is already added"),x(n),y(!0);return}f([...c,d.trim()]),p(""),g(""),x(null),y(!1)},U=F=>{f(c.filter((D,B)=>B!==F))};return _.jsx("div",{className:"auth-container onboarding-container",children:_.jsx("div",{className:"auth-form-section onboarding-section",children:_.jsxs("div",{className:"onboarding-card",children:[_.jsxs("div",{className:"progress-container",children:[_.jsxs("div",{className:"progress-header",children:[_.jsxs("span",{className:"progress-step",children:["Step ",n," of ",O]}),_.jsxs("span",{className:"progress-percentage",children:[Math.round(P),"%"]})]}),_.jsx("div",{className:"progress-bar-wrapper",children:_.jsx("div",{className:"progress-bar-fill",style:{width:`${P}%`}})})]}),_.jsxs("div",{className:"auth-header onboarding-header",children:[_.jsxs("h2",{className:"onboarding-title",children:[n===1&&"The Basics",n===2&&"Diagnosis",n===3&&"Medication",n===4&&"Caretaker Contact"]}),_.jsxs("p",{className:"welcome-text onboarding-subtitle",children:[n===1&&"Let's start with your physical stats.",n===2&&"Any conditions we should know about?",n===3&&"Do you take any medication?",n===4&&"Who should we call in an emergency?"]}),_.jsxs("span",{className:"required-hint",children:[_.jsx("span",{className:"required-asterisk",children:"*"})," indicates required field"]})]}),_.jsxs("form",{onSubmit:T,className:"auth-form onboarding-form",children:[n===1&&_.jsxs("div",{className:"step-content fade-in",children:[_.jsxs("div",{className:"form-grid",children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"age",children:_.jsx(N,{children:"Age"})}),_.jsx("input",{type:"number",id:"age",name:"age",value:i.age,onChange:S,placeholder:"e.g. 25",min:"0",onKeyDown:F=>{(F.key==="-"||F.key==="e")&&F.preventDefault()},autoFocus:!0,required:!0,className:"form-input"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"sex",children:_.jsx(N,{children:"Sex"})}),_.jsxs("select",{id:"sex",name:"sex",value:i.sex,onChange:S,required:!0,className:`form-select ${i.sex?"":"placeholder-selected"}`,children:[_.jsx("option",{value:"",disabled:!0,className:"placeholder-option",children:"Select..."}),_.jsx("option",{value:"Male",children:"Male"}),_.jsx("option",{value:"Female",children:"Female"}),_.jsx("option",{value:"Other",children:"Other"})]})]})]}),_.jsxs("div",{className:"form-grid form-grid-spaced",children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"height",children:_.jsx(N,{children:"Height (cm)"})}),_.jsx("input",{type:"number",id:"height",name:"height",value:i.height,onChange:S,placeholder:"e.g. 175",min:"90",max:"250",required:!0,className:`form-input ${i.height?"":"placeholder-time"}`,onKeyDown:F=>{(F.key==="-"||F.key==="e")&&F.preventDefault()}})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"weight",children:_.jsx(N,{children:"Weight (kg)"})}),_.jsx("input",{type:"number",id:"weight",name:"weight",value:i.weight,onChange:S,placeholder:"e.g. 70",min:"20",max:"200",required:!0,className:`form-input ${i.weight?"":"placeholder-time"}`,onKeyDown:F=>{(F.key==="-"||F.key==="e")&&F.preventDefault()}})]})]})]}),n===2&&_.jsxs("div",{className:"step-content fade-in",children:[_.jsxs("div",{className:"form-group medication-question",children:[_.jsx("label",{children:_.jsx(N,{children:"Do you have any diagnosed conditions?"})}),_.jsxs("div",{className:"radio-group",children:[_.jsxs("label",{className:"radio-label",children:[_.jsx("input",{type:"radio",name:"hasConditions",value:"yes",checked:i.hasConditions==="yes",onChange:S,autoFocus:!0}),_.jsx("span",{children:"Yes"})]}),_.jsxs("label",{className:"radio-label",children:[_.jsx("input",{type:"radio",name:"hasConditions",value:"no",checked:i.hasConditions==="no",onChange:S}),_.jsx("span",{children:"No"})]})]})]}),i.hasConditions==="yes"&&_.jsxs("div",{className:"medication-section-fade",children:[c.length>0&&_.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"1rem"},children:c.map((F,D)=>_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"var(--color-primary-light)",color:"var(--color-primary)",padding:"0.25rem 0.75rem",borderRadius:"16px",fontSize:"0.875rem",fontWeight:500},children:[F,_.jsx("button",{type:"button",onClick:()=>U(D),style:{background:"transparent",border:"none",color:"var(--color-primary)",cursor:"pointer",padding:0,display:"flex",alignItems:"center",fontSize:"1rem",lineHeight:1,opacity:.7},title:"Remove condition",children:""})]},D))}),_.jsxs("div",{className:"add-medication-form",children:[_.jsx("div",{className:"add-medication-title",children:"Add Diagnosis"}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"currentCondition",children:_.jsx(N,{children:"Condition Name"})}),_.jsx("input",{type:"text",id:"currentCondition",value:d,onChange:F=>p(F.target.value),onKeyDown:F=>{F.key==="Enter"&&(F.preventDefault(),L())},placeholder:"e.g. Diabetes, Hypertension",className:"form-input"})]}),_.jsx("button",{type:"button",onClick:L,className:"add-medication-btn",children:"+ Add Diagnosis"})]})]})]}),n===3&&_.jsxs("div",{className:"step-content fade-in",children:[_.jsxs("div",{className:"form-group medication-question",children:[_.jsx("label",{children:_.jsx(N,{children:"Do you take any medication?"})}),_.jsxs("div",{className:"radio-group",children:[_.jsxs("label",{className:"radio-label",children:[_.jsx("input",{type:"radio",name:"takesMedication",value:"yes",checked:i.takesMedication==="yes",onChange:S,autoFocus:!0}),_.jsx("span",{children:"Yes"})]}),_.jsxs("label",{className:"radio-label",children:[_.jsx("input",{type:"radio",name:"takesMedication",value:"no",checked:i.takesMedication==="no",onChange:S}),_.jsx("span",{children:"No"})]})]})]}),i.takesMedication==="yes"&&_.jsxs("div",{className:"medication-section-fade",children:[a.length>0&&_.jsx("div",{className:"medication-table-wrapper",children:_.jsxs("table",{className:"medication-table",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Medication"}),_.jsx("th",{children:"Frequency"}),_.jsx("th",{children:"Time"}),_.jsx("th",{children:"Notify"}),_.jsx("th",{})]})}),_.jsx("tbody",{children:a.map((F,D)=>_.jsxs("tr",{className:"medication-row",children:[_.jsx("td",{children:F.name||"--"}),_.jsx("td",{className:"capitalize",children:F.frequency?F.frequency.replace("-"," "):"--"}),_.jsx("td",{children:F.time||"--"}),_.jsx("td",{className:"notify-cell",children:_.jsx("label",{className:"notify-checkbox-label",children:_.jsx("input",{type:"checkbox",checked:F.reminder,onChange:()=>$(D),disabled:!F.frequency||!F.time,className:"notify-checkbox"})})}),_.jsx("td",{className:"delete-cell",children:_.jsx("button",{type:"button",onClick:()=>C(D),className:"delete-medication-btn-row",title:"Delete medication",children:""})})]},D))})]})}),_.jsxs("div",{className:"add-medication-form",children:[_.jsx("div",{className:"add-medication-title",children:"Add Medication"}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"currentMedicationName",children:_.jsx(N,{children:"Medication Name"})}),_.jsx("input",{type:"text",id:"currentMedicationName",name:"name",value:l.name,onChange:k,placeholder:"e.g. Aspirin",className:"form-input"})]}),_.jsxs("div",{className:"form-grid",children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"currentMedicationFrequency",children:"Frequency"}),_.jsxs("select",{id:"currentMedicationFrequency",name:"frequency",value:l.frequency,onChange:k,className:`form-select ${l.frequency?"":"placeholder-selected"}`,children:[_.jsx("option",{value:"",className:"placeholder-option",children:"Select frequency"}),_.jsx("option",{value:"daily",children:"Daily"}),_.jsx("option",{value:"weekly",children:"Weekly"}),_.jsx("option",{value:"as-needed",children:"As Needed"})]})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"currentMedicationTime",children:"Time"}),_.jsx("div",{className:"input-wrapper",children:_.jsx("input",{type:"time",id:"currentMedicationTime",name:"time",value:l.time,onChange:k,className:`form-input ${l.time?"":"placeholder-time"}`})})]})]}),_.jsxs("div",{className:"notify-form-group",children:[_.jsx("input",{type:"checkbox",name:"reminder",id:"medication-reminder",checked:l.reminder,onChange:k,disabled:!l.frequency||!l.time,className:"notify-checkbox"}),_.jsx("label",{htmlFor:"medication-reminder",className:"notify-checkbox-label-form",children:"Notify me to take this medication"})]}),_.jsx("button",{type:"button",onClick:R,className:"add-medication-btn",children:"+ Add Medication"})]})]})]}),n===4&&_.jsxs("div",{className:"step-content fade-in",children:[_.jsxs("div",{className:"form-group medication-question",children:[_.jsx("label",{className:"form-label",children:_.jsx(N,{children:"Would you like to add a caretaker contact?"})}),_.jsxs("div",{className:"radio-group",children:[_.jsxs("label",{className:"radio-label",children:[_.jsx("input",{type:"radio",name:"hasCaretaker",value:"yes",checked:i.hasCaretaker==="yes",onChange:S,autoFocus:!0}),_.jsx("span",{children:"Yes"})]}),_.jsxs("label",{className:"radio-label",children:[_.jsx("input",{type:"radio",name:"hasCaretaker",value:"no",checked:i.hasCaretaker==="no",onChange:S}),_.jsx("span",{children:"No"})]})]})]}),i.hasCaretaker==="yes"&&_.jsxs("div",{className:"medication-section-fade",children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"caretakerName",children:_.jsx(N,{children:"Caretaker Name"})}),_.jsx("input",{type:"text",id:"caretakerName",name:"caretakerName",value:i.caretakerName,onChange:S,placeholder:"Full Name",autoFocus:!0,required:!0,className:"form-input"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"caretakerPhone",children:_.jsx(N,{children:"Phone Number"})}),_.jsx("input",{type:"tel",id:"caretakerPhone",name:"caretakerPhone",value:i.caretakerPhone,onChange:S,placeholder:"(555) 000-0000",required:!0,className:"form-input"})]})]})]}),_.jsxs("div",{className:"onboarding-navigation",children:[m&&m.trim()!==""&&b===!0&&v!==null&&typeof v=="number"&&v===n?_.jsx("div",{className:"error-message onboarding-error",children:m}):null,_.jsxs("div",{className:"nav-buttons-row",children:[n>1&&_.jsxs("button",{type:"button",onClick:E,className:"nav-button nav-button-back",children:[_.jsx(Fq,{size:20})," Back"]},"back-btn"),n<O?_.jsxs("button",{type:"button",onClick:A,className:"nav-button nav-button-next",children:["Next ",_.jsx(Bq,{size:20})]},"next-btn"):_.jsxs("button",{type:"submit",className:"nav-button nav-button-submit",children:["Complete ",_.jsx(Vq,{size:20})]},"submit-btn")]})]})]})]})})})};function Sbe(){const t=ti(),e=["/login","/create-account","/forgot-password","/reset-password"].includes(t.pathname);return _.jsxs("div",{style:{position:"relative",minHeight:"100vh",paddingBottom:e?0:"2rem"},children:[!e&&_.jsx(Zq,{}),_.jsxs(l6,{children:[_.jsx(Wn,{path:"/login",element:_.jsx(_be,{})}),_.jsx(Wn,{path:"/create-account",element:_.jsx(wbe,{})}),_.jsx(Wn,{path:"/forgot-password",element:_.jsx(bbe,{})}),_.jsx(Wn,{path:"/reset-password",element:_.jsx(xbe,{})}),_.jsx(Wn,{path:"/onboarding",element:_.jsx(Ebe,{})}),_.jsx(Wn,{path:"/",element:_.jsx(xT,{to:"/login",replace:!0})}),_.jsx(Wn,{path:"/dashboard",element:_.jsx(Pwe,{})}),_.jsx(Wn,{path:"/session",element:_.jsx(Cwe,{})}),_.jsx(Wn,{path:"/settings",element:_.jsx(Owe,{})}),_.jsx(Wn,{path:"/medical",element:_.jsx(kwe,{})}),_.jsx(Wn,{path:"*",element:_.jsx(xT,{to:"/",replace:!0})})]})]})}function Tbe(){return _.jsx(N6,{children:_.jsx(Nq,{children:_.jsx(Sbe,{})})})}Yv.createRoot(document.getElementById("root")).render(_.jsx(V.StrictMode,{children:_.jsx(Tbe,{})}));
